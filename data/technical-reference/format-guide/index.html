
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Everything you need to build state-of-the-art foundation multimodal desktop agent, end-to-end.">
      
      
      
      
        <link rel="prev" href="../../getting-started/exploring-data/">
      
      
        <link rel="next" href="../custom-messages/">
      
      
      <link rel="icon" href="../../../images/owa-logo.jpg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>OWAMcap Format Guide - Open World Agents</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../termynal.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#owamcap-format-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Open World Agents" class="md-header__button md-logo" aria-label="Open World Agents" data-md-component="logo">
      
  <img src="../../../images/owa-logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Open World Agents
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              OWAMcap Format Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/open-world-agents/open-world-agents" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    open-world-agents
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Open World Agents" class="md-nav__button md-logo" aria-label="Open World Agents" data-md-component="logo">
      
  <img src="../../../images/owa-logo.jpg" alt="logo">

    </a>
    Open World Agents
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/open-world-agents/open-world-agents" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    open-world-agents
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Get Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Get Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome to OWA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    🚀 Quick Start Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../help_with_owa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Help with OWA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Env in OWA
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Env in OWA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment Framework
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../env/guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../env/custom_plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom EnvPlugin Development
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Lists of EnvPlugins
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Lists of EnvPlugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../env/plugins/std/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Standard Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../env/plugins/desktop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Desktop Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../env/plugins/gst/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gstreamer Environment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Data in OWA
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Data in OWA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/why-owamcap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Why OWAMcap?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/recording-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recording Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/exploring-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exploring Data
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Technical Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Technical Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    OWAMcap Format Guide
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    OWAMcap Format Guide
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Core Concepts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-terms" class="md-nav__link">
    <span class="md-ellipsis">
      Key Terms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-makes-a-file-owamcap" class="md-nav__link">
    <span class="md-ellipsis">
      What Makes a File "OWAMcap"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-message-types" class="md-nav__link">
    <span class="md-ellipsis">
      Core Message Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-owamcap" class="md-nav__link">
    <span class="md-ellipsis">
      Working with OWAMcap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with OWAMcap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#media-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Media Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-and-writing" class="md-nav__link">
    <span class="md-ellipsis">
      Reading and Writing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Storage &amp; Performance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage &amp; Performance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compression-benefits" class="md-nav__link">
    <span class="md-ellipsis">
      Compression Benefits
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-topics" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Topics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extending-owamcap" class="md-nav__link">
    <span class="md-ellipsis">
      Extending OWAMcap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extending OWAMcap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-message-types" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Message Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-pipeline-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Data Pipeline Integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#migration-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Migration &amp; Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migration &amp; Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-migration" class="md-nav__link">
    <span class="md-ellipsis">
      File Migration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Common Issues
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Technical Reference
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom-messages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Message Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    🚀 Data Pipeline (MCAP → VLA Training)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tools & Comparison
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Tools & Comparison
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/viewer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Viewer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/comparison-with-lerobot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comparison with LeRobot
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/conversions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Conversions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    CLI Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            CLI Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OWA CLI (owl) - Command Line Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Command Groups
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Command Groups
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/mcap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCAP Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/messages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Message Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Video Commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    🚀 Awesome Examples (WIP)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            🚀 Awesome Examples (WIP)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/multimodal_game_agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Game Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/gui_agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Omniparse + InternLM GUI Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/interactive_world_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interactve World Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/usage_with_transformers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage with transformers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/usage_with_llm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage with LLM Inference Engines(ollama, ...)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Core Concepts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-terms" class="md-nav__link">
    <span class="md-ellipsis">
      Key Terms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-makes-a-file-owamcap" class="md-nav__link">
    <span class="md-ellipsis">
      What Makes a File "OWAMcap"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-message-types" class="md-nav__link">
    <span class="md-ellipsis">
      Core Message Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-owamcap" class="md-nav__link">
    <span class="md-ellipsis">
      Working with OWAMcap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with OWAMcap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#media-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Media Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-and-writing" class="md-nav__link">
    <span class="md-ellipsis">
      Reading and Writing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Storage &amp; Performance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage &amp; Performance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compression-benefits" class="md-nav__link">
    <span class="md-ellipsis">
      Compression Benefits
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-topics" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Topics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extending-owamcap" class="md-nav__link">
    <span class="md-ellipsis">
      Extending OWAMcap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extending OWAMcap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-message-types" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Message Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-pipeline-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Data Pipeline Integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#migration-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Migration &amp; Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migration &amp; Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-migration" class="md-nav__link">
    <span class="md-ellipsis">
      File Migration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Common Issues
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Technical Reference
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="owamcap-format-guide">OWAMcap Format Guide<a class="headerlink" href="#owamcap-format-guide" title="Permanent link">&para;</a></h1>
<div class="admonition info">
<p class="admonition-title">What is OWAMcap?</p>
<p>OWAMcap is a specification for using the open-source <a href="https://mcap.dev/">MCAP</a> container format with Open World Agents (OWA) message definitions. It provides an efficient way to store and process multimodal desktop interaction data including screen captures, mouse events, keyboard events, and window information.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">New to OWAMcap?</p>
<p>Start with <strong><a href="../../getting-started/why-owamcap/">Why OWAMcap?</a></strong> to understand the problem it solves and why you should use it.</p>
</div>
<h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#getting-started">Getting Started</a><ul>
<li><a href="#quick-start">Quick Start</a> - Get started in 3 steps</li>
<li><a href="#core-concepts">Core Concepts</a> - Essential message types and features</li>
</ul>
</li>
<li><a href="#working-with-owamcap">Working with OWAMcap</a><ul>
<li><a href="#media-handling">Media Handling</a> - External references and lazy loading</li>
<li><a href="#reading-and-writing">Reading and Writing</a> - File operations and CLI tools</li>
<li><a href="#storage-performance">Storage &amp; Performance</a> - Efficiency characteristics</li>
</ul>
</li>
<li><a href="#advanced-topics">Advanced Topics</a><ul>
<li><a href="#extending-owamcap">Extending OWAMcap</a> - Custom message types and extensibility</li>
<li><a href="#data-pipeline-integration">Data Pipeline Integration</a> - Real-world integrations</li>
<li><a href="#best-practices">Best Practices</a> - Performance and organization guidelines</li>
</ul>
</li>
<li><a href="#reference">Reference</a><ul>
<li><a href="#migration-troubleshooting">Migration &amp; Troubleshooting</a> - Practical help and common issues</li>
<li><a href="#technical-reference">Technical Reference</a> - Specifications and standards</li>
</ul>
</li>
</ul>
<h2 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<h3 id="quick-start">Quick Start<a class="headerlink" href="#quick-start" title="Permanent link">&para;</a></h3>
<div class="admonition example">
<p class="admonition-title">Try OWAMcap in 3 Steps</p>
<p><strong>1. Install the packages:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pip<span class="w"> </span>install<span class="w"> </span>mcap-owa-support<span class="w"> </span>owa-msgs
</code></pre></div></p>
<p><strong>2. Explore an example file with the <code>owl</code> CLI:</strong></p>
<div class="admonition info">
<p class="admonition-title">What is <code>owl</code>?</p>
<p><code>owl</code> is the command-line interface for OWA tools, installed with <code>owa-cli</code>. See the <a href="../../../cli/">CLI documentation</a> for complete usage.</p>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Download example file</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>wget<span class="w"> </span>https://github.com/open-world-agents/open-world-agents/raw/main/docs/data/examples/example.mcap
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># View file info</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>owl<span class="w"> </span>mcap<span class="w"> </span>info<span class="w"> </span>example.mcap
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># List first 5 messages</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>owl<span class="w"> </span>mcap<span class="w"> </span>cat<span class="w"> </span>example.mcap<span class="w"> </span>--n<span class="w"> </span><span class="m">5</span>
</code></pre></div>
<p><strong>3. Load in Python:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">mcap_owa.highlevel</span><span class="w"> </span><span class="kn">import</span> <span class="n">OWAMcapReader</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="k">with</span> <span class="n">OWAMcapReader</span><span class="p">(</span><span class="s2">&quot;example.mcap&quot;</span><span class="p">,</span> <span class="n">decode_args</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;return_dict&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">topics</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;screen&quot;</span><span class="p">]):</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>        <span class="n">screen_data</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">decoded</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Frame: </span><span class="si">{</span><span class="n">screen_data</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2"> at </span><span class="si">{</span><span class="n">screen_data</span><span class="o">.</span><span class="n">utc_ns</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>        <span class="k">break</span>  <span class="c1"># Just show first frame</span>
</code></pre></div></p>
</div>
<h3 id="core-concepts">Core Concepts<a class="headerlink" href="#core-concepts" title="Permanent link">&para;</a></h3>
<p>OWAMcap combines the robustness of the MCAP container format with OWA's specialized message types for desktop environments, creating a powerful format for recording, analyzing, and training on human-computer interaction data.</p>
<h4 id="key-terms">Key Terms<a class="headerlink" href="#key-terms" title="Permanent link">&para;</a></h4>
<div class="admonition info">
<p class="admonition-title">Essential Terminology</p>
<ul>
<li><strong>MCAP</strong>: A modular container file format for heterogeneous, timestamped data (like a ZIP file for time-series data). Developed by <a href="https://mcap.dev/">Foxglove</a>, MCAP provides efficient random access, compression, and self-describing schemas. Widely adopted in robotics (ROS ecosystem), autonomous vehicles, and IoT applications for its performance and interoperability.</li>
<li><strong>Topic</strong>: A named channel in MCAP files (e.g., "screen", "mouse") that groups related messages</li>
<li><strong>Lazy Loading</strong>: Loading data only when needed, crucial for memory efficiency with large datasets</li>
</ul>
</div>
<h4 id="what-makes-a-file-owamcap">What Makes a File "OWAMcap"<a class="headerlink" href="#what-makes-a-file-owamcap" title="Permanent link">&para;</a></h4>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Architecture Overview</label><label for="__tabbed_1_2">Technical Definition</label><label for="__tabbed_1_3">Practical Example</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>┌─────────────────────────────────────────────────────────────┐
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>│                    OWAMcap File (.mcap)                     │
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────┐  │
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>│  │   Metadata      │  │   Timestamps    │  │  Messages   │  │
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>│  │   - Profile     │  │   - Nanosecond  │  │  - Mouse    │  │
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>│  │   - Topics      │  │     precision   │  │  - Keyboard │  │
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>│  │   - Schemas     │  │   - Event sync  │  │  - Window   │  │
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>│  └─────────────────┘  └─────────────────┘  └─────────────┘  │
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>└─────────────────────────────────────────────────────────────┘
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>                                │
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>                                │ References
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>                                ▼
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>┌─────────────────────────────────────────────────────────────┐
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>│                External Media Files (.mkv, .png)            │
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────┐  │
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>│  │  Video Frames   │  │  Screenshots    │  │   Audio     │  │
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>│  │  - H.265 codec  │  │  - PNG/JPEG     │  │  - Optional │  │
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>│  │  - Hardware acc │  │  - Lossless     │  │  - Sync&#39;d   │  │
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>│  └─────────────────┘  └─────────────────┘  └─────────────┘  │
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>└─────────────────────────────────────────────────────────────┘
</code></pre></div>
</div>
<div class="tabbed-block">
<ul>
<li><strong>Base Format</strong>: Standard <a href="https://mcap.dev/">MCAP</a> container format</li>
<li><strong>Profile</strong>: <code>owa</code> designation in MCAP metadata</li>
<li><strong>Schema Encoding</strong>: JSON Schema</li>
<li><strong>Message Interface</strong>: All messages implement <code>BaseMessage</code> from <code>owa.core.message</code></li>
<li><strong>Standard Messages</strong>: Core message types from <code>owa-msgs</code> package</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Why MCAP?</p>
<p>Built as the successor to ROSBag, MCAP offers efficient storage and retrieval for heterogeneous timestamped data with minimal dependencies. It's designed for modern use cases with optimized random access, built-in compression, and language-agnostic schemas. The format has gained significant adoption across the robotics community, autonomous vehicle companies (Cruise, Waymo), and IoT platforms due to its performance advantages and excellent tooling ecosystem.</p>
</div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>$<span class="w"> </span>owl<span class="w"> </span>mcap<span class="w"> </span>info<span class="w"> </span>example.mcap
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>library:<span class="w">   </span>mcap-owa-support<span class="w"> </span><span class="m">0</span>.5.1<span class="p">;</span><span class="w"> </span>mcap<span class="w"> </span><span class="m">1</span>.3.0
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>profile:<span class="w">   </span>owa
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>messages:<span class="w">  </span><span class="m">864</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>duration:<span class="w">  </span><span class="m">10</span>.3574349s
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>start:<span class="w">     </span><span class="m">2025</span>-06-27T18:49:52.129876+09:00<span class="w"> </span><span class="o">(</span><span class="m">1751017792</span>.129876000<span class="o">)</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>end:<span class="w">       </span><span class="m">2025</span>-06-27T18:50:02.4873109+09:00<span class="w"> </span><span class="o">(</span><span class="m">1751017802</span>.487310900<span class="o">)</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>compression:
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">        </span>zstd:<span class="w"> </span><span class="o">[</span><span class="m">1</span>/1<span class="w"> </span>chunks<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">116</span>.46<span class="w"> </span>KiB/16.61<span class="w"> </span>KiB<span class="w"> </span><span class="o">(</span><span class="m">85</span>.74%<span class="o">)]</span><span class="w"> </span><span class="o">[</span><span class="m">1</span>.60<span class="w"> </span>KiB/sec<span class="o">]</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>channels:
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">        </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span>window<span class="w">           </span><span class="m">11</span><span class="w"> </span>msgs<span class="w"> </span><span class="o">(</span><span class="m">1</span>.06<span class="w"> </span>Hz<span class="o">)</span><span class="w">    </span>:<span class="w"> </span>desktop/WindowInfo<span class="w"> </span><span class="o">[</span>jsonschema<span class="o">]</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">        </span><span class="o">(</span><span class="m">2</span><span class="o">)</span><span class="w"> </span>keyboard/state<span class="w">   </span><span class="m">11</span><span class="w"> </span>msgs<span class="w"> </span><span class="o">(</span><span class="m">1</span>.06<span class="w"> </span>Hz<span class="o">)</span><span class="w">    </span>:<span class="w"> </span>desktop/KeyboardState<span class="w"> </span><span class="o">[</span>jsonschema<span class="o">]</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">        </span><span class="o">(</span><span class="m">3</span><span class="o">)</span><span class="w"> </span>mouse/state<span class="w">      </span><span class="m">11</span><span class="w"> </span>msgs<span class="w"> </span><span class="o">(</span><span class="m">1</span>.06<span class="w"> </span>Hz<span class="o">)</span><span class="w">    </span>:<span class="w"> </span>desktop/MouseState<span class="w"> </span><span class="o">[</span>jsonschema<span class="o">]</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">        </span><span class="o">(</span><span class="m">4</span><span class="o">)</span><span class="w"> </span>screen<span class="w">          </span><span class="m">590</span><span class="w"> </span>msgs<span class="w"> </span><span class="o">(</span><span class="m">56</span>.96<span class="w"> </span>Hz<span class="o">)</span><span class="w">   </span>:<span class="w"> </span>desktop/ScreenCaptured<span class="w"> </span><span class="o">[</span>jsonschema<span class="o">]</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">        </span><span class="o">(</span><span class="m">5</span><span class="o">)</span><span class="w"> </span>mouse<span class="w">           </span><span class="m">209</span><span class="w"> </span>msgs<span class="w"> </span><span class="o">(</span><span class="m">20</span>.18<span class="w"> </span>Hz<span class="o">)</span><span class="w">   </span>:<span class="w"> </span>desktop/MouseEvent<span class="w"> </span><span class="o">[</span>jsonschema<span class="o">]</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">        </span><span class="o">(</span><span class="m">6</span><span class="o">)</span><span class="w"> </span>keyboard<span class="w">         </span><span class="m">32</span><span class="w"> </span>msgs<span class="w"> </span><span class="o">(</span><span class="m">3</span>.09<span class="w"> </span>Hz<span class="o">)</span><span class="w">    </span>:<span class="w"> </span>desktop/KeyboardEvent<span class="w"> </span><span class="o">[</span>jsonschema<span class="o">]</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>channels:<span class="w"> </span><span class="m">6</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>attachments:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>metadata:<span class="w"> </span><span class="m">0</span>
</code></pre></div>
</div>
</div>
</div>
<h4 id="key-features">Key Features<a class="headerlink" href="#key-features" title="Permanent link">&para;</a></h4>
<!-- SYNC-ID: owamcap-key-features -->
<ul>
<li>🔄 <strong>Universal Standard</strong>: Unlike fragmented formats, enables seamless dataset combination for large-scale foundation models <em>(OWAMcap)</em></li>
<li>🎯 <strong>High-Performance Multimodal Storage</strong>: Lightweight <a href="https://mcap.dev/">MCAP</a> container with nanosecond precision for synchronized data streams <em>(MCAP)</em></li>
<li>🔗 <strong>Flexible MediaRef</strong>: Smart references to both external and embedded media (file paths, URLs, data URIs, video frames) with lazy loading - keeps metadata files small while supporting rich media <em>(OWAMcap)</em> → <a href="#media-handling">Learn more</a></li>
<li>🤗 <strong>Training Pipeline Ready</strong>: Native HuggingFace integration, seamless dataset loading, and direct compatibility with ML frameworks <em>(Ecosystem)</em> → <a href="https://huggingface.co/datasets?other=OWA">Browse datasets</a> | <a href="https://open-world-agents.github.io/open-world-agents/data/technical-reference/data-pipeline/">Data pipeline</a></li>
</ul>
<!-- END-SYNC: owamcap-key-features -->

<h4 id="core-message-types">Core Message Types<a class="headerlink" href="#core-message-types" title="Permanent link">&para;</a></h4>
<p>OWA provides standardized message types through the <code>owa-msgs</code> package for consistent desktop interaction recording:</p>
<table>
<thead>
<tr>
<th>Message Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>desktop/KeyboardEvent</code></td>
<td>Keyboard press/release events</td>
</tr>
<tr>
<td><code>desktop/KeyboardState</code></td>
<td>Current keyboard state</td>
</tr>
<tr>
<td><code>desktop/MouseEvent</code></td>
<td>Mouse movement, clicks, scrolls</td>
</tr>
<tr>
<td><code>desktop/MouseState</code></td>
<td>Current mouse position and buttons</td>
</tr>
<tr>
<td><code>desktop/RawMouseEvent</code></td>
<td>High-definition raw mouse input data</td>
</tr>
<tr>
<td><code>desktop/ScreenCaptured</code></td>
<td>Screen capture frames with timestamps</td>
</tr>
<tr>
<td><code>desktop/WindowInfo</code></td>
<td>Active window information</td>
</tr>
</tbody>
</table>
<div class="tabbed-set tabbed-alternate" data-tabs="2:7"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><input id="__tabbed_2_5" name="__tabbed_2" type="radio" /><input id="__tabbed_2_6" name="__tabbed_2" type="radio" /><input id="__tabbed_2_7" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">KeyboardEvent</label><label for="__tabbed_2_2">KeyboardState</label><label for="__tabbed_2_3">MouseEvent</label><label for="__tabbed_2_4">MouseState</label><label for="__tabbed_2_5">RawMouseEvent</label><label for="__tabbed_2_6">ScreenCaptured</label><label for="__tabbed_2_7">WindowInfo</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">KeyboardEvent</span><span class="p">(</span><span class="n">OWAMessage</span><span class="p">):</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    <span class="n">_type</span> <span class="o">=</span> <span class="s2">&quot;desktop/KeyboardEvent&quot;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    <span class="n">event_type</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># &quot;press&quot; or &quot;release&quot;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    <span class="n">vk</span><span class="p">:</span> <span class="nb">int</span>         <span class="c1"># Virtual key code (e.g., 65 for &#39;A&#39;)</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="n">timestamp</span><span class="p">:</span> <span class="nb">int</span>  <span class="c1"># Event timestamp</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="c1"># Example: User presses the &#39;A&#39; key</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="n">KeyboardEvent</span><span class="p">(</span><span class="n">event_type</span><span class="o">=</span><span class="s2">&quot;press&quot;</span><span class="p">,</span> <span class="n">vk</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="mi">1234567890</span><span class="p">)</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">What's VK (Virtual Key Code)?</p>
<p>Operating systems don't directly use the physical keyboard input values (scan codes) but instead use virtualized keys called VKs. OWA's recorder uses VKs to record keyboard-agnostic data. If you're interested in more details, you can refer to the following resources:</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/windows/win32/inputdev/about-keyboard-input">Keyboard Input Overview, Microsoft</a></li>
<li><a href="https://learn.microsoft.com/en-us/windows/win32/inputdev/virtual-key-codes">Virtual-Key Codes, Microsoft</a></li>
</ul>
</div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">KeyboardState</span><span class="p">(</span><span class="n">OWAMessage</span><span class="p">):</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    <span class="n">_type</span> <span class="o">=</span> <span class="s2">&quot;desktop/KeyboardState&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    <span class="n">buttons</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>  <span class="c1"># List of currently pressed virtual key codes</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="c1"># Example: No keys currently pressed</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="n">KeyboardState</span><span class="p">(</span><span class="n">buttons</span><span class="o">=</span><span class="p">[])</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">MouseEvent</span><span class="p">(</span><span class="n">OWAMessage</span><span class="p">):</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    <span class="n">_type</span> <span class="o">=</span> <span class="s2">&quot;desktop/MouseEvent&quot;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="n">event_type</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># &quot;move&quot;, &quot;click&quot;, &quot;scroll&quot;, &quot;drag&quot;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="n">x</span><span class="p">:</span> <span class="nb">int</span>          <span class="c1"># Screen X coordinate</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    <span class="n">y</span><span class="p">:</span> <span class="nb">int</span>          <span class="c1"># Screen Y coordinate</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    <span class="n">button</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>    <span class="c1"># &quot;left&quot;, &quot;right&quot;, &quot;middle&quot;</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="c1"># Example: Mouse click at position (100, 200)</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="n">MouseEvent</span><span class="p">(</span><span class="n">event_type</span><span class="o">=</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">button</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">MouseState</span><span class="p">(</span><span class="n">OWAMessage</span><span class="p">):</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>    <span class="n">_type</span> <span class="o">=</span> <span class="s2">&quot;desktop/MouseState&quot;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    <span class="n">x</span><span class="p">:</span> <span class="nb">int</span>                    <span class="c1"># Current mouse X coordinate</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    <span class="n">y</span><span class="p">:</span> <span class="nb">int</span>                    <span class="c1"># Current mouse Y coordinate</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>    <span class="n">buttons</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>   <span class="c1"># Currently pressed mouse buttons</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="c1"># Example: Mouse at position with no buttons pressed</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="n">MouseState</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1594</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1112</span><span class="p">,</span> <span class="n">buttons</span><span class="o">=</span><span class="p">[])</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">RawMouseEvent</span><span class="p">(</span><span class="n">OWAMessage</span><span class="p">):</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="n">_type</span> <span class="o">=</span> <span class="s2">&quot;desktop/RawMouseEvent&quot;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    <span class="n">us_flags</span><span class="p">:</span> <span class="n">mouse</span> <span class="n">state</span> <span class="n">flags</span><span class="p">,</span> <span class="n">containing</span> <span class="n">movement</span> <span class="n">data</span> <span class="nb">type</span> <span class="p">(</span><span class="n">relative</span><span class="o">/</span><span class="n">absolute</span><span class="p">)</span><span class="o">.</span> <span class="n">Default</span> <span class="ow">is</span> <span class="n">relative</span><span class="o">.</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    <span class="n">last_x</span><span class="p">:</span> <span class="n">can</span> <span class="n">be</span> <span class="n">relative</span> <span class="ow">or</span> <span class="n">absolute</span><span class="p">,</span> <span class="n">depends</span> <span class="n">on</span> <span class="n">us_flags</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    <span class="n">last_y</span><span class="p">:</span> <span class="n">can</span> <span class="n">be</span> <span class="n">relative</span> <span class="ow">or</span> <span class="n">absolute</span><span class="p">,</span> <span class="n">depends</span> <span class="n">on</span> <span class="n">us_flags</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>    <span class="n">button_flags</span><span class="p">:</span> <span class="n">Raw</span> <span class="n">button</span> <span class="n">state</span> <span class="n">flags</span> <span class="kn">from</span><span class="w"> </span><span class="nn">Windows</span> <span class="n">RAWMOUSE</span> <span class="n">structure</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>    <span class="n">button_data</span><span class="p">:</span> <span class="n">Additional</span> <span class="n">button</span> <span class="n">data</span> <span class="p">(</span><span class="n">wheel</span> <span class="n">delta</span><span class="p">,</span> <span class="n">etc</span><span class="o">.</span><span class="p">)</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>    <span class="n">device_handle</span><span class="p">:</span> <span class="n">Raw</span> <span class="nb">input</span> <span class="n">device</span> <span class="n">handle</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>    <span class="n">timestamp</span><span class="p">:</span> <span class="n">Optional</span> <span class="n">timestamp</span> <span class="ow">in</span> <span class="n">nanoseconds</span> <span class="n">since</span> <span class="n">epoch</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="c1"># Example: Raw mouse movement</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="n">RawMouseEvent</span><span class="p">(</span><span class="n">us_flags</span><span class="o">=</span><span class="mh">0x0000</span><span class="p">,</span> <span class="n">last_x</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">last_y</span><span class="o">=-</span><span class="mi">10</span><span class="p">,</span> <span class="n">button_flags</span><span class="o">=</span><span class="mh">0x0000</span><span class="p">,</span> <span class="n">button_data</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ScreenCaptured</span><span class="p">(</span><span class="n">OWAMessage</span><span class="p">):</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    <span class="n">_type</span> <span class="o">=</span> <span class="s2">&quot;desktop/ScreenCaptured&quot;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    <span class="n">utc_ns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>                    <span class="c1"># System timestamp (nanoseconds)</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>    <span class="n">source_shape</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Original (width, height)</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>    <span class="n">shape</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>         <span class="c1"># Current (width, height)</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>    <span class="n">media_ref</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">MediaRef</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>            <span class="c1"># URI or file path reference</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>    <span class="n">frame_arr</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>          <span class="c1"># In-memory BGRA array (excluded from JSON)</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Working with ScreenCaptured Messages</p>
<p>For detailed information on creating, loading, and working with ScreenCaptured messages, see the <strong><a href="#media-handling">Media Handling</a></strong> section below. It covers MediaRef formats, lazy loading, and practical usage patterns.</p>
</div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">WindowInfo</span><span class="p">(</span><span class="n">OWAMessage</span><span class="p">):</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    <span class="n">_type</span> <span class="o">=</span> <span class="s2">&quot;desktop/WindowInfo&quot;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>              <span class="c1"># Window title text</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>    <span class="n">rect</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>         <span class="c1"># [x, y, width, height]</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>    <span class="n">hWnd</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>     <span class="c1"># Windows handle (platform-specific)</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="c1"># Example: Browser window</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="n">WindowInfo</span><span class="p">(</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;GitHub - Open World Agents - Chrome&quot;</span><span class="p">,</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>    <span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">1200</span><span class="p">,</span> <span class="mi">800</span><span class="p">]</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="working-with-owamcap">Working with OWAMcap<a class="headerlink" href="#working-with-owamcap" title="Permanent link">&para;</a></h2>
<p>This section covers the essential operations for working with OWAMcap files in your applications. Whether you're processing recorded desktop sessions or creating new datasets, these patterns will help you work efficiently with the format.</p>
<h3 id="media-handling">Media Handling<a class="headerlink" href="#media-handling" title="Permanent link">&para;</a></h3>
<p>OWAMcap's key advantage is efficient media handling through external media references. Instead of storing large image/video data directly in the MCAP file, OWAMcap stores lightweight references to external media files, keeping the MCAP file small and fast to process.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Creating ScreenCaptured Messages</label><label for="__tabbed_3_2">Loading and Accessing Frame Data</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="admonition tip">
<p class="admonition-title">Understanding MediaRef</p>
<p>MediaRef is OWAMcap's way of referencing media content. It supports multiple formats:</p>
<ul>
<li><strong>File paths</strong>: <code>/absolute/path</code> or <code>relative/path</code></li>
<li><strong>File URIs</strong>: <code>file:///path/to/file</code></li>
<li><strong>HTTP URLs</strong>: <code>https://example.com/image.png</code></li>
<li><strong>Data URIs</strong>: <code>data:image/png;base64,...</code> (embedded content)</li>
</ul>
<p>For videos, add <code>pts_ns</code> (presentation timestamp) to specify which frame.</p>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">owa.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">MESSAGES</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="n">ScreenCaptured</span> <span class="o">=</span> <span class="n">MESSAGES</span><span class="p">[</span><span class="s1">&#39;desktop/ScreenCaptured&#39;</span><span class="p">]</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="c1"># File paths (absolute/relative) - works for images and videos</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="n">screen_msg</span> <span class="o">=</span> <span class="n">ScreenCaptured</span><span class="p">(</span><span class="n">media_ref</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/absolute/path/image.png&quot;</span><span class="p">})</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="n">screen_msg</span> <span class="o">=</span> <span class="n">ScreenCaptured</span><span class="p">(</span><span class="n">media_ref</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;relative/video.mkv&quot;</span><span class="p">,</span> <span class="s2">&quot;pts_ns&quot;</span><span class="p">:</span> <span class="mi">123456</span><span class="p">})</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="c1"># File URIs - works for images and videos</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="n">screen_msg</span> <span class="o">=</span> <span class="n">ScreenCaptured</span><span class="p">(</span><span class="n">media_ref</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;file:///path/to/image.jpg&quot;</span><span class="p">})</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="n">screen_msg</span> <span class="o">=</span> <span class="n">ScreenCaptured</span><span class="p">(</span><span class="n">media_ref</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;file:///path/to/video.mp4&quot;</span><span class="p">,</span> <span class="s2">&quot;pts_ns&quot;</span><span class="p">:</span> <span class="mi">123456</span><span class="p">})</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="c1"># HTTP/HTTPS URLs - works for images and videos</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="n">screen_msg</span> <span class="o">=</span> <span class="n">ScreenCaptured</span><span class="p">(</span><span class="n">media_ref</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.com/image.png&quot;</span><span class="p">})</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="n">screen_msg</span> <span class="o">=</span> <span class="n">ScreenCaptured</span><span class="p">(</span><span class="n">media_ref</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.com/video.mp4&quot;</span><span class="p">,</span> <span class="s2">&quot;pts_ns&quot;</span><span class="p">:</span> <span class="mi">123456</span><span class="p">})</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="c1"># Data URIs (embedded base64) - typically for images</span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="n">screen_msg</span> <span class="o">=</span> <span class="n">ScreenCaptured</span><span class="p">(</span><span class="n">media_ref</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;data:image/png;base64,iVBORw0KGgo...&quot;</span><span class="p">})</span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="c1"># From raw image array (BGRA format required)</span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="n">bgra_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="p">(</span><span class="mi">1080</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="n">screen_msg</span> <span class="o">=</span> <span class="n">ScreenCaptured</span><span class="p">(</span><span class="n">frame_arr</span><span class="o">=</span><span class="n">bgra_array</span><span class="p">)</span>
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="n">screen_msg</span><span class="o">.</span><span class="n">embed_as_data_uri</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>  <span class="c1"># Required for serialization</span>
<a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="c1"># Now screen_msg.media_ref contains: {&quot;uri&quot;: &quot;data:image/png;base64,...&quot;}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="admonition info">
<p class="admonition-title">Why Lazy Loading Matters</p>
<p><strong>Lazy Loading</strong> means frame data is only loaded when you explicitly request it. This is crucial for performance:</p>
<ul>
<li>✅ <strong>Fast</strong>: Iterate through thousands of messages instantly</li>
<li>✅ <strong>Memory efficient</strong>: Only load frames you actually need</li>
<li>✅ <strong>Scalable</strong>: Work with datasets larger than your RAM</li>
</ul>
<p>Without lazy loading, opening a 1-hour recording would try to load ~200GB of frame data into memory!</p>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># IMPORTANT: For MCAP files, resolve relative paths first</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1"># The OWA recorder saves media paths relative to the MCAP file location</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="n">ScreenCaptured</span> <span class="o">=</span> <span class="n">MESSAGES</span><span class="p">[</span><span class="s1">&#39;desktop/ScreenCaptured&#39;</span><span class="p">]</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="n">screen_msg</span> <span class="o">=</span> <span class="n">ScreenCaptured</span><span class="p">(</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    <span class="n">media_ref</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;relative/video.mkv&quot;</span><span class="p">,</span> <span class="s2">&quot;pts_ns&quot;</span><span class="p">:</span> <span class="mi">123456789</span><span class="p">}</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="p">)</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="c1"># Must resolve external paths before loading from MCAP files</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="n">screen_msg</span><span class="o">.</span><span class="n">resolve_relative_path</span><span class="p">(</span><span class="s2">&quot;/path/to/data.mcap&quot;</span><span class="p">)</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="c1"># Lazy loading: Frame data is loaded on-demand when these methods are called</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="n">rgb_array</span> <span class="o">=</span> <span class="n">screen_msg</span><span class="o">.</span><span class="n">to_rgb_array</span><span class="p">()</span>        <span class="c1"># RGB numpy array (most common)</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="n">pil_image</span> <span class="o">=</span> <span class="n">screen_msg</span><span class="o">.</span><span class="n">to_pil_image</span><span class="p">()</span>        <span class="c1"># PIL Image object</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="n">bgra_array</span> <span class="o">=</span> <span class="n">screen_msg</span><span class="o">.</span><span class="n">load_frame_array</span><span class="p">()</span>   <span class="c1"># Raw BGRA array (native format)</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="c1"># Check if frame data is loaded (lazy loading means it starts as None)</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="k">if</span> <span class="n">screen_msg</span><span class="o">.</span><span class="n">frame_arr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>    <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">channels</span> <span class="o">=</span> <span class="n">screen_msg</span><span class="o">.</span><span class="n">frame_arr</span><span class="o">.</span><span class="n">shape</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Frame: </span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">channels</span><span class="si">}</span><span class="s2"> channels&quot;</span><span class="p">)</span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="k">else</span><span class="p">:</span>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Frame data not loaded - use load_frame_array() first&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="reading-and-writing">Reading and Writing<a class="headerlink" href="#reading-and-writing" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="4:4"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><input id="__tabbed_4_4" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Reading</label><label for="__tabbed_4_2">Writing</label><label for="__tabbed_4_3">Advanced</label><label for="__tabbed_4_4">CLI Tools</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">mcap_owa.highlevel</span><span class="w"> </span><span class="kn">import</span> <span class="n">OWAMcapReader</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="k">with</span> <span class="n">OWAMcapReader</span><span class="p">(</span><span class="s2">&quot;session.mcap&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    <span class="c1"># File metadata</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Topics: </span><span class="si">{</span><span class="n">reader</span><span class="o">.</span><span class="n">topics</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duration: </span><span class="si">{</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">end_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">reader</span><span class="o">.</span><span class="n">start_time</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">1e9</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>    <span class="c1"># Lazy loading advantage: Fast iteration without loading frame data</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>    <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">topics</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;screen&quot;</span><span class="p">]):</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>        <span class="n">screen_data</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">decoded</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Frame metadata: </span><span class="si">{</span><span class="n">screen_data</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2"> at </span><span class="si">{</span><span class="n">screen_data</span><span class="o">.</span><span class="n">utc_ns</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>        <span class="c1"># No frame data loaded yet - extremely fast for large datasets</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>        <span class="c1"># Only load frame data when actually needed</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>        <span class="k">if</span> <span class="n">some_condition</span><span class="p">:</span>  <span class="c1"># e.g., every 10th frame</span>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>            <span class="n">frame</span> <span class="o">=</span> <span class="n">screen_data</span><span class="o">.</span><span class="n">to_rgb_array</span><span class="p">()</span>  <span class="c1"># Now frame is loaded</span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>            <span class="k">break</span>  <span class="c1"># Just show first frame</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">mcap_owa.highlevel</span><span class="w"> </span><span class="kn">import</span> <span class="n">OWAMcapWriter</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">owa.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">MESSAGES</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="n">ScreenCaptured</span> <span class="o">=</span> <span class="n">MESSAGES</span><span class="p">[</span><span class="s1">&#39;desktop/ScreenCaptured&#39;</span><span class="p">]</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">MouseEvent</span> <span class="o">=</span> <span class="n">MESSAGES</span><span class="p">[</span><span class="s1">&#39;desktop/MouseEvent&#39;</span><span class="p">]</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="k">with</span> <span class="n">OWAMcapWriter</span><span class="p">(</span><span class="s2">&quot;output.mcap&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>    <span class="c1"># Write screen capture</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>    <span class="n">screen_msg</span> <span class="o">=</span> <span class="n">ScreenCaptured</span><span class="p">(</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>        <span class="n">utc_ns</span><span class="o">=</span><span class="mi">1234567890</span><span class="p">,</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>        <span class="n">media_ref</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;video.mkv&quot;</span><span class="p">,</span> <span class="s2">&quot;pts_ns&quot;</span><span class="p">:</span> <span class="mi">1234567890</span><span class="p">},</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>        <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">)</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>    <span class="p">)</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>    <span class="n">writer</span><span class="o">.</span><span class="n">write_message</span><span class="p">(</span><span class="n">screen_msg</span><span class="p">,</span> <span class="n">topic</span><span class="o">=</span><span class="s2">&quot;screen&quot;</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="mi">1234567890</span><span class="p">)</span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>    <span class="c1"># Write standard mouse event</span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>    <span class="n">mouse_msg</span> <span class="o">=</span> <span class="n">MouseEvent</span><span class="p">(</span><span class="n">event_type</span><span class="o">=</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>    <span class="n">writer</span><span class="o">.</span><span class="n">write_message</span><span class="p">(</span><span class="n">mouse_msg</span><span class="p">,</span> <span class="n">topic</span><span class="o">=</span><span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="mi">1234567891</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># Time range filtering</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="k">with</span> <span class="n">OWAMcapReader</span><span class="p">(</span><span class="s2">&quot;session.mcap&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    <span class="n">start_time</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">start_time</span> <span class="o">+</span> <span class="mi">1_000_000_000</span>  <span class="c1"># Skip first second</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>    <span class="n">end_time</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">start_time</span> <span class="o">+</span> <span class="mi">10_000_000_000</span>   <span class="c1"># First 10 seconds</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>    <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">):</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Message in range: </span><span class="si">{</span><span class="n">msg</span><span class="o">.</span><span class="n">topic</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="c1"># Remote files</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="k">with</span> <span class="n">OWAMcapReader</span><span class="p">(</span><span class="s2">&quot;https://example.com/data.mcap&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>    <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">topics</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;screen&quot;</span><span class="p">]):</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Remote frame: </span><span class="si">{</span><span class="n">msg</span><span class="o">.</span><span class="n">decoded</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># File information</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>owl<span class="w"> </span>mcap<span class="w"> </span>info<span class="w"> </span>session.mcap
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="c1"># List messages</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>owl<span class="w"> </span>mcap<span class="w"> </span>cat<span class="w"> </span>session.mcap<span class="w"> </span>--n<span class="w"> </span><span class="m">10</span><span class="w"> </span>--topics<span class="w"> </span>screen<span class="w"> </span>--topics<span class="w"> </span>mouse
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="c1"># Migrate between versions</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>owl<span class="w"> </span>mcap<span class="w"> </span>migrate<span class="w"> </span>run<span class="w"> </span>session.mcap
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="c1"># Extract frames</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>owl<span class="w"> </span>mcap<span class="w"> </span>extract-frames<span class="w"> </span>session.mcap<span class="w"> </span>--output<span class="w"> </span>frames/
</code></pre></div>
</div>
</div>
</div>
<h3 id="storage-performance">Storage &amp; Performance<a class="headerlink" href="#storage-performance" title="Permanent link">&para;</a></h3>
<p>OWAMcap achieves remarkable storage efficiency through external video references and intelligent compression:</p>
<h4 id="compression-benefits">Compression Benefits<a class="headerlink" href="#compression-benefits" title="Permanent link">&para;</a></h4>
<div class="admonition info">
<p class="admonition-title">Compression Performance</p>
<p>Compression performance varies significantly across formats. H.265 encoding achieves a 217.8× compression ratio compared to raw BGRA data while maintaining visual quality suitable for agent training, enabling practical storage of large-scale desktop interaction datasets.</p>
</div>
<p>Desktop screen capture at 1920 × 1080 resolution, 12 s @ 60 Hz:</p>
<table>
<thead>
<tr>
<th>Format</th>
<th style="text-align: right;">Size per Frame</th>
<th style="text-align: right;">Whole Size</th>
<th>Compression Ratio</th>
</tr>
</thead>
<tbody>
<tr>
<td>Raw BGRA</td>
<td style="text-align: right;">5.97 MB</td>
<td style="text-align: right;">4.2 GB</td>
<td>1.0× (baseline)</td>
</tr>
<tr>
<td>PNG</td>
<td style="text-align: right;">1.87 MB</td>
<td style="text-align: right;">1.31 GB</td>
<td>3.2×</td>
</tr>
<tr>
<td>JPEG (Quality 85)</td>
<td style="text-align: right;">191 KB</td>
<td style="text-align: right;">135 MB</td>
<td>31.9×</td>
</tr>
<tr>
<td>H.265 (keyframe 0.5s, nvd3d11h265enc)</td>
<td style="text-align: right;">27.8 KB avg</td>
<td style="text-align: right;">19.6 MB</td>
<td>217.8×</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Compression benefit per resolution</p>
<p>Compression performance is resolution-dependent. Lower resolutions yield lower compression ratios.</p>
</div>
<p>Desktop screen capture at 600 × 800 resolution, 13 s @ 60 Hz:</p>
<table>
<thead>
<tr>
<th>Format</th>
<th style="text-align: right;">Size per Frame</th>
<th style="text-align: right;">Whole Size</th>
<th>Compression Ratio</th>
</tr>
</thead>
<tbody>
<tr>
<td>Raw BGRA</td>
<td style="text-align: right;">1.37 MB</td>
<td style="text-align: right;">1.0 GB</td>
<td>1.0× (baseline)</td>
</tr>
<tr>
<td>PNG</td>
<td style="text-align: right;">468 KB</td>
<td style="text-align: right;">341 MB</td>
<td>3.0×</td>
</tr>
<tr>
<td>JPEG (Quality 85)</td>
<td style="text-align: right;">64.6 KB</td>
<td style="text-align: right;">47.2 MB</td>
<td>21.7×</td>
</tr>
<tr>
<td>H.265 (keyframe 0.5s, nvd3d11h265enc)</td>
<td style="text-align: right;">15.3 KB avg</td>
<td style="text-align: right;">11.2 MB</td>
<td>91.7×</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">H.265 Configuration</p>
<p>The H.265 settings shown above (keyframe 0.5s, nvd3d11h265enc) are the same as those used by <a href="../../getting-started/recording-data/">ocap</a> for efficient desktop recording.</p>
</div>
<p><strong>Key advantages:</strong></p>
<ul>
<li><strong>Lightweight MCAP:</strong> very fast to parse, transfer, and back up  </li>
<li><strong>Video Compression:</strong> leverages hardware-accelerated codecs for extreme savings  </li>
<li><strong>Selective Loading:</strong> grab only the frames you need without full decompression  </li>
<li><strong>Standard Tools:</strong> preview in any video player and edit with off-the-shelf software  </li>
</ul>
<h2 id="advanced-topics">Advanced Topics<a class="headerlink" href="#advanced-topics" title="Permanent link">&para;</a></h2>
<h3 id="extending-owamcap">Extending OWAMcap<a class="headerlink" href="#extending-owamcap" title="Permanent link">&para;</a></h3>
<h4 id="custom-message-types">Custom Message Types<a class="headerlink" href="#custom-message-types" title="Permanent link">&para;</a></h4>
<p>Need to store domain-specific data beyond standard desktop interactions? OWAMcap supports custom message types for sensors, gaming, robotics, and more.</p>
<div class="admonition info">
<p class="admonition-title">Custom Messages Documentation</p>
<p><strong><a href="../custom-messages/">📖 Custom Message Types Guide</a></strong> - Complete guide to creating, registering, and using custom message types in OWAMcap.</p>
<p>Covers: message creation, package registration, best practices, and CLI integration.</p>
</div>
<h3 id="data-pipeline-integration">Data Pipeline Integration<a class="headerlink" href="#data-pipeline-integration" title="Permanent link">&para;</a></h3>
<div class="termy" data-termynal data-ty-macos data-ty-title="bash"><span data-ty="input" data-ty-prompt="$"># 1. Record desktop interaction</span><span data-ty="input" data-ty-prompt="$">ocap my-session.mcap</span><span data-ty>🎥 Recording desktop interaction...<br>✓ Saved 1,247 events to my-session.mcap<br><br></span><span data-ty="input" data-ty-prompt="$"># 2. Process to training format</span><span data-ty="input" data-ty-prompt="$">python scripts/01_raw_events_to_event_dataset.py --train-dir ./</span><span data-ty>🔄 Raw Events to Event Dataset<br>📁 Loading from: ./<br>📊 Found 1 train files</span><span data-ty="progress"></span><span data-ty>✓ Created 1,247 train examples<br>💾 Saving to ./event-dataset<br>✓ Saved successfully<br><br></span><span data-ty="input" data-ty-prompt="$"># 3. Train your model</span><span data-ty="input" data-ty-prompt="$">python train.py --dataset ./event-dataset</span><span data-ty>🚀 Loading dataset...<br>🏋️ Training desktop agent...<br>📈 Epoch 1/10: loss=0.234<br></span></div>

<p><strong>Pipeline Benefits:</strong></p>
<!-- SYNC-ID: data-pipeline-benefits -->
<ul>
<li><strong>🔄 Flexible</strong>: Skip binning and use Event Dataset directly, or use traditional Binned Dataset approach</li>
<li><strong>💾 Storage Optimized</strong>: Since event/binned dataset saves only reference to media, the entire pipeline is designed to be <strong>space-efficient</strong>.
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>/data/
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>├──<span class="w"> </span>mcaps/<span class="w">           </span><span class="c1"># Raw recordings (400MB)</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>├──<span class="w"> </span>event-dataset/<span class="w">   </span><span class="c1"># References only (20MB)</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>└──<span class="w"> </span>binned-dataset/<span class="w">  </span><span class="c1"># Aggregated refs (2MB)</span>
</code></pre></div></li>
<li><strong>🤗 Native HuggingFace</strong>: Event/binned dataset is a true HuggingFace <code>datasets.Dataset</code> with <code>set_transform()</code>, not wrappers.
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># Since event/binned datasets are true HuggingFace datasets,</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="c1"># they can be loaded directly into training pipelines</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">owa.data.datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_from_disk</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="n">dataset</span> <span class="o">=</span> <span class="n">load_from_disk</span><span class="p">(</span><span class="s2">&quot;/data/event-dataset&quot;</span><span class="p">)</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="c1"># Transform to VLA training format is applied on-the-fly during training</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">auto_set_transform</span><span class="p">(</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>    <span class="n">stage</span><span class="o">=</span><span class="s2">&quot;event&quot;</span><span class="p">,</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>    <span class="n">encoder_type</span><span class="o">=</span><span class="s2">&quot;hierarchical&quot;</span><span class="p">,</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>    <span class="n">load_images</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="p">)</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="c1"># Use in training</span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Images: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">sample</span><span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2"> frames&quot;</span><span class="p">)</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Actions: </span><span class="si">{</span><span class="n">sample</span><span class="p">[</span><span class="s1">&#39;encoded_events&#39;</span><span class="p">][:</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instruction: </span><span class="si">{</span><span class="n">sample</span><span class="p">[</span><span class="s1">&#39;instruction&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></li>
<li><strong>⚡ Compute-optimized, On-the-Fly Processing</strong>: During preprocess stage, media is not loaded. During training, only the required media is loaded on-demand.
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>$<span class="w"> </span>python<span class="w"> </span>scripts/01_raw_events_to_event_dataset.py
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>🔄<span class="w"> </span>Raw<span class="w"> </span>Events<span class="w"> </span>to<span class="w"> </span>Event<span class="w"> </span>Dataset
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>📁<span class="w"> </span>Loading<span class="w"> </span>from:<span class="w"> </span>/data/mcaps/game-session
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>📊<span class="w"> </span>Found<span class="w"> </span><span class="m">3</span><span class="w"> </span>train,<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>files
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>---&gt;<span class="w"> </span><span class="m">100</span>%
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>✓<span class="w"> </span>Created<span class="w"> </span><span class="m">24</span>,907<span class="w"> </span>train,<span class="w"> </span><span class="m">20</span>,471<span class="w"> </span><span class="nb">test</span><span class="w"> </span>examples
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>💾<span class="w"> </span>Saving<span class="w"> </span>to<span class="w"> </span>/data/event-dataset
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>✓<span class="w"> </span>Saved<span class="w"> </span>successfully
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>🎉<span class="w"> </span>Completed<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">3</span>.9s<span class="w"> </span><span class="o">(</span><span class="m">0</span>.1min<span class="o">)</span>
</code></pre></div></li>
</ul>
<!-- END-SYNC: data-pipeline-benefits -->

<div class="admonition tip">
<p class="admonition-title">Complete Pipeline Documentation</p>
<p>See <strong><a href="../data-pipeline/">🚀 Data Pipeline</a></strong> for detailed documentation on each stage, configuration options, and integration with training frameworks.</p>
</div>
<h3 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Storage Strategy</label><label for="__tabbed_5_2">Performance</label><label for="__tabbed_5_3">File Organization</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><strong>Decision Tree: Choose Your Storage Approach</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>Recording Length?
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>├─ &lt; 30 seconds
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>│  └─ Use embedded data URIs (self-contained)
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>└─ &gt; 30 seconds
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>   └─ File Size Priority?
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>      ├─ Minimize MCAP size
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>      │  └─ Use external video (.mkv)
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>      └─ Maximize quality
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>         └─ Use external images (.png)
</code></pre></div>
<table>
<thead>
<tr>
<th>Use Case</th>
<th>Strategy</th>
<th>Benefits</th>
<th>Trade-offs</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Long recordings</strong></td>
<td>External video</td>
<td>Minimal MCAP size, efficient</td>
<td>Requires external files</td>
</tr>
<tr>
<td><strong>Short sessions</strong></td>
<td>Embedded data</td>
<td>Self-contained</td>
<td>Larger MCAP files</td>
</tr>
<tr>
<td><strong>High-quality</strong></td>
<td>External images</td>
<td>Lossless compression</td>
<td>Many files to manage</td>
</tr>
<tr>
<td><strong>Remote datasets</strong></td>
<td>Video + URLs</td>
<td>Bandwidth efficient</td>
<td>Network dependency</td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># ✅ Good: Filter topics early</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="k">with</span> <span class="n">OWAMcapReader</span><span class="p">(</span><span class="s2">&quot;file.mcap&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">topics</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;screen&quot;</span><span class="p">]):</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>        <span class="n">process_frame</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">decoded</span><span class="p">)</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="c1"># ✅ Good: Lazy loading</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">topics</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;screen&quot;</span><span class="p">]):</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>    <span class="k">if</span> <span class="n">should_process_frame</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">timestamp</span><span class="p">):</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>        <span class="n">frame</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">decoded</span><span class="o">.</span><span class="n">load_frame_array</span><span class="p">()</span>  <span class="c1"># Only when needed</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="c1"># ❌ Avoid: Loading all frames</span>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">msg</span><span class="o">.</span><span class="n">decoded</span><span class="o">.</span><span class="n">load_frame_array</span><span class="p">()</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">()]</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><strong>Recommended structure:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>/data/
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>├── mcaps/                          # Raw MCAP recordings
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>│   ├── session_001.mcap
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>│   ├── session_001.mkv             # External video files
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>│   └── session_002.mcap
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>├── event-dataset/                  # Stage 1: Event Dataset
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>│   ├── train/
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>│   └── test/
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>└── binned-dataset/                 # Stage 2: Binned Dataset
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>    ├── train/
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>    └── test/
</code></pre></div></p>
<p>See <a href="../data-pipeline/">OWA Data Pipeline</a> for complete pipeline details.</p>
</div>
</div>
</div>
<h2 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h2>
<h3 id="migration-troubleshooting">Migration &amp; Troubleshooting<a class="headerlink" href="#migration-troubleshooting" title="Permanent link">&para;</a></h3>
<h4 id="file-migration">File Migration<a class="headerlink" href="#file-migration" title="Permanent link">&para;</a></h4>
<p>OWAMcap format evolves over time. When you encounter older files that need updating, use the migration tool:</p>
<div class="admonition info">
<p class="admonition-title">When Do You Need Migration?</p>
<ul>
<li><strong>Error messages</strong> about unsupported schema versions</li>
<li><strong>Missing fields</strong> when loading older recordings</li>
<li><strong>Compatibility warnings</strong> from OWA tools</li>
<li><strong>Performance issues</strong> with legacy file formats</li>
</ul>
</div>
<p><strong>Migration Commands:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># Check if migration is needed</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>owl<span class="w"> </span>mcap<span class="w"> </span>info<span class="w"> </span>old_file.mcap<span class="w">  </span><span class="c1"># Look for version warnings</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="c1"># Preview what will change (safe, no modifications)</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>owl<span class="w"> </span>mcap<span class="w"> </span>migrate<span class="w"> </span>run<span class="w"> </span>old_file.mcap<span class="w"> </span>--dry-run
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="c1"># Migrate single file (creates backup automatically)</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>owl<span class="w"> </span>mcap<span class="w"> </span>migrate<span class="w"> </span>run<span class="w"> </span>old_file.mcap
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="c1"># Migrate multiple files in batch</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>owl<span class="w"> </span>mcap<span class="w"> </span>migrate<span class="w"> </span>run<span class="w"> </span>*.mcap
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="c1"># Migrate with custom output location</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>owl<span class="w"> </span>mcap<span class="w"> </span>migrate<span class="w"> </span>run<span class="w"> </span>old_file.mcap<span class="w"> </span>--output<span class="w"> </span>new_file.mcap
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Migration Safety</p>
<ul>
<li><strong>Automatic backups</strong>: Original files are preserved as <code>.backup</code></li>
<li><strong>Validation</strong>: Migrated files are automatically validated</li>
<li><strong>Rollback</strong>: Use backup files if migration causes issues</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Complete Migration Reference</p>
<p>For detailed information about all migration commands and options, see the <a href="../../../cli/mcap/">OWA CLI - MCAP Commands</a> documentation.</p>
</div>
<h4 id="common-issues">Common Issues<a class="headerlink" href="#common-issues" title="Permanent link">&para;</a></h4>
<div class="admonition warning">
<p class="admonition-title">File Not Found Errors</p>
<p>When video files are missing:
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1"># Resolve relative paths</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="n">screen_msg</span><span class="o">.</span><span class="n">resolve_relative_path</span><span class="p">(</span><span class="s2">&quot;/path/to/mcap/file.mcap&quot;</span><span class="p">)</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="c1"># Check if external media exists</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="n">screen_msg</span><span class="o">.</span><span class="n">media_ref</span><span class="o">.</span><span class="n">validate_uri</span><span class="p">()</span>
</code></pre></div></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Memory Usage</p>
<p>Large datasets can consume memory:
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># Use lazy loading instead of loading all frames</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">topics</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;screen&quot;</span><span class="p">]):</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>    <span class="k">if</span> <span class="n">should_process_frame</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">timestamp</span><span class="p">):</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>        <span class="n">frame</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">decoded</span><span class="o">.</span><span class="n">load_frame_array</span><span class="p">()</span>  <span class="c1"># Only when needed</span>
</code></pre></div></p>
</div>
<h3 id="technical-reference">Technical Reference<a class="headerlink" href="#technical-reference" title="Permanent link">&para;</a></h3>
<p>For detailed technical specifications, see:</p>
<ul>
<li><strong><a href="https://github.com/open-world-agents/open-world-agents/blob/main/oeps/oep-0006.md">OEP-0006: OWAMcap Profile Specification</a></strong> - Authoritative format specification</li>
<li><strong><a href="https://mcap.dev/">MCAP Format</a></strong> - Base container format documentation</li>
<li><strong>Message Registry</strong> - See <code>projects/owa-core/owa/core/messages.py</code> for implementation</li>
</ul>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li><strong><a href="../../getting-started/exploring-data/">Explore and Edit</a></strong>: Learn to work with OWAMcap files</li>
<li><strong><a href="../data-pipeline/">Data Pipeline</a></strong>: Process OWAMcap for ML training</li>
<li><strong><a href="../../tools/viewer/">Viewer</a></strong>: Visualize OWAMcap data interactively</li>
<li><strong><a href="../../tools/comparison-with-lerobot/">Comparison with LeRobot</a></strong>: See how OWAMcap differs from other formats</li>
</ul>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="October 10, 2025 10:40:49 UTC">October 10, 2025 10:40:49</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../termynal.js"></script>
      
    
  </body>
</html>