{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to OWA","text":""},{"location":"#open-world-agents-documentation","title":"Open World Agents Documentation","text":"<p>A comprehensive framework for building AI agents that interact with desktop applications through vision, keyboard, and mouse control.</p> <p>Open World Agents (OWA) is a monorepo containing the complete toolkit for multimodal desktop agent development. From high-performance data capture to model training and real-time evaluation, everything is designed for flexibility and performance.</p>"},{"location":"#architecture-overview","title":"Architecture Overview","text":"<p>OWA consists of four core components:</p> <p>\ud83c\udf0d Environment (Env) - Asynchronous, event-driven interface for real-time agent interactions \ud83d\udcca Data - High-performance recording, storage, and analysis of multimodal desktop data \ud83d\udcdd Messages - Centralized message definitions with automatic discovery and registry system \ud83e\udd16 Examples - Complete implementations and training pipelines for multimodal agents</p>"},{"location":"#quick-navigation","title":"Quick Navigation","text":""},{"location":"#environment-framework","title":"\ud83c\udf0d Environment Framework","text":"<p>Build reactive desktop agents with our asynchronous environment system.</p> Component Description Core Concepts <code>Callables</code>, <code>Listeners</code>, and <code>Runnables</code> for real-time processing Environment Guide Zero-configuration plugin system and CLI tools Custom Plugins Create your own environment extensions <p>Built-in Plugins: </p> <ul> <li>Desktop Environment - Mouse, keyboard, and window event handling</li> <li>GStreamer Environment - High-performance screen capture (6x faster than alternatives)</li> <li>Standard Environment - Basic utilities and timing functions</li> </ul>"},{"location":"#data-infrastructure","title":"\ud83d\udcca Data Infrastructure","text":"<p>Capture, store, and analyze multimodal desktop interaction data.</p> Component Description Data Overview Complete data pipeline for desktop agents OWAMcap Format Specialized format capturing complete desktop interactions (screen + events) with nanosecond precision Desktop Recorder (ocap) High-performance desktop recording tool CLI Tools (owl) Command-line interface for data analysis and management Data Viewer Visualize and analyze recorded sessions Data Explorer Tools for data exploration and editing"},{"location":"#agent-examples","title":"\ud83e\udd16 Agent Examples","text":"<p>Learn from complete implementations and training pipelines.</p> Example Description Status Multimodal Game Agent Vision-based game playing agent \ud83d\udea7 In Progress GUI Agent General desktop application automation \ud83d\udea7 In Progress Interactive World Model Predictive modeling of desktop environments \ud83d\udea7 In Progress Usage with LLMs Integration with large language models \ud83d\udea7 In Progress Usage with Transformers Vision transformer implementations \ud83d\udea7 In Progress"},{"location":"#community-ecosystem","title":"Community &amp; Ecosystem","text":"<p>\ud83c\udf31 Growing Ecosystem: OWA is designed for extensibility. Community contributions include:  </p> <ul> <li>Custom environment plugins (<code>owa.env.minecraft</code>, <code>owa.env.web</code>, etc.)  </li> <li>Specialized data processors and analyzers  </li> <li>Novel agent architectures and training methods  </li> </ul> <p>\ud83e\udd17 HuggingFace Integration: Upload and share datasets created with <code>ocap</code>. Preview datasets at HuggingFace Spaces.</p>"},{"location":"#development-resources","title":"Development Resources","text":"Resource Description Installation Guide Detailed installation instructions Contributing Guide Development setup, bug reports, feature proposals FAQ Common questions and troubleshooting"},{"location":"#what-can-you-build","title":"What Can You Build?","text":"<p>Anything that runs on desktop. If a human can do it on a computer, you can build an AI agent to automate it:</p> <p>\ud83e\udd16 Desktop Automation - Navigate applications, automate workflows, interact with any software \ud83c\udfae Game AI - Master complex games through visual understanding and real-time decision making \ud83d\udcca Training Datasets - Capture high-quality human-computer interaction data for foundation models \ud83d\udcc8 Benchmarks - Create and evaluate desktop agent performance across diverse tasks</p>"},{"location":"#license","title":"License","text":"<p>This project is released under the MIT License. See the LICENSE file for details.</p>"},{"location":"contributing/","title":"Contributing","text":"<p>We'd love you to contribute to OWA!</p>"},{"location":"contributing/#issues","title":"Issues","text":"<p>Questions, feature requests and bug reports are all welcome as discussions or issues. However, to report a security vulnerability, please see our security policy.</p>"},{"location":"contributing/#pull-requests","title":"Pull Requests","text":"<p>Feel free to create a Pull Request. Project maintainers will take a review quickly and give you a comments.</p> <p>To make contributing as easy and fast as possible, you'll want to run tests and linting locally. Luckily, OWA has few dependencies, doesn't require compiling and tests don't need access to databases, etc. Because of this, setting up and running the tests should be very simple.</p>"},{"location":"contributing/#run-tests","title":"Run tests","text":"<p>We're utilizing <code>pytest</code> for testing and <code>ruff</code> for formatting. Make sure your PR pass all tests in Github Actions.</p> <ol> <li>Run <code>pytest</code>.</li> <li>Run <code>ruff check</code>.</li> <li>Run <code>ruff format</code>.</li> </ol>"},{"location":"contributing/#how-to-test-documentation-changes","title":"How to Test Documentation Changes","text":"<p>If you contribute to the documentation\u2014such as by adding new markdown files under <code>docs/data/</code>\u2014please follow these steps to preview your changes locally before submitting a pull request:</p> <ol> <li> <p>Add your documentation:    Place your new markdown (<code>.md</code>) file in the <code>docs/data/</code> directory.</p> </li> <li> <p>Update navigation:    Edit <code>mkdocs.yaml</code> to include your new file in the site's navigation (<code>nav</code> section).</p> </li> <li> <p>Install documentation dependencies:    At the root of the project, run: <pre><code>vuv install --extra docs\n</code></pre>    This will install all necessary packages for building and serving the documentation site.</p> </li> <li> <p>Serve the documentation locally:    Start the local documentation server with: <pre><code>mkdocs serve\n</code></pre></p> </li> <li> <p>Preview your changes:    Open http://localhost:8000 in your web browser to view the documentation and verify your additions appear as expected.</p> </li> </ol> <p>Following these steps will help ensure your documentation contributions are correctly displayed and formatted. Thank you for helping improve the OWA documentation!</p>"},{"location":"faq_dev/","title":"Faq dev","text":""},{"location":"faq_dev/#how-to-disable-typer-specific-traceback","title":"How to disable <code>typer</code>-specific traceback?","text":"<p>set <code>_TYPER_STANDARD_TRACEBACK=1</code></p> <p>https://stackoverflow.com/questions/76375307/how-to-make-typer-traceback-look-normal</p>"},{"location":"help_with_owa/","title":"Getting help with OWA","text":"<p>If you need help getting started with OWA or with advanced usage, the following sources may be useful.</p>"},{"location":"help_with_owa/#github-discussions","title":"GitHub Discussions","text":"<p>GitHub discussions are useful for asking questions, your question and the answer will help everyone.</p>"},{"location":"help_with_owa/#direct-messages","title":"Direct Messages","text":"<p>If you need further assistance, please feel free to directly message the main contributors via Slack, Discord, or email:</p> <ul> <li>Suhwan Choi: milkclouds00@gmail.com</li> <li>Yunsung Lee: dldbstjd9751@gmail.com</li> </ul>"},{"location":"install/","title":"Installation Guide","text":""},{"location":"install/#quick-start-recommended","title":"Quick Start (Recommended)","text":"<p>For most users who want to use Open World Agents, installation is straightforward:</p>"},{"location":"install/#option-1-full-installation-with-video-processing","title":"Option 1: Full Installation with Video Processing","text":"<p>If you need desktop recording, screen capture, or video processing capabilities:</p> <pre><code># Install GStreamer dependencies first\nconda install open-world-agents::gstreamer-bundle\n\n# Then install all OWA packages\npip install owa\n</code></pre>"},{"location":"install/#option-2-headless-installation","title":"Option 2: Headless Installation","text":"<p>For data processing, ML training, or headless servers without video capture needs:</p> <pre><code>pip install owa\n</code></pre> <p>When to use GStreamer</p> <p>Install GStreamer if you need:</p> <ul> <li>Desktop recording with <code>ocap</code></li> <li>Real-time screen capture with <code>owa.env.gst</code></li> <li>Video processing capabilities</li> <li>Complete multimodal data capture</li> </ul> <p>Skip GStreamer if you only need:</p> <ul> <li>Data processing and analysis</li> <li>ML training on existing datasets</li> <li>Headless server environments</li> <li>Working with pre-recorded MCAP files</li> </ul>"},{"location":"install/#available-packages","title":"Available Packages","text":"<p>All OWA packages are pure Python and available on PyPI. Install via <code>pip install owa</code> for all components:</p> Name PyPI Description <code>owa</code> Meta-package with all core components <code>owa-core</code> Framework foundation with registry system <code>owa-cli</code> Command-line tools (<code>owl</code>) for data analysis <code>mcap-owa-support</code> OWAMcap format support and utilities <code>ocap</code> \ud83c\udfa5 Desktop recorder for multimodal data capture <code>owa-env-desktop</code> Mouse, keyboard, window event handling <code>owa-env-gst</code> \ud83c\udfa5 GStreamer-powered screen capture (6x faster) <p>\ud83c\udfa5 Video Processing Packages: Packages marked with \ud83c\udfa5 require GStreamer dependencies. Install <code>conda install open-world-agents::gstreamer-bundle</code> first for full functionality.</p>"},{"location":"install/#gstreamer-bundle","title":"GStreamer Bundle","text":"<p>For video processing capabilities, install the GStreamer bundle separately:</p> <pre><code>conda install open-world-agents::gstreamer-bundle\n</code></pre> <p>This bundle includes all necessary GStreamer dependencies (pygobject, gst-python, gst-plugins, etc.) that are complex to install via pip.</p>"},{"location":"install/#development-installation-editable","title":"Development Installation (Editable)","text":"<p>For Contributors and Developers</p> <p>This section is for users who want to modify the source code, contribute to the project, or need the latest development features.</p>"},{"location":"install/#prerequisites","title":"Prerequisites","text":"<p>Before proceeding with development installation, ensure you have the necessary tools:</p> <ol> <li>Git: For cloning the repository</li> <li>Python 3.11+: Required for all OWA packages</li> <li>Virtual Environment Tool: We recommend conda/mamba for GStreamer support</li> </ol>"},{"location":"install/#step-1-setup-virtual-environment","title":"Step 1: Setup Virtual Environment","text":"conda/mamba (Recommended)Other Virtual Environments <ol> <li> <p>Install miniforge following the installation guide:     <pre><code># Download and install miniforge\n# This provides both conda and mamba (faster conda)\n</code></pre></p> </li> <li> <p>Create and activate your environment:     <pre><code>conda create -n owa python=3.11 -y\nconda activate owa\n</code></pre></p> </li> <li> <p>(Optional for video processing) Install GStreamer dependencies:     <pre><code># Install GStreamer bundle for video processing\nconda install open-world-agents::gstreamer-bundle\n</code></pre></p> </li> </ol> <p>You can use other virtual environment tools (venv, virtualenv, poetry, etc.), but:</p> <ul> <li>GStreamer must be installed separately for video processing functionality, which is not easy without <code>conda</code></li> <li>We recommend conda/mamba for the best development experience</li> </ul>"},{"location":"install/#step-2-clone-and-setup-development-tools","title":"Step 2: Clone and Setup Development Tools","text":"<pre><code># Clone the repository\ngit clone https://github.com/open-world-agents/open-world-agents\ncd open-world-agents\n\n# Install uv (fast Python package manager)\npip install uv\n\n# Install virtual-uv for easier monorepo management\npip install virtual-uv\n</code></pre>"},{"location":"install/#step-3-install-in-editable-mode","title":"Step 3: Install in Editable Mode","text":"uv + virtual-uv (Recommended)uv (Simple)pip (Manual) <pre><code># Ensure you're in the project root and environment is activated\ncd open-world-agents\nconda activate owa  # or your environment name\n\n# Install all packages in editable mode\nvuv install\n</code></pre> <p>Tip</p> <p><code>vuv</code> (virtual-uv) handles the complex dependency resolution for our monorepo structure and installs all packages in the correct order.</p> <pre><code># Install with inexact dependency resolution\nuv sync --inexact\n</code></pre> <pre><code># Install in correct order (dependency order matters with pip)\npip install -e projects/owa-core\npip install -e projects/mcap-owa-support\npip install -e projects/owa-env-desktop\npip install -e projects/owa-env-gst  # Requires GStreamer\npip install -e projects/owa-cli\npip install -e projects/ocap\n</code></pre> <p>Installation Order Matters</p> <p>When using <code>pip</code> instead of <code>uv</code>, the installation order is critical because <code>pip</code> cannot resolve the monorepo dependencies specified in <code>[tool.uv.sources]</code>.</p>"},{"location":"install/#step-4-verify-installation","title":"Step 4: Verify Installation","text":"<pre><code># Test core functionality\npython -c \"from owa.core.registry import CALLABLES; print('\u2705 Core installed')\"\n\n# Test CLI tools\nowl --help\nowl env list  # List discovered plugins\nocap --help\n\n# Test GStreamer (if installed)\npython -c \"import gi; gi.require_version('Gst', '1.0'); print('\u2705 GStreamer OK')\"\n</code></pre>"},{"location":"install/#troubleshooting","title":"Troubleshooting","text":""},{"location":"install/#gstreamer-issues","title":"GStreamer Issues","text":"<p>If you encounter GStreamer-related errors:</p> <ol> <li>Install GStreamer bundle:    <pre><code>conda install open-world-agents::gstreamer-bundle\n</code></pre></li> <li>Verify GStreamer installation:    <pre><code>python -c \"import gi; gi.require_version('Gst', '1.0'); print('\u2705 GStreamer OK')\"\n</code></pre></li> <li>Restart your Python environment after installing GStreamer dependencies</li> </ol>"},{"location":"install/#virtual-environment-issues","title":"Virtual Environment Issues","text":"<ul> <li>Always activate your environment before running <code>vuv</code> or installation commands</li> <li>Use absolute paths if you encounter import issues</li> <li>Reinstall virtual-uv if you encounter dependency resolution problems:   <pre><code>pip uninstall virtual-uv\npip install virtual-uv\n</code></pre></li> </ul>"},{"location":"install/#package-version-conflicts","title":"Package Version Conflicts","text":"<p>OWA uses lockstep versioning. If you encounter version conflicts:</p> <pre><code># Check installed versions\npip list | grep owa\n\n# Reinstall all packages with matching versions\npip install --upgrade owa\n</code></pre>"},{"location":"install/#import-errors","title":"Import Errors","text":"<p>If you encounter import errors after installation:</p> <ol> <li>Ensure Python environment is activated</li> <li>Restart Python kernel/terminal after installing packages</li> <li>Verify installation: <code>pip list | grep owa</code></li> </ol>"},{"location":"cli/","title":"OWA CLI (<code>owl</code>) - Command Line Tools","text":"<p>The <code>owl</code> command provides comprehensive tools for working with OWA data, environments, and message types. It's your primary interface for managing MCAP files, environment plugins, message schemas, and video processing.</p>"},{"location":"cli/#installation","title":"Installation","text":"<p>The CLI is included with the <code>owa-cli</code> package:</p> <pre><code>pip install owa-cli\n</code></pre> <p>After installation, the <code>owl</code> command becomes available in your terminal.</p>"},{"location":"cli/#quick-start","title":"Quick Start","text":"<pre><code># Get help for any command\nowl --help\nowl mcap --help\n\n# Common workflows\nowl mcap info session.mcap              # Inspect MCAP files\nowl env list                            # List environment plugins  \nowl messages show desktop/MouseEvent    # View message schemas\nowl video probe recording.mkv           # Analyze video files\n</code></pre>"},{"location":"cli/#command-groups","title":"Command Groups","text":"<p>The <code>owl</code> CLI is organized into specialized command groups:</p>"},{"location":"cli/#mcap-commands-owl-mcap","title":"\ud83d\udcc1 MCAP Commands (<code>owl mcap</code>)","text":"<p>Tools for working with MCAP files - the core data format for multimodal desktop recordings.</p> <p>Key commands: <code>info</code>, <code>cat</code>, <code>convert</code>, <code>migrate</code>, <code>sanitize</code></p> <pre><code>owl mcap info session.mcap              # File information\nowl mcap cat session.mcap --n 10        # View messages  \nowl mcap convert session.mcap           # Convert to subtitles\n</code></pre>"},{"location":"cli/#environment-commands-owl-env","title":"\ud83d\udd0c Environment Commands (<code>owl env</code>)","text":"<p>Manage environment plugins that capture desktop data and provide system integration.</p> <p>Key commands: <code>list</code>, <code>show</code>, <code>validate</code>, <code>search</code>, <code>stats</code></p> <pre><code>owl env list                            # List all plugins\nowl env show desktop                    # Plugin details\nowl env search keyboard                 # Find components\n</code></pre>"},{"location":"cli/#message-commands-owl-messages","title":"\ud83d\udccb Message Commands (<code>owl messages</code>)","text":"<p>Inspect and validate message type schemas used in MCAP files.</p> <p>Key commands: <code>list</code>, <code>show</code>, <code>validate</code></p> <pre><code>owl messages list                       # All message types\nowl messages show desktop/KeyboardEvent # Schema details\nowl messages validate                   # Validate definitions\n</code></pre>"},{"location":"cli/#video-commands-owl-video","title":"\ud83c\udfa5 Video Commands (<code>owl video</code>)","text":"<p>Process and analyze video files from OWA recordings.</p> <p>Key commands: <code>probe</code>, <code>vfr-to-cfr</code></p> <pre><code>owl video probe session.mkv            # Analyze video\nowl video vfr-to-cfr session.mkv       # Convert frame rate\n</code></pre>"},{"location":"cli/#complete-command-reference","title":"Complete Command Reference","text":""},{"location":"cli/#owl","title":"owl","text":"<p>owl - Open World agents cLi - Tools for managing OWA data and environments</p> <p>Usage:</p> <pre><code>owl [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--silent</code>, <code>-s</code> boolean Suppress non-essential output <code>False</code> <code>--no-update-check</code> boolean Skip version update check <code>False</code> <code>--install-completion</code> boolean Install completion for the current shell. None <code>--show-completion</code> boolean Show completion for the current shell, to copy it or customize the installation. None <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env","title":"owl env","text":"<p>Environment plugin management commands</p> <p>Usage:</p> <pre><code>owl env [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-docs-stats","title":"owl env docs-stats","text":"<p>Show documentation statistics for plugins.</p> <p>This is a helper command for development and analysis.</p> <p>Usage:</p> <pre><code>owl env docs-stats [OPTIONS] [PLUGIN_NAMESPACE]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--by-type</code> boolean Group statistics by component type <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-find","title":"owl env find","text":"<p>Quick search - find components by pattern (alias for 'search').</p> <p>Usage:</p> <pre><code>owl env find [OPTIONS] PATTERN\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-health","title":"owl env health","text":"<p>Perform a health check on the plugin ecosystem.</p> <p>Usage:</p> <pre><code>owl env health [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-list","title":"owl env list","text":"<p>List discovered plugins and their components with enhanced filtering and display options.</p> <p>Usage:</p> <pre><code>owl env list [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--namespace</code>, <code>-n</code> text Filter plugins by namespace None <code>--type</code>, <code>-t</code> text Type of components to list (callables/listeners/runnables) None <code>--search</code>, <code>-s</code> text Search components by name pattern None <code>--components</code>, <code>-c</code> boolean Show individual components <code>False</code> <code>--details</code>, <code>-d</code> boolean Show detailed component information <code>False</code> <code>--table</code> boolean Display results in table format <code>False</code> <code>--sort</code> text Sort by: namespace, name, type <code>namespace</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-ls","title":"owl env ls","text":"<p>Quick list - show plugins or components in a namespace (alias for 'list').</p> <p>Usage:</p> <pre><code>owl env ls [OPTIONS] [NAMESPACE]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-namespaces","title":"owl env namespaces","text":"<p>List all available namespaces.</p> <p>Usage:</p> <pre><code>owl env namespaces [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-search","title":"owl env search","text":"<p>Search for components across all plugins using pattern matching.</p> <p>Usage:</p> <pre><code>owl env search [OPTIONS] PATTERN\n</code></pre> <p>Options:</p> Name Type Description Default <code>--type</code>, <code>-t</code> text Filter by component type None <code>--namespace</code>, <code>-n</code> text Filter by namespace None <code>--case-sensitive</code>, <code>-c</code> boolean Case sensitive search <code>False</code> <code>--details</code>, <code>-d</code> boolean Show detailed component information <code>False</code> <code>--table</code> boolean Display results in table format <code>False</code> <code>--limit</code>, <code>-l</code> integer Limit number of results <code>50</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-show","title":"owl env show","text":"<p>Show detailed information about a plugin with enhanced filtering and inspection options.</p> <p>Usage:</p> <pre><code>owl env show [OPTIONS] NAMESPACE\n</code></pre> <p>Options:</p> Name Type Description Default <code>--components</code>, <code>-c</code> boolean Show individual components <code>False</code> <code>--type</code>, <code>-t</code> text Filter by component type None <code>--search</code>, <code>-s</code> text Search components by name pattern None <code>--details</code>, <code>-d</code> boolean Show import paths and load status <code>False</code> <code>--table</code> boolean Display components in table format <code>False</code> <code>--inspect</code>, <code>-i</code> text Inspect specific component (show docstring/signature) None <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-stats","title":"owl env stats","text":"<p>Show comprehensive statistics about the plugin ecosystem.</p> <p>Usage:</p> <pre><code>owl env stats [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--detailed</code>, <code>-d</code> boolean Show detailed statistics <code>False</code> <code>--by-namespace</code>, <code>-n</code> boolean Group statistics by namespace <code>False</code> <code>--by-type</code>, <code>-t</code> boolean Group statistics by component type <code>False</code> <code>--loaded-only</code>, <code>-l</code> boolean Show statistics for loaded components only <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-validate","title":"owl env validate","text":"<p>Validate a plugin specification from YAML file or entry point.</p> <p>This command can validate plugin specifications in two ways:</p> <ol> <li>From YAML files: owl env validate ./plugin.yaml</li> <li>From entry points: owl env validate owa.env.plugins.desktop:plugin_spec</li> </ol> <p>The command automatically detects the input type and validates accordingly.</p> <p>Usage:</p> <pre><code>owl env validate [OPTIONS] SPEC_INPUT\n</code></pre> <p>Options:</p> Name Type Description Default <code>--check-imports</code> / <code>--no-check-imports</code> boolean Validate that component import paths are accessible <code>True</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed validation information <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-env-validate-docs","title":"owl env validate-docs","text":"<p>Validate plugin documentation with proper exit codes for CI/CD integration.</p> <p>This command serves as a test utility that can be integrated into CI/CD pipelines, ensuring consistent documentation quality across all plugins.</p> <p>Features: - Per-component quality grading (GOOD/ACCEPTABLE/POOR) - Per-plugin quality thresholds (PASS/WARN/FAIL) - Skip quality check support (@skip-quality-check in docstrings) - Flexible threshold configuration</p> <p>Exit codes: - 0: All validations passed - 1: Documentation issues found (warnings or failures) - 2: Command error (invalid arguments, plugin not found, etc.)</p> <p>Usage:</p> <pre><code>owl env validate-docs [OPTIONS] [PLUGIN_NAMESPACE]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--strict</code> boolean Enable strict mode (100% coverage + 100% quality) <code>False</code> <code>--min-coverage-pass</code> float Minimum coverage for PASS status <code>0.8</code> <code>--min-coverage-fail</code> float Minimum coverage to avoid FAIL status <code>0.6</code> <code>--min-quality-pass</code> float Minimum good quality ratio for PASS status <code>0.6</code> <code>--min-quality-fail</code> float Minimum good quality ratio to avoid FAIL status <code>0.0</code> <code>--format</code> text Output format: text or json <code>text</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-mcap","title":"owl mcap","text":"<p>MCAP file management commands</p> <p>Usage:</p> <pre><code>owl mcap [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-mcap-cat","title":"owl mcap cat","text":"<p>Print messages from an <code>.mcap</code> file in a readable format.</p> <p>Usage:</p> <pre><code>owl mcap cat [OPTIONS] MCAP_PATH\n</code></pre> <p>Options:</p> Name Type Description Default <code>--pretty</code> / <code>--no-pretty</code> boolean Pretty print JSON output <code>True</code> <code>--topics</code> text Topics to include (space-separated or multiple --topics flags) None <code>--exclude</code> text Topics to exclude (space-separated or multiple --exclude flags) None <code>--start-time</code> integer Start time in seconds None <code>--end-time</code> integer End time in seconds None <code>--n</code> integer Number of messages to print None <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-mcap-convert","title":"owl mcap convert","text":"<p>Convert an <code>.mcap</code> file into an <code>.srt</code> subtitle file. After the conversion, you may play <code>.mkv</code> file and verify the sanity of data.</p> <p>Usage:</p> <pre><code>owl mcap convert [OPTIONS] MCAP_PATH [OUTPUT_SRT]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--topics</code> text Comma-separated list of topics to include in the subtitle file <code>window,keyboard,mouse,keyboard/state</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-mcap-info","title":"owl mcap info","text":"<p>Display information about the .mcap file.</p> <p>Usage:</p> <pre><code>owl mcap info [OPTIONS] MCAP_PATH\n</code></pre> <p>Options:</p> Name Type Description Default <code>--force-upgrade</code> boolean Force upgrade mcap CLI to latest version <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-mcap-migrate","title":"owl mcap migrate","text":"<p>MCAP migration commands with rollback and cleanup support.</p> <p>Usage:</p> <pre><code>owl mcap migrate [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-mcap-migrate-cleanup","title":"owl mcap migrate cleanup","text":"<p>Clean up MCAP backup files.</p> <p>This command finds backup files (.mcap.backup) using the specified patterns and removes them after confirmation. Use --dry-run to preview what would be deleted.</p> <p>Examples:     owl mcap migrate cleanup                    # Clean all backup files in current directory tree     owl mcap migrate cleanup \"*.mcap.backup\"   # Clean backup files in current directory only     owl mcap migrate cleanup /path/to/backups  # Clean backup files in specific directory     owl mcap migrate cleanup file.mcap         # Clean backup for specific MCAP file</p> <p>Usage:</p> <pre><code>owl mcap migrate cleanup [OPTIONS] [PATTERNS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--dry-run</code> boolean Show what would be deleted without actually deleting <code>False</code> <code>--yes</code>, <code>-y</code> boolean Skip confirmation prompt <code>False</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed cleanup information <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-mcap-migrate-rollback","title":"owl mcap migrate rollback","text":"<p>Rollback MCAP files from their backup files.</p> <p>This command finds backup files (.mcap.backup) corresponding to the specified MCAP files and restores the original files from the backups. The backup files are removed after successful rollback.</p> <p>Usage:</p> <pre><code>owl mcap migrate rollback [OPTIONS] FILES...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--yes</code>, <code>-y</code> boolean Skip confirmation prompt <code>False</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed rollback information <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-mcap-migrate-run","title":"owl mcap migrate run","text":"<p>Migrate MCAP files to the highest reachable version with automatic version detection.</p> <p>Usage:</p> <pre><code>owl mcap migrate run [OPTIONS] FILES...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--target</code>, <code>-t</code> text Target version (default: highest reachable) None <code>--dry-run</code> boolean Show what would be migrated without making changes <code>False</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed migration information <code>False</code> <code>--keep-backups</code> / <code>--no-backups</code> boolean Keep backup files after migration <code>True</code> <code>--yes</code>, <code>-y</code> boolean Skip confirmation prompt <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-mcap-record","title":"owl mcap record","text":"<p>Record screen, keyboard, mouse, and window events to an <code>.mcap</code> and <code>.mkv</code> file.</p> <p>Usage:</p> <pre><code>owl mcap record [OPTIONS] FILE_LOCATION\n</code></pre> <p>Options:</p> Name Type Description Default <code>--record-audio</code> / <code>--no-record-audio</code> boolean Whether to record audio <code>True</code> <code>--record-video</code> / <code>--no-record-video</code> boolean Whether to record video <code>True</code> <code>--record-timestamp</code> / <code>--no-record-timestamp</code> boolean Whether to record timestamp <code>True</code> <code>--show-cursor</code> / <code>--no-show-cursor</code> boolean Whether to show the cursor in the capture <code>True</code> <code>--fps</code> float The frame rate of the video. Default is 60 fps. <code>60.0</code> <code>--window-name</code> text The name of the window to capture, substring of window name is supported None <code>--monitor-idx</code> integer The index of the monitor to capture None <code>--width</code> integer The width of the video. If None, the width will be determined by the source. None <code>--height</code> integer The height of the video. If None, the height will be determined by the source. None <code>--additional-args</code> text Additional arguments to pass to the pipeline. For detail, see https://gstreamer.freedesktop.org/documentation/d3d11/d3d11screencapturesrc.html None <code>--start-after</code> float Delay recording start by this many seconds. Shows countdown during delay. None <code>--stop-after</code> float Automatically stop recording after this many seconds from start. None <code>--health-check-interval</code> float Interval in seconds for checking resource health. Set to 0 to disable. <code>5.0</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-mcap-sanitize","title":"owl mcap sanitize","text":"<p>Sanitize MCAP files by keeping only events when a specific window is active.</p> <p>This command filters MCAP files to retain only the events that occurred when the specified window was active, effectively removing data from other applications for privacy or focus purposes.</p> <p>Safety feature: By default, the operation will be blocked if more than 20% of messages would be removed, preventing accidental over-sanitization. Use --max-removal-ratio to adjust this threshold.</p> <p>Examples:     owl mcap sanitize recording.mcap --keep-window \"Notepad\"     owl mcap sanitize *.mcap --keep-window \"Work App\" --exact     owl mcap sanitize data.mcap --keep-window \"Browser\" --dry-run     owl mcap sanitize data.mcap --keep-window \"App\" --max-removal-ratio 0.95</p> <p>Usage:</p> <pre><code>owl mcap sanitize [OPTIONS] FILES...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--keep-window</code> text Window name to keep events for _required <code>--exact</code> / <code>--substring</code> boolean Use exact window name matching (default: substring) <code>False</code> <code>--dry-run</code> boolean Show what would be changed without making modifications <code>False</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed sanitization information <code>False</code> <code>--yes</code>, <code>-y</code> boolean Skip confirmation prompt <code>False</code> <code>--keep-backups</code> / <code>--no-backups</code> boolean Keep backup files after sanitization <code>True</code> <code>--max-removal-ratio</code> float range (between <code>0.0</code> and <code>1.0</code>) Maximum ratio of messages that can be removed (0.0-1.0). Safety feature to prevent accidental over-sanitization. <code>0.2</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-messages","title":"owl messages","text":"<p>Message registry management commands</p> <p>Usage:</p> <pre><code>owl messages [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-messages-list","title":"owl messages list","text":"<p>List all available message types</p> <p>Usage:</p> <pre><code>owl messages list [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--domain</code>, <code>-d</code> text Filter by domain (e.g., 'desktop') None <code>--format</code>, <code>-f</code> text Output format: table, json, yaml <code>table</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed information <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-messages-show","title":"owl messages show","text":"<p>Show details about a specific message type</p> <p>Usage:</p> <pre><code>owl messages show [OPTIONS] MESSAGE_TYPE\n</code></pre> <p>Options:</p> Name Type Description Default <code>--format</code>, <code>-f</code> text Output format: rich, json, schema <code>rich</code> <code>--example</code>, <code>-e</code> boolean Show usage example <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#owl-messages-validate","title":"owl messages validate","text":"<p>Validate message registry and definitions</p> <p>Usage:</p> <pre><code>owl messages validate [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--verbose</code>, <code>-v</code> boolean Show detailed validation results <code>False</code> <code>--fix</code> boolean Attempt to fix validation issues <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#common-workflows","title":"Common Workflows","text":"<pre><code># Record and analyze data\nocap my-session\nowl mcap info my-session.mcap\nowl mcap convert my-session.mcap\n\n# Environment management\nowl env list\nowl env validate desktop\n\n# Data processing\nowl mcap info *.mcap\nowl video probe session.mkv\n</code></pre>"},{"location":"cli/#getting-help","title":"Getting Help","text":"<pre><code>owl --help                              # General help\nowl mcap --help                         # Command group help\nowl mcap info --help                    # Specific command help\n</code></pre>"},{"location":"cli/#related-documentation","title":"Related Documentation","text":"<ul> <li>Installation Guide - Installing OWA and CLI tools</li> <li>Recording Data - Creating MCAP files with ocap</li> <li>Exploring Data - Data analysis workflows</li> <li>Environment Guide - Understanding environment plugins</li> <li>Custom Messages - Creating custom message types</li> </ul>"},{"location":"cli/env/","title":"Environment Commands (<code>owl env</code>)","text":"<p>Tools for managing OWA environment plugins - modular components that capture desktop data.</p>"},{"location":"cli/env/#command-reference","title":"Command Reference","text":""},{"location":"cli/env/#owl-env","title":"owl env","text":"<p>Environment plugin management commands.</p> <p>Usage:</p> <pre><code>owl env [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--install-completion</code> boolean Install completion for the current shell. None <code>--show-completion</code> boolean Show completion for the current shell, to copy it or customize the installation. None <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-docs-stats","title":"owl env docs-stats","text":"<p>Show documentation statistics for plugins.</p> <p>This is a helper command for development and analysis.</p> <p>Usage:</p> <pre><code>owl env docs-stats [OPTIONS] [PLUGIN_NAMESPACE]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--by-type</code> boolean Group statistics by component type <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-find","title":"owl env find","text":"<p>Quick search - find components by pattern (alias for 'search').</p> <p>Usage:</p> <pre><code>owl env find [OPTIONS] PATTERN\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-health","title":"owl env health","text":"<p>Perform a health check on the plugin ecosystem.</p> <p>Usage:</p> <pre><code>owl env health [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-list","title":"owl env list","text":"<p>List discovered plugins and their components with enhanced filtering and display options.</p> <p>Usage:</p> <pre><code>owl env list [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--namespace</code>, <code>-n</code> text Filter plugins by namespace None <code>--type</code>, <code>-t</code> text Type of components to list (callables/listeners/runnables) None <code>--search</code>, <code>-s</code> text Search components by name pattern None <code>--components</code>, <code>-c</code> boolean Show individual components <code>False</code> <code>--details</code>, <code>-d</code> boolean Show detailed component information <code>False</code> <code>--table</code> boolean Display results in table format <code>False</code> <code>--sort</code> text Sort by: namespace, name, type <code>namespace</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-ls","title":"owl env ls","text":"<p>Quick list - show plugins or components in a namespace (alias for 'list').</p> <p>Usage:</p> <pre><code>owl env ls [OPTIONS] [NAMESPACE]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-namespaces","title":"owl env namespaces","text":"<p>List all available namespaces.</p> <p>Usage:</p> <pre><code>owl env namespaces [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-search","title":"owl env search","text":"<p>Search for components across all plugins using pattern matching.</p> <p>Usage:</p> <pre><code>owl env search [OPTIONS] PATTERN\n</code></pre> <p>Options:</p> Name Type Description Default <code>--type</code>, <code>-t</code> text Filter by component type None <code>--namespace</code>, <code>-n</code> text Filter by namespace None <code>--case-sensitive</code>, <code>-c</code> boolean Case sensitive search <code>False</code> <code>--details</code>, <code>-d</code> boolean Show detailed component information <code>False</code> <code>--table</code> boolean Display results in table format <code>False</code> <code>--limit</code>, <code>-l</code> integer Limit number of results <code>50</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-show","title":"owl env show","text":"<p>Show detailed information about a plugin with enhanced filtering and inspection options.</p> <p>Usage:</p> <pre><code>owl env show [OPTIONS] NAMESPACE\n</code></pre> <p>Options:</p> Name Type Description Default <code>--components</code>, <code>-c</code> boolean Show individual components <code>False</code> <code>--type</code>, <code>-t</code> text Filter by component type None <code>--search</code>, <code>-s</code> text Search components by name pattern None <code>--details</code>, <code>-d</code> boolean Show import paths and load status <code>False</code> <code>--table</code> boolean Display components in table format <code>False</code> <code>--inspect</code>, <code>-i</code> text Inspect specific component (show docstring/signature) None <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-stats","title":"owl env stats","text":"<p>Show comprehensive statistics about the plugin ecosystem.</p> <p>Usage:</p> <pre><code>owl env stats [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--detailed</code>, <code>-d</code> boolean Show detailed statistics <code>False</code> <code>--by-namespace</code>, <code>-n</code> boolean Group statistics by namespace <code>False</code> <code>--by-type</code>, <code>-t</code> boolean Group statistics by component type <code>False</code> <code>--loaded-only</code>, <code>-l</code> boolean Show statistics for loaded components only <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-validate","title":"owl env validate","text":"<p>Validate a plugin specification from YAML file or entry point.</p> <p>This command can validate plugin specifications in two ways:</p> <ol> <li>From YAML files: owl env validate ./plugin.yaml</li> <li>From entry points: owl env validate owa.env.plugins.desktop:plugin_spec</li> </ol> <p>The command automatically detects the input type and validates accordingly.</p> <p>Usage:</p> <pre><code>owl env validate [OPTIONS] SPEC_INPUT\n</code></pre> <p>Options:</p> Name Type Description Default <code>--check-imports</code> / <code>--no-check-imports</code> boolean Validate that component import paths are accessible <code>True</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed validation information <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#owl-env-validate-docs","title":"owl env validate-docs","text":"<p>Validate plugin documentation with proper exit codes for CI/CD integration.</p> <p>This command serves as a test utility that can be integrated into CI/CD pipelines, ensuring consistent documentation quality across all plugins.</p> <p>Features: - Per-component quality grading (GOOD/ACCEPTABLE/POOR) - Per-plugin quality thresholds (PASS/WARN/FAIL) - Skip quality check support (@skip-quality-check in docstrings) - Flexible threshold configuration</p> <p>Exit codes: - 0: All validations passed - 1: Documentation issues found (warnings or failures) - 2: Command error (invalid arguments, plugin not found, etc.)</p> <p>Usage:</p> <pre><code>owl env validate-docs [OPTIONS] [PLUGIN_NAMESPACE]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--strict</code> boolean Enable strict mode (100% coverage + 100% quality) <code>False</code> <code>--min-coverage-pass</code> float Minimum coverage for PASS status <code>0.8</code> <code>--min-coverage-fail</code> float Minimum coverage to avoid FAIL status <code>0.6</code> <code>--min-quality-pass</code> float Minimum good quality ratio for PASS status <code>0.6</code> <code>--min-quality-fail</code> float Minimum good quality ratio to avoid FAIL status <code>0.0</code> <code>--format</code> text Output format: text or json <code>text</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/env/#related-documentation","title":"Related Documentation","text":"<ul> <li>Environment Guide - Environment system overview</li> <li>Custom EnvPlugins - Creating custom plugins</li> <li>CLI Tools - Complete CLI overview</li> </ul>"},{"location":"cli/mcap/","title":"MCAP Commands (<code>owl mcap</code>)","text":"<p>Tools for working with MCAP files - the core data format for multimodal desktop recordings.</p>"},{"location":"cli/mcap/#command-reference","title":"Command Reference","text":""},{"location":"cli/mcap/#owl-mcap","title":"owl mcap","text":"<p>MCAP file management commands.</p> <p>Usage:</p> <pre><code>owl mcap [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--install-completion</code> boolean Install completion for the current shell. None <code>--show-completion</code> boolean Show completion for the current shell, to copy it or customize the installation. None <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/mcap/#owl-mcap-cat","title":"owl mcap cat","text":"<p>Print messages from an <code>.mcap</code> file in a readable format.</p> <p>Usage:</p> <pre><code>owl mcap cat [OPTIONS] MCAP_PATH\n</code></pre> <p>Options:</p> Name Type Description Default <code>--pretty</code> / <code>--no-pretty</code> boolean Pretty print JSON output <code>True</code> <code>--topics</code> text Topics to include (space-separated or multiple --topics flags) None <code>--exclude</code> text Topics to exclude (space-separated or multiple --exclude flags) None <code>--start-time</code> integer Start time in seconds None <code>--end-time</code> integer End time in seconds None <code>--n</code> integer Number of messages to print None <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/mcap/#owl-mcap-convert","title":"owl mcap convert","text":"<p>Convert an <code>.mcap</code> file into an <code>.srt</code> subtitle file. After the conversion, you may play <code>.mkv</code> file and verify the sanity of data.</p> <p>Usage:</p> <pre><code>owl mcap convert [OPTIONS] MCAP_PATH [OUTPUT_SRT]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--topics</code> text Comma-separated list of topics to include in the subtitle file <code>window,keyboard,mouse,keyboard/state</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/mcap/#owl-mcap-info","title":"owl mcap info","text":"<p>Display information about the .mcap file.</p> <p>Usage:</p> <pre><code>owl mcap info [OPTIONS] MCAP_PATH\n</code></pre> <p>Options:</p> Name Type Description Default <code>--force-upgrade</code> boolean Force upgrade mcap CLI to latest version <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/mcap/#owl-mcap-migrate","title":"owl mcap migrate","text":"<p>MCAP migration commands with rollback and cleanup support.</p> <p>Usage:</p> <pre><code>owl mcap migrate [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/mcap/#owl-mcap-migrate-cleanup","title":"owl mcap migrate cleanup","text":"<p>Clean up MCAP backup files.</p> <p>This command finds backup files (.mcap.backup) using the specified patterns and removes them after confirmation. Use --dry-run to preview what would be deleted.</p> <p>Examples:     owl mcap migrate cleanup                    # Clean all backup files in current directory tree     owl mcap migrate cleanup \"*.mcap.backup\"   # Clean backup files in current directory only     owl mcap migrate cleanup /path/to/backups  # Clean backup files in specific directory     owl mcap migrate cleanup file.mcap         # Clean backup for specific MCAP file</p> <p>Usage:</p> <pre><code>owl mcap migrate cleanup [OPTIONS] [PATTERNS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--dry-run</code> boolean Show what would be deleted without actually deleting <code>False</code> <code>--yes</code>, <code>-y</code> boolean Skip confirmation prompt <code>False</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed cleanup information <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/mcap/#owl-mcap-migrate-rollback","title":"owl mcap migrate rollback","text":"<p>Rollback MCAP files from their backup files.</p> <p>This command finds backup files (.mcap.backup) corresponding to the specified MCAP files and restores the original files from the backups. The backup files are removed after successful rollback.</p> <p>Usage:</p> <pre><code>owl mcap migrate rollback [OPTIONS] FILES...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--yes</code>, <code>-y</code> boolean Skip confirmation prompt <code>False</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed rollback information <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/mcap/#owl-mcap-migrate-run","title":"owl mcap migrate run","text":"<p>Migrate MCAP files to the highest reachable version with automatic version detection.</p> <p>Usage:</p> <pre><code>owl mcap migrate run [OPTIONS] FILES...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--target</code>, <code>-t</code> text Target version (default: highest reachable) None <code>--dry-run</code> boolean Show what would be migrated without making changes <code>False</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed migration information <code>False</code> <code>--keep-backups</code> / <code>--no-backups</code> boolean Keep backup files after migration <code>True</code> <code>--yes</code>, <code>-y</code> boolean Skip confirmation prompt <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/mcap/#owl-mcap-record","title":"owl mcap record","text":"<p>Record screen, keyboard, mouse, and window events to an <code>.mcap</code> and <code>.mkv</code> file.</p> <p>Usage:</p> <pre><code>owl mcap record [OPTIONS] FILE_LOCATION\n</code></pre> <p>Options:</p> Name Type Description Default <code>--record-audio</code> / <code>--no-record-audio</code> boolean Whether to record audio <code>True</code> <code>--record-video</code> / <code>--no-record-video</code> boolean Whether to record video <code>True</code> <code>--record-timestamp</code> / <code>--no-record-timestamp</code> boolean Whether to record timestamp <code>True</code> <code>--show-cursor</code> / <code>--no-show-cursor</code> boolean Whether to show the cursor in the capture <code>True</code> <code>--fps</code> float The frame rate of the video. Default is 60 fps. <code>60.0</code> <code>--window-name</code> text The name of the window to capture, substring of window name is supported None <code>--monitor-idx</code> integer The index of the monitor to capture None <code>--width</code> integer The width of the video. If None, the width will be determined by the source. None <code>--height</code> integer The height of the video. If None, the height will be determined by the source. None <code>--additional-args</code> text Additional arguments to pass to the pipeline. For detail, see https://gstreamer.freedesktop.org/documentation/d3d11/d3d11screencapturesrc.html None <code>--start-after</code> float Delay recording start by this many seconds. Shows countdown during delay. None <code>--stop-after</code> float Automatically stop recording after this many seconds from start. None <code>--health-check-interval</code> float Interval in seconds for checking resource health. Set to 0 to disable. <code>5.0</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/mcap/#owl-mcap-sanitize","title":"owl mcap sanitize","text":"<p>Sanitize MCAP files by keeping only events when a specific window is active.</p> <p>This command filters MCAP files to retain only the events that occurred when the specified window was active, effectively removing data from other applications for privacy or focus purposes.</p> <p>Safety feature: By default, the operation will be blocked if more than 20% of messages would be removed, preventing accidental over-sanitization. Use --max-removal-ratio to adjust this threshold.</p> <p>Examples:     owl mcap sanitize recording.mcap --keep-window \"Notepad\"     owl mcap sanitize *.mcap --keep-window \"Work App\" --exact     owl mcap sanitize data.mcap --keep-window \"Browser\" --dry-run     owl mcap sanitize data.mcap --keep-window \"App\" --max-removal-ratio 0.95</p> <p>Usage:</p> <pre><code>owl mcap sanitize [OPTIONS] FILES...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--keep-window</code> text Window name to keep events for _required <code>--exact</code> / <code>--substring</code> boolean Use exact window name matching (default: substring) <code>False</code> <code>--dry-run</code> boolean Show what would be changed without making modifications <code>False</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed sanitization information <code>False</code> <code>--yes</code>, <code>-y</code> boolean Skip confirmation prompt <code>False</code> <code>--keep-backups</code> / <code>--no-backups</code> boolean Keep backup files after sanitization <code>True</code> <code>--max-removal-ratio</code> float range (between <code>0.0</code> and <code>1.0</code>) Maximum ratio of messages that can be removed (0.0-1.0). Safety feature to prevent accidental over-sanitization. <code>0.2</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/mcap/#related-documentation","title":"Related Documentation","text":"<ul> <li>OWAMcap Format Guide - Format specification</li> <li>Exploring Data - Analysis workflows</li> <li>CLI Tools - Complete CLI overview</li> </ul>"},{"location":"cli/messages/","title":"Message Commands (<code>owl messages</code>)","text":"<p>Tools for managing OWA message types - structured data schemas used in MCAP files.</p>"},{"location":"cli/messages/#command-reference","title":"Command Reference","text":""},{"location":"cli/messages/#owl-messages","title":"owl messages","text":"<p>Message registry management commands</p> <p>Usage:</p> <pre><code>owl messages [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--install-completion</code> boolean Install completion for the current shell. None <code>--show-completion</code> boolean Show completion for the current shell, to copy it or customize the installation. None <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/messages/#owl-messages-list","title":"owl messages list","text":"<p>List all available message types</p> <p>Usage:</p> <pre><code>owl messages list [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--domain</code>, <code>-d</code> text Filter by domain (e.g., 'desktop') None <code>--format</code>, <code>-f</code> text Output format: table, json, yaml <code>table</code> <code>--verbose</code>, <code>-v</code> boolean Show detailed information <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/messages/#owl-messages-show","title":"owl messages show","text":"<p>Show details about a specific message type</p> <p>Usage:</p> <pre><code>owl messages show [OPTIONS] MESSAGE_TYPE\n</code></pre> <p>Options:</p> Name Type Description Default <code>--format</code>, <code>-f</code> text Output format: rich, json, schema <code>rich</code> <code>--example</code>, <code>-e</code> boolean Show usage example <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/messages/#owl-messages-validate","title":"owl messages validate","text":"<p>Validate message registry and definitions</p> <p>Usage:</p> <pre><code>owl messages validate [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--verbose</code>, <code>-v</code> boolean Show detailed validation results <code>False</code> <code>--fix</code> boolean Attempt to fix validation issues <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/messages/#related-documentation","title":"Related Documentation","text":"<ul> <li>Custom Message Types - Creating custom messages</li> <li>OWAMcap Format Guide - Message format specifications</li> <li>CLI Tools - Complete CLI overview</li> </ul>"},{"location":"cli/video/","title":"Video Commands (<code>owl video</code>)","text":"<p>Tools for processing and analyzing MKV video files from OWA recordings.</p> <p>FFmpeg Required</p> <p>Video commands require FFmpeg to be installed and available in your system PATH.</p>"},{"location":"cli/video/#command-reference","title":"Command Reference","text":""},{"location":"cli/video/#owl-video","title":"owl video","text":"<p>MKV management commands.</p> <p>Usage:</p> <pre><code>owl video [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--install-completion</code> boolean Install completion for the current shell. None <code>--show-completion</code> boolean Show completion for the current shell, to copy it or customize the installation. None <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/video/#owl-video-probe","title":"owl video probe","text":"<p>Analyze frame types and patterns in a video file</p> <p>Usage:</p> <pre><code>owl video probe [OPTIONS] VIDEO_PATH\n</code></pre> <p>Options:</p> Name Type Description Default <code>--detailed</code>, <code>-d</code> boolean Show detailed frame information <code>False</code> <code>--frames</code>, <code>-f</code> boolean Show intervals in frames instead of seconds <code>False</code> <code>--max-frames</code>, <code>-m</code> integer Maximum frames to show in pattern visualization <code>200</code> <code>--max-gops</code>, <code>-g</code> integer Maximum GOPs to analyze in detail <code>3</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/video/#owl-video-vfr-to-cfr","title":"owl video vfr-to-cfr","text":"<p>Convert MKV files with Variable Frame Rate (VFR) to Constant Frame Rate (CFR).</p> <p>Usage:</p> <pre><code>owl video vfr-to-cfr [OPTIONS] PATH\n</code></pre> <p>Options:</p> Name Type Description Default <code>--workers</code>, <code>-w</code> integer Maximum number of parallel conversions None <code>--dry-run</code> boolean Show what would be done without actually converting files <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/video/#related-documentation","title":"Related Documentation","text":"<ul> <li>Recording Data - How OWA generates video files</li> <li>CLI Tools - Complete CLI overview</li> </ul>"},{"location":"data/","title":"Data in OWA: Complete Desktop Agent Data Pipeline","text":"<p>Desktop AI needs high-quality, synchronized multimodal data: screen captures, mouse/keyboard events, and window context. OWA provides the complete pipeline from recording to training.</p>"},{"location":"data/#quick-start-record-train-in-3-steps","title":"\ud83d\ude80 Quick Start: Record \u2192 Train in 3 Steps","text":"<pre><code># 1. Record desktop interaction\nocap my-session.mcap\n\n# 2. Process to training format\npython scripts/01_raw_events_to_event_dataset.py --train-dir ./\n\n# 3. Train your model\npython train.py --dataset ./event-dataset\n</code></pre>"},{"location":"data/#the-owa-data-ecosystem","title":"The OWA Data Ecosystem","text":""},{"location":"data/#getting-started","title":"\ud83c\udfaf Getting Started","text":"<p>New to OWA data? Start here:</p> <ul> <li>Why OWAMcap? - Understand the problem and solution</li> <li>Recording Data - Capture desktop interactions with <code>ocap</code></li> <li>Exploring Data - View and analyze your recordings</li> </ul>"},{"location":"data/#technical-reference","title":"\ud83d\udcda Technical Reference","text":"<p>Deep dive into the format and pipeline:</p> <ul> <li>OWAMcap Format Guide - Complete technical specification</li> <li>Data Pipeline - Transform recordings to training-ready datasets</li> </ul>"},{"location":"data/#tools-ecosystem","title":"\ud83d\udee0\ufe0f Tools &amp; Ecosystem","text":"<ul> <li>Data Viewer - Web-based visualization tool</li> <li>Comparison with LeRobot - Technical comparison with alternatives</li> </ul>"},{"location":"data/#community-datasets","title":"\ud83e\udd17 Community Datasets","text":"<p>Browse Available Datasets: \ud83e\udd17 datasets?other=OWA</p> <ul> <li>Growing Collection: Hundreds of community-contributed datasets</li> <li>Standardized Format: All use OWAMcap for seamless integration</li> <li>Interactive Preview: Hugging Face Spaces Visualizer</li> <li>Easy Sharing: Upload recordings directly with one command</li> </ul> <p>\ud83d\ude80 Impact: OWA has democratized desktop agent data, growing from zero to hundreds of public datasets in the unified OWAMcap format.</p>"},{"location":"data/examples/conversions/","title":"Data Conversion Examples","text":"<p>Open World Agents provides conversion scripts to transform existing gaming and interaction datasets into the standardized OWAMcap format. This enables researchers to leverage existing datasets for training multimodal desktop agents.</p> <p>What are Data Conversions?</p> <p>Data conversions transform existing gaming datasets (VPT, CS:GO, etc.) into the standardized OWAMcap format, enabling unified training across different games and interaction types.</p>"},{"location":"data/examples/conversions/#why-convert-to-owamcap","title":"Why Convert to OWAMcap?","text":"<p>OWAMcap (Open World Agents MCAP) is a standardized format that:</p> <ul> <li> Unifies multimodal data: Combines video, keyboard, mouse, and metadata in a single format</li> <li> Enables cross-dataset training: Consistent format across different games and interaction types</li> <li> Supports efficient streaming: Optimized for real-time agent training and inference</li> <li> Preserves temporal relationships: Maintains precise timing between visual and input events</li> </ul>"},{"location":"data/examples/conversions/#available-conversions","title":"Available Conversions","text":"VPT (Minecraft)CS:GO (FPS)"},{"location":"data/examples/conversions/#video-pretraining-vpt-owamcap","title":"Video PreTraining (VPT) \u2192 OWAMcap","text":"<p>Convert OpenAI's Minecraft VPT dataset for navigation and basic interaction training.</p> <p> View VPT Conversion Guide</p>"},{"location":"data/examples/conversions/#counter-strike-deathmatch-owamcap","title":"Counter-Strike Deathmatch \u2192 OWAMcap","text":"<p>Convert expert CS:GO gameplay data for competitive FPS agent training.</p> <p> View CS:GO Conversion Guide</p>"},{"location":"data/examples/conversions/#getting-started","title":"Getting Started","text":"<p>For detailed installation, usage instructions, and troubleshooting, see the individual conversion guides above.</p> <p> Browse All Conversion Scripts</p>"},{"location":"data/getting-started/exploring-data/","title":"Exploring OWAMcap Data","text":"<p>Practical guide to viewing and analyzing OWAMcap recordings using different tools and workflows.</p>"},{"location":"data/getting-started/exploring-data/#sample-dataset","title":"\ud83d\udcc1 Sample Dataset","text":"<p>Download our example dataset to follow along:</p> <ul> <li><code>example.mcap</code> [Download] - 22 KiB metadata file</li> <li><code>example.mkv</code> [Download] - Video recording</li> </ul> Preview: example.mkv <p> </p>"},{"location":"data/getting-started/exploring-data/#exploration-workflows","title":"\ud83d\udd0d Exploration Workflows","text":"<p>Choose the approach that fits your use case:</p>"},{"location":"data/getting-started/exploring-data/#interactive-web-viewer-recommended","title":"\ud83c\udf10 Interactive Web Viewer (Recommended)","text":"<p>Best for: Visual exploration, beginners, sharing with others</p> <p>OWA Dataset Visualizer provides synchronized playback of video and events.</p> <p>Quick Start:</p> <ol> <li>Visit the visualizer link</li> <li>Upload your <code>.mcap</code> file or enter a HuggingFace dataset ID</li> <li>Use timeline controls to explore synchronized data</li> </ol> <p>Limitations: 100MB file limit for public hosting \u2192 Self-hosting guide</p>"},{"location":"data/getting-started/exploring-data/#command-line-analysis","title":"\ud83d\udcbb Command Line Analysis","text":"<p>Best for: Quick inspection, scripting, CI/CD pipelines</p> <p>The <code>owl</code> CLI provides fast analysis without loading video data:</p> <p>Common Commands:</p> <pre><code># Get file overview\nowl mcap info example.mcap\n\n# List first 10 messages\nowl mcap cat example.mcap --n 10\n\n# Filter by topic\nowl mcap cat example.mcap --topics screen --topics mouse\n\n# Convert to subtitle format\nowl mcap convert example.mcap  # Creates example.srt\n</code></pre> <p>Example Output: <pre><code>library:   mcap-owa-support 0.5.1\nmessages:  864 (10.36s duration)\nchannels:  screen(590), mouse(209), keyboard(32), window(11)\n</code></pre></p>"},{"location":"data/getting-started/exploring-data/#video-player-with-subtitles","title":"\ud83c\udfac Video Player with Subtitles","text":"<p>Best for: Visual timeline analysis, understanding user behavior</p> <ol> <li> <p>Generate subtitle file:    <pre><code>owl mcap convert example.mcap  # Creates example.srt\n</code></pre></p> </li> <li> <p>Open in video player: Use VLC or any player that supports subtitles</p> </li> <li>Load <code>example.mkv</code></li> <li>Load <code>example.srt</code> as subtitles</li> <li>See events overlaid on video timeline</li> </ol> <p>Download example: <code>example.srt</code> [Download]</p>"},{"location":"data/getting-started/exploring-data/#python-api","title":"\ud83d\udc0d Python API","text":"<p>Best for: Custom analysis, data processing, integration</p> <p>For programmatic access, see the OWAMcap Format Guide which covers:</p> <ul> <li>Reading and writing MCAP files</li> <li>Working with media references</li> <li>Advanced filtering and processing</li> <li>Custom message types</li> </ul>"},{"location":"data/getting-started/exploring-data/#analysis-workflows","title":"\ud83d\udd27 Analysis Workflows","text":""},{"location":"data/getting-started/exploring-data/#quick-dataset-overview","title":"\ud83d\udcca Quick Dataset Overview","text":"<pre><code># Get basic stats\nowl mcap info *.mcap\n\n# Compare multiple files\nfor file in *.mcap; do\n  echo \"=== $file ===\"\n  owl mcap info \"$file\" | grep -E \"(messages|duration|channels)\"\ndone\n</code></pre>"},{"location":"data/getting-started/exploring-data/#event-timeline-analysis","title":"\u23f1\ufe0f Event Timeline Analysis","text":"<pre><code># Extract events to subtitle format for timeline view\nowl mcap convert session.mcap\n\n# View in VLC with subtitles to see event timing\nvlc session.mkv --sub-file session.srt\n</code></pre>"},{"location":"data/getting-started/exploring-data/#topic-specific-analysis","title":"\ud83c\udfaf Topic-Specific Analysis","text":"<pre><code># Focus on user interactions\nowl mcap cat session.mcap --topics mouse --topics keyboard\n\n# Screen capture analysis\nowl mcap cat session.mcap --topics screen --n 100\n</code></pre>"},{"location":"data/getting-started/exploring-data/#creating-and-modifying-files","title":"\ud83d\udee0\ufe0f Creating and Modifying Files","text":"<p>For programmatic creation and editing of OWAMcap files, see the comprehensive guide in OWAMcap Format Guide, which covers:</p> <ul> <li>Writing MCAP files with Python API</li> <li>Custom message types and registration</li> <li>Media handling strategies</li> <li>Advanced usage patterns</li> </ul>"},{"location":"data/getting-started/exploring-data/#next-steps","title":"\ud83d\udcca Next Steps","text":"<ul> <li>Data Pipeline - Transform recordings for ML training</li> <li>Format Guide - Complete technical reference</li> <li>Viewer Setup - Self-host for large datasets</li> </ul>"},{"location":"data/getting-started/recording-data/","title":"ocap","text":"<p>High-performance desktop recorder for Windows. Captures screen, audio, keyboard, mouse, and window events.</p>"},{"location":"data/getting-started/recording-data/#what-is-ocap","title":"What is ocap?","text":"<p>ocap (Omnimodal CAPture) captures all essential desktop signals in synchronized format. Records screen video, audio, keyboard/mouse input, and window events. Built for the open-world-agents project but works for any desktop recording needs.</p> <p>TL;DR: Complete, high-performance desktop recording tool for Windows. Captures everything in one command.</p>"},{"location":"data/getting-started/recording-data/#key-features","title":"Key Features","text":"<ul> <li>Complete desktop recording: Video, audio, keyboard/mouse events, window events</li> <li>High performance: Hardware-accelerated with Windows APIs and GStreamer</li> <li>Efficient encoding: H265/HEVC for high quality and small file size</li> <li>Simple operation: <code>ocap FILE_LOCATION</code> (stop with Ctrl+C)</li> <li>Clean architecture: Core logic in single 320-line Python file</li> <li>Modern formats: MKV with embedded timestamps, MCAP format for events</li> </ul>"},{"location":"data/getting-started/recording-data/#system-requirements","title":"System Requirements","text":"<p>Based on OBS Studio recommended specs + NVIDIA GPU requirements:</p> Component Specification OS Windows 11 (64-bit) Processor Intel i7 8700K / AMD Ryzen 1600X Memory 8 GB RAM Graphics NVIDIA GeForce 10 Series or newer \u26a0\ufe0f DirectX Version 11 Storage 600 MB + ~100MB per minute recording <p>\u26a0\ufe0f NVIDIA GPU Required: Currently only supports NVIDIA GPUs for hardware acceleration. AMD/Intel GPU support possible through GStreamer framework - contributions welcome!</p> <p>\ud83d\udda5\ufe0f OS Support: Currently only supports Windows. However, support for other operating systems (Linux, macOS) can be relatively easily extended due to the presence of GStreamer. Simply using different GStreamer pipelines can enable capture on other platforms - contributions welcome!</p>"},{"location":"data/getting-started/recording-data/#installation-usage","title":"Installation &amp; Usage","text":""},{"location":"data/getting-started/recording-data/#option-1-download-release","title":"Option 1: Download Release","text":"<ol> <li>Download <code>ocap.zip</code> from releases</li> <li>Unzip and run:<ul> <li>Double-click <code>run.bat</code> (opens terminal with virtual environment)</li> <li>Or in CLI: <code>run.bat --help</code></li> </ul> </li> </ol>"},{"location":"data/getting-started/recording-data/#option-2-package-install","title":"Option 2: Package Install","text":"<p>All OWA packages are available on PyPI:</p> <pre><code># Install GStreamer dependencies first (for video recording)\n$ conda install open-world-agents::gstreamer-bundle\n\n# Install ocap\n$ pip install ocap\n</code></pre>"},{"location":"data/getting-started/recording-data/#basic-usage","title":"Basic Usage","text":"<pre><code># Start recording (stop with Ctrl+C)\n$ ocap my-recording\n\n# Show all options\n$ ocap --help\n\n# Advanced options\n$ ocap FILENAME --window-name \"App\"   # Record specific window\n$ ocap FILENAME --monitor-idx 1       # Record specific monitor\n$ ocap FILENAME --fps 60              # Set framerate\n$ ocap FILENAME --no-record-audio     # Disable audio\n</code></pre>"},{"location":"data/getting-started/recording-data/#output-files","title":"Output Files","text":"<ul> <li><code>.mcap</code> \u2014 Event log (keyboard, mouse, windows)</li> <li><code>.mkv</code>  \u2014 Video/audio with embedded timestamps</li> </ul> <p>Your recording files will be ready immediately!</p>"},{"location":"data/getting-started/recording-data/#feature-comparison","title":"Feature Comparison","text":"Feature ocap OBS wcap pillow/mss Advanced data formats (MCAP/MKV) \u2705 Yes \u274c No \u274c No \u274c No Timestamp aligned logging \u2705 Yes \u274c No \u274c No \u274c No Customizable event definition &amp; Listener \u2705 Yes \u274c No \u274c No \u274c No Single python file \u2705 Yes \u274c No \u274c No \u274c No Audio + Window + Keyboard + Mouse \u2705 Yes \u26a0\ufe0f Partial \u274c No \u274c No Hardware-accelerated encoder \u2705 Yes \u2705 Yes \u2705 Yes \u274c No Supports latest Windows APIs \u2705 Yes \u2705 Yes \u2705 Yes \u274c No (legacy APIs only) Optional mouse cursor capture \u2705 Yes \u2705 Yes \u2705 Yes \u274c No"},{"location":"data/getting-started/recording-data/#technical-architecture","title":"Technical Architecture","text":"<p>Built on GStreamer with clean, maintainable design:</p> <pre><code>flowchart TD\n    %% Input Sources\n    A[owa.env.desktop] --&gt; B[Keyboard Events]\n    A --&gt; C[Mouse Events] \n    A --&gt; D[Window Events]\n    E[owa.env.gst] --&gt; F[Screen Capture]\n    E --&gt; G[Audio Capture]\n\n    %% Core Processing\n    B --&gt; H[Event Queue]\n    C --&gt; H\n    D --&gt; H\n    F --&gt; H\n    F --&gt; I[Video/Audio Pipeline]\n    G --&gt; I\n\n    %% Outputs\n    H --&gt; J[MCAP Writer]\n    I --&gt; K[MKV Pipeline]\n\n    %% Files\n    J --&gt; L[\ud83d\udcc4 events.mcap]\n    K --&gt; M[\ud83c\udfa5 video.mkv]\n\n    style A fill:#e1f5fe\n    style E fill:#e1f5fe\n    style H fill:#fff3e0\n    style L fill:#e8f5e8\n    style M fill:#e8f5e8</code></pre> <ul> <li>Easy to verify: Extensive OWA's Env design enables customizable <code>recorder.py</code></li> <li>Native performance: Direct Windows API integration (DXGI/WGC, WASAPI)</li> </ul>"},{"location":"data/getting-started/recording-data/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Record terminates right after start? Re-run the same command a few times. This is due to an intermittent GStreamer crash with an unknown cause.</li> <li>GStreamer error message box appears on first run? This is a known issue where GStreamer may show error dialogs the first time you run <code>ocap</code>. These messages do not affect recording\u2014simply close the dialogs and continue. <code>ocap</code> will function normally.</li> <li>Audio not recording? By default, only audio from the target process is recorded. To change this, manually edit the GStreamer pipeline.</li> <li>Large file sizes? Reduce file size by adjusting the <code>gop-size</code> parameter in the <code>nvd3d11h265enc</code> element. See pipeline.py.</li> <li>Performance tips: Close unnecessary applications before recording, use SSD storage for better write performance, and record to a different drive than your OS drive.</li> </ul>"},{"location":"data/getting-started/recording-data/#faq","title":"FAQ","text":"<ul> <li>How much disk space do recordings use? ~100MB per minute for 1080p H265 recording.</li> <li>Can I customize recorded events? Yes. Enable/disable audio, keyboard, mouse, and window events individually. Since recorder.py is just a 320-line single python script, you may customize it easily.</li> <li>Will ocap slow down my computer? Minimal impact with hardware acceleration. Designed for low overhead.</li> <li>What formats are supported? MKV with H265/HEVC encoding for video and MCAP format for events for efficient storage and querying is supported, but you may customize it easily. (e.g. saving <code>jsonl</code> instead of <code>mcap</code> file takes minimal effort by editing recorder.py)</li> </ul>"},{"location":"data/getting-started/recording-data/#when-to-use-ocap","title":"When to Use ocap","text":"<ul> <li>Agent training: Capture all inputs and outputs for AI training</li> <li>Workflow documentation: Record exact steps with precise timing</li> <li>Performance testing: Low-overhead recording during intensive tasks</li> <li>Complete screen recording: When you need more than just video</li> </ul>"},{"location":"data/getting-started/why-owamcap/","title":"Why OWAMcap?","text":"<p>The Problem: Desktop AI datasets are fragmented. Every research group uses different formats, making it impossible to combine datasets or build large-scale foundation models.</p> <p>The Solution: OWAMcap provides a universal standard that treats all desktop interaction datasets equally.</p>"},{"location":"data/getting-started/why-owamcap/#the-robotics-lesson","title":"The Robotics Lesson","text":"<p>The Open-X Embodiment project had to manually convert 22 different robotics datasets - months of work just to combine data. Desktop automation is heading down the same path.</p>"},{"location":"data/getting-started/why-owamcap/#owamcap-changes-this","title":"OWAMcap Changes This","text":""},{"location":"data/getting-started/why-owamcap/#before-data-silos","title":"Before: Data Silos","text":"<pre><code>Dataset A (Custom Format) \u2500\u2500\u2510\nDataset B (Custom Format) \u2500\u2500\u253c\u2500\u2500 Manual Conversion \u2500\u2500\u2192 Limited Training Data\nDataset C (Custom Format) \u2500\u2500\u2518\n</code></pre>"},{"location":"data/getting-started/why-owamcap/#after-universal-standard","title":"After: Universal Standard","text":"<pre><code>Dataset A (OWAMcap) \u2500\u2500\u2510\nDataset B (OWAMcap) \u2500\u2500\u253c\u2500\u2500 Direct Combination \u2500\u2500\u2192 Large-Scale Foundation Models\nDataset C (OWAMcap) \u2500\u2500\u2518\n</code></pre>"},{"location":"data/getting-started/why-owamcap/#from-recording-to-training-in-3-commands","title":"From Recording to Training in 3 Commands","text":"<p>OWAMcap integrates with the complete OWA Data Pipeline:</p> <pre><code># 1. Record desktop interaction\nocap my-session.mcap\n\n# 2. Process to training format\npython scripts/01_raw_events_to_event_dataset.py --train-dir ./\n\n# 3. Train your model\npython train.py --dataset ./event-dataset\n</code></pre> <p>Result: Any OWAMcap dataset works with any OWA-compatible training pipeline.</p>"},{"location":"data/getting-started/why-owamcap/#technical-advantages","title":"Technical Advantages","text":"<ul> <li>91.7\u00d7 compression through hybrid storage (metadata + external video)</li> <li>Nanosecond precision for perfect event synchronization</li> <li>Standard tools work with video files (VLC, FFmpeg, etc.)</li> <li>Lazy loading for memory-efficient processing</li> </ul>"},{"location":"data/getting-started/why-owamcap/#real-impact","title":"Real Impact","text":"<pre><code>$ owl mcap info example.mcap\nmessages:  864 (10.36s of interaction data)\nfile size: 22 KiB (vs 1+ GB raw)\nchannels:  screen, mouse, keyboard, window\n</code></pre> <p>Bottom Line: OWAMcap transforms desktop interaction data from isolated collections into a unified resource for building the next generation of foundation models.</p> <p>Ready to get started? Continue to the OWAMcap Format Guide for technical details.</p>"},{"location":"data/technical-reference/custom-messages/","title":"Custom Message Types in OWAMcap","text":"<p>OWAMcap's extensible design allows you to define and register custom message types for domain-specific data while maintaining compatibility with the standard OWAMcap ecosystem.</p> <p>When to Use Custom Messages</p> <p>Custom messages are perfect for:</p> <ul> <li>Domain-specific data: Sensor readings, game events, robotics telemetry</li> <li>Application-specific context: Custom metadata, annotations, or derived data</li> <li>Research extensions: Novel data types for experimental workflows</li> </ul> <p>Standard desktop messages (<code>mouse</code>, <code>keyboard</code>, <code>screen</code>, <code>window</code>) cover most desktop agent use cases.</p>"},{"location":"data/technical-reference/custom-messages/#creating-custom-messages","title":"Creating Custom Messages","text":"<p>All custom messages must inherit from <code>OWAMessage</code> and follow the domain/MessageType naming convention:</p> <pre><code>from owa.core.message import OWAMessage\nfrom typing import Optional, List\nfrom pydantic import Field, validator\nimport time\n\nclass TemperatureReading(OWAMessage):\n    _type = \"sensors/TemperatureReading\"\n\n    temperature: float          # Temperature in Celsius\n    humidity: float = Field(..., ge=0, le=100)  # Relative humidity (0-100%)\n    location: str              # Sensor location identifier\n    timestamp: Optional[int] = Field(default_factory=time.time_ns)  # Unix timestamp in nanoseconds\n\n    @validator('temperature')\n    def validate_temperature(cls, v):\n        if v &lt; -273.15:  # Absolute zero check\n            raise ValueError('Temperature cannot be below absolute zero')\n        return v\n\nclass GameEvent(OWAMessage):\n    _type = \"gaming/PlayerAction\"\n\n    action_type: str           # \"move\", \"attack\", \"interact\"\n    player_id: str            # Unique player identifier\n    coordinates: List[float] = Field(..., min_items=3, max_items=3)  # [x, y, z] world coordinates\n    metadata: dict = {}        # Additional action-specific data\n\n    @validator('action_type')\n    def validate_action_type(cls, v):\n        allowed_actions = {'move', 'attack', 'interact', 'idle'}\n        if v not in allowed_actions:\n            raise ValueError(f'action_type must be one of {allowed_actions}')\n        return v\n</code></pre>"},{"location":"data/technical-reference/custom-messages/#package-registration","title":"Package Registration","text":"<p>Custom messages are registered through Python entry points in your package's <code>pyproject.toml</code>:</p> <pre><code>[project.entry-points.\"owa.msgs\"]\n\"sensors/TemperatureReading\" = \"my_sensors.messages:TemperatureReading\"\n\"gaming/PlayerAction\" = \"my_game.events:GameEvent\"\n\"custom/MyMessage\" = \"my_package.messages:MyMessage\"\n</code></pre> <p>Important: The package containing your custom messages must be installed in the same environment where you're using OWAMcap for the entry points to be discovered:</p> <pre><code># Install your custom message package\npip install my-custom-messages\n\n# Or install in development mode\npip install -e /path/to/my-custom-messages\n\n# Now custom messages are available in the registry\npython -c \"from owa.core import MESSAGES; print('sensors/TemperatureReading' in MESSAGES)\"\n</code></pre>"},{"location":"data/technical-reference/custom-messages/#usage-with-owamcap","title":"Usage with OWAMcap","text":"<p>Once registered, custom messages work seamlessly with OWAMcap tools:</p> <pre><code>from mcap_owa.highlevel import OWAMcapWriter, OWAMcapReader\nfrom owa.core import MESSAGES\n\n# Access your custom message through the registry\nTemperatureReading = MESSAGES['sensors/TemperatureReading']\n\n# Write custom messages to MCAP\nwith OWAMcapWriter(\"sensor_data.mcap\") as writer:\n    reading = TemperatureReading(\n        temperature=23.5,\n        humidity=65.2,\n        location=\"office_desk\"\n    )\n    writer.write_message(reading, topic=\"temperature\", timestamp=reading.timestamp)\n\n# Read custom messages from MCAP\nwith OWAMcapReader(\"sensor_data.mcap\") as reader:\n    for msg in reader.iter_messages(topics=[\"temperature\"]):\n        temp_data = msg.decoded\n        print(f\"Temperature: {temp_data.temperature}\u00b0C at {temp_data.location}\")\n</code></pre>"},{"location":"data/technical-reference/custom-messages/#best-practices","title":"Best Practices","text":"Naming ConventionsSchema DesignPackage Structure <ul> <li>Domain: Use descriptive domain names (<code>sensors</code>, <code>gaming</code>, <code>robotics</code>)</li> <li>MessageType: Use PascalCase (<code>TemperatureReading</code>, <code>PlayerAction</code>)</li> <li>Avoid conflicts: Check existing message types before naming</li> <li>Be specific: <code>sensors/TemperatureReading</code> vs generic <code>sensors/Reading</code></li> </ul> <ul> <li>Use type hints: Enable automatic JSON schema generation</li> <li>Leverage pydantic features: See Pydantic documentation for validation, field constraints, and defaults</li> <li>Documentation: Include docstrings for complex message types</li> </ul> <pre><code>my_custom_package/\n\u251c\u2500\u2500 pyproject.toml              # Entry point registration\n\u251c\u2500\u2500 my_package/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 messages.py             # Message definitions\n\u2514\u2500\u2500 tests/\n    \u2514\u2500\u2500 test_messages.py        # Message validation tests\n</code></pre>"},{"location":"data/technical-reference/custom-messages/#cli-integration","title":"CLI Integration","text":"<p>Custom messages automatically work with OWA CLI tools:</p> <pre><code># List all available message types (including custom)\nowl messages list\n\n# View custom message schema\nowl messages show sensors/TemperatureReading\n\n# View custom messages in MCAP files\nowl mcap cat sensor_data.mcap --topics temperature\n</code></pre> <p>Complete CLI Reference</p> <p>For detailed information about all CLI commands and options:</p> <ul> <li>CLI Tools - Complete command overview</li> <li>Message Commands - Detailed <code>owl messages</code> documentation</li> <li>MCAP Commands - Working with custom messages in MCAP files</li> </ul>"},{"location":"data/technical-reference/custom-messages/#next-steps","title":"Next Steps","text":"<ul> <li>OWAMcap Format Guide: Return to the main format documentation</li> <li>Data Pipeline: Learn how custom messages work in the training pipeline</li> <li>CLI Reference: Complete CLI documentation for working with custom messages</li> </ul>"},{"location":"data/technical-reference/data-pipeline/","title":"OWA Data Pipeline: From Raw MCAP to VLA Training","text":""},{"location":"data/technical-reference/data-pipeline/#quick-demo-3-commands-to-vla-training","title":"Quick Demo: 3 Commands to VLA Training","text":"<p>Step 1: Process raw MCAP files</p> python scripts/01_raw_events_to_event_dataset.py \\   --train-dir /data/mcaps/game-session \\   --output-dir /data/event-dataset \\   --rate mouse=60 --rate screen=20 \\   --keep_topic screen --keep_topic keyboard\ud83d\udd04 Raw Events to Event Dataset\ud83d\udcc1 Loading from: /data/mcaps/game-session\ud83d\udcca Found 3 train, 1 test files\u2713 Created 24,907 train, 20,471 test examples\ud83d\udcbe Saving to /data/event-dataset\u2713 Saved successfully\ud83c\udf89 Completed in 3.9s (0.1min) <p>Step 2: Create time bins (optional)</p> python scripts/02_event_dataset_to_binned_dataset.py \\   --input-dir /data/event-dataset \\   --output-dir /data/binned-dataset \\   --fps 10 \\   --filter-empty-actions\ud83d\uddc2\ufe0f Event Dataset to Binned Dataset\ud83d\udcc1 Loading from: /data/event-dataset\ud83d\udcca Found 3 files to process\u2713 Created 2,235 binned entries for train split\u2713 Created 1,772 binned entries for test split\ud83d\udcbe Saving to /data/binned-dataset\u2713 Saved 4,007 total binned entries\ud83c\udf89 Completed in 4.0s (0.1min) <p>Step 3: Train your model</p> python&gt;&gt;&gt; from datasets import load_from_disk&gt;&gt;&gt; from owa.data import create_binned_dataset_transform&gt;&gt;&gt;&gt;&gt;&gt; # Load and transform dataset&gt;&gt;&gt; dataset = load_from_disk(\"/data/binned-dataset\")&gt;&gt;&gt; transform = create_binned_dataset_transform(...     encoder_type=\"hierarchical\",...     instruction=\"Complete the computer task\"... )&gt;&gt;&gt; dataset.set_transform(transform)&gt;&gt;&gt;&gt;&gt;&gt; # Use in training&gt;&gt;&gt; for sample in dataset[\"train\"].take(1):...     print(f\"Images: {len(sample['images'])} frames\")...     print(f\"Actions: {sample['encoded_events'][:3]}...\")...     print(f\"Instruction: {sample['instruction']}\")Images: 12 framesActions: ['&lt;EVENT_START&gt;mouse_move&lt;EVENT_END&gt;', '&lt;EVENT_START&gt;key_press:w&lt;EVENT_END&gt;', '&lt;EVENT_START&gt;mouse_click:left&lt;EVENT_END&gt;']...Instruction: Complete the computer task <p>That's it! Your MCAP recordings are now ready for VLA training.</p> <p>The OWA Data Pipeline is a streamlined 2-stage processing system that transforms raw MCAP recordings into training-ready datasets for Vision-Language-Action (VLA) models. This pipeline bridges the gap between desktop interaction capture and foundation model training.</p>"},{"location":"data/technical-reference/data-pipeline/#pipeline-architecture","title":"Pipeline Architecture","text":"<pre><code>graph LR\n    A[Raw MCAP Files] --&gt; B[Stage 1: Event Dataset]\n    B --&gt; C[Stage 2: Binned Dataset]\n    B --&gt; D[Dataset Transforms]\n    C --&gt; D\n    D --&gt; E[VLA Training Ready]\n\n    style A fill:#e1f5fe\n    style B fill:#f3e5f5\n    style C fill:#e8f5e8\n    style D fill:#fff3e0\n    style E fill:#ffebee</code></pre> <p>Key Features:</p> <ul> <li>\ud83d\udd04 Flexible: Skip binning and use Event Dataset directly, or use traditional Binned Dataset approach</li> <li>\ud83d\udcbe Storage Optimized: Since event/binned dataset saves only reference to media, the entire pipeline is designed to be space-efficient. <pre><code>/data/\n\u251c\u2500\u2500 mcaps/           # Raw recordings (400MB)\n\u251c\u2500\u2500 event-dataset/   # References only (20MB)\n\u2514\u2500\u2500 binned-dataset/  # Aggregated refs (2MB)\n</code></pre></li> <li>\ud83e\udd17 Native HuggingFace: Event/binned dataset is a true HuggingFace <code>datasets.Dataset</code> with <code>set_transform()</code>, not wrappers. <pre><code># Since event/binned datasets are true HuggingFace datasets,\n# they can be loaded directly into training pipelines\nfrom datasets import load_from_disk\ndataset = load_from_disk(\"/data/event-dataset\")\ndataset = load_from_disk(\"/data/binned-dataset\")\n\n# Transform to VLA training format is applied on-the-fly during training\nfrom owa.data import create_binned_dataset_transform\ntransform = create_binned_dataset_transform(\n    encoder_type=\"hierarchical\",\n    instruction=\"Complete the computer task\",\n)\ndataset.set_transform(transform)\n\n# Use in training\nfor sample in dataset[\"train\"].take(1):\n    print(f\"Images: {len(sample['images'])} frames\")\n    print(f\"Actions: {sample['encoded_events'][:3]}...\")\n    print(f\"Instruction: {sample['instruction']}\")\n</code></pre></li> <li>\u26a1 Compute-optimized, On-the-Fly Processing: During preprocess stage, media is not loaded. During training, only the required media is loaded on-demand.</li> </ul> python scripts/01_raw_events_to_event_dataset.py\ud83d\udd04 Raw Events to Event Dataset\ud83d\udcc1 Loading from: /data/mcaps/game-session\ud83d\udcca Found 3 train, 1 test files\u2713 Created 24,907 train, 20,471 test examples\ud83d\udcbe Saving to /data/event-dataset\u2713 Saved successfully\ud83c\udf89 Completed in **3.9s** (0.1min)"},{"location":"data/technical-reference/data-pipeline/#stage-1-raw-mcap-event-dataset","title":"Stage 1: Raw MCAP \u2192 Event Dataset","text":"<p>Purpose</p> <p>Extract and downsample raw events from MCAP files while preserving temporal precision and event context.</p>"},{"location":"data/technical-reference/data-pipeline/#script-usage","title":"Script Usage","text":"<pre><code>python scripts/01_raw_events_to_event_dataset.py \\\n  --train-dir /path/to/mcap/files \\\n  --output-dir /path/to/event/dataset \\\n  --rate mouse=60 --rate screen=20 \\\n  --keep_topic screen --keep_topic keyboard\n</code></pre>"},{"location":"data/technical-reference/data-pipeline/#key-parameters","title":"Key Parameters","text":"Parameter Description Example <code>--train-dir</code> Directory containing MCAP files <code>/data/recordings/</code> <code>--output-dir</code> Output directory for Event Dataset <code>/data/event-dataset/</code> <code>--rate</code> Rate limiting per topic (Hz) <code>mouse=60 screen=20</code> <code>--keep_topic</code> Topics to include in dataset <code>screen keyboard mouse</code>"},{"location":"data/technical-reference/data-pipeline/#output-schema","title":"Output Schema","text":"<p>The Event Dataset uses a flat structure optimized for temporal queries:</p> <pre><code>{\n    \"file_path\": Value(\"string\"),      # Source MCAP file path\n    \"topic\": Value(\"string\"),          # Event topic (keyboard, mouse, screen)\n    \"timestamp_ns\": Value(\"int64\"),    # Timestamp in nanoseconds\n    \"message_type\": Value(\"string\"),   # Full message type identifier\n    \"mcap_message\": Value(\"binary\"),   # Serialized McapMessage bytes\n}\n</code></pre> <p>When to Use Event Dataset</p> <ul> <li>High-frequency training: When you need precise temporal resolution</li> <li>Custom binning: When you want to implement your own temporal aggregation</li> <li>Event-level analysis: When studying individual interaction patterns</li> </ul>"},{"location":"data/technical-reference/data-pipeline/#stage-2-event-dataset-binned-dataset","title":"Stage 2: Event Dataset \u2192 Binned Dataset","text":"<p>Purpose</p> <p>Aggregate events into fixed-rate time bins for uniform temporal sampling, separating state (screen) from actions (keyboard/mouse). This format is equivalent to most existing VLA datasets, such as LeRobotDataset</p>"},{"location":"data/technical-reference/data-pipeline/#script-usage_1","title":"Script Usage","text":"<pre><code>python scripts/02_event_dataset_to_binned_dataset.py \\\n  --input-dir /path/to/event/dataset \\\n  --output-dir /path/to/binned/dataset \\\n  --fps 10 \\\n  --filter-empty-actions\n</code></pre>"},{"location":"data/technical-reference/data-pipeline/#key-parameters_1","title":"Key Parameters","text":"Parameter Description Default <code>--fps</code> Binning frequency (frames per second) <code>10</code> <code>--filter-empty-actions</code> Remove bins with no actions <code>False</code> <code>--input-dir</code> Event Dataset directory Required <code>--output-dir</code> Output directory for Binned Dataset Required"},{"location":"data/technical-reference/data-pipeline/#output-schema_1","title":"Output Schema","text":"<p>The Binned Dataset organizes events into temporal bins with state-action separation:</p> <pre><code>{\n    \"file_path\": Value(\"string\"),      # Source MCAP file path\n    \"bin_idx\": Value(\"int32\"),         # Time bin index\n    \"timestamp_ns\": Value(\"int64\"),    # Bin start timestamp\n    \"state\": Sequence(feature=Value(\"binary\"), length=-1),    # Screen events\n    \"actions\": Sequence(feature=Value(\"binary\"), length=-1),  # Action events\n}\n</code></pre> <p>When to Use Binned Dataset</p> <ul> <li>Traditional VLA training: When following established vision-language-action patterns</li> <li>Fixed-rate processing: When you need consistent temporal sampling</li> <li>State-action separation: When your model expects distinct state and action inputs</li> <li>Efficient filtering: When you want to remove inactive periods</li> </ul>"},{"location":"data/technical-reference/data-pipeline/#dataset-transforms-the-magic-layer","title":"Dataset Transforms: The Magic Layer","text":"<p>Dataset transforms provide the crucial bridge between stored data and training-ready format. They apply on-demand during data loading, not during preprocessing.</p>"},{"location":"data/technical-reference/data-pipeline/#unified-transform-interface","title":"Unified Transform Interface","text":"<p>Both Event Dataset and Binned Dataset support the same transform interface:</p> Event Dataset TransformBinned Dataset Transform <pre><code>from datasets import load_from_disk\nfrom owa.data import create_event_dataset_transform\n\n# Load dataset\ndataset = load_from_disk(\"/path/to/event-dataset\")\n\n# Create transform\ntransform = create_event_dataset_transform(\n    encoder_type=\"hierarchical\",\n    load_images=True,\n    encode_actions=True,\n)\n\n# Apply transform\ndataset.set_transform(transform)\n\n# Use in training\nfor sample in dataset[\"train\"]:\n    images = sample[\"images\"]          # List[PIL.Image]\n    events = sample[\"encoded_events\"]  # List[str]\n</code></pre> <pre><code>from datasets import load_from_disk\nfrom owa.data import create_binned_dataset_transform\n\n# Load dataset\ndataset = load_from_disk(\"/path/to/binned-dataset\")\n\n# Create transform\ntransform = create_binned_dataset_transform(\n    encoder_type=\"hierarchical\",\n    instruction=\"Complete the computer task\",\n    load_images=True,\n    encode_actions=True,\n)\n\n# Apply transform\ndataset.set_transform(transform)\n\n# Use in training\nfor sample in dataset[\"train\"]:\n    images = sample[\"images\"]          # List[PIL.Image]\n    actions = sample[\"encoded_events\"] # List[str]\n    instruction = sample[\"instruction\"] # str\n</code></pre>"},{"location":"data/technical-reference/data-pipeline/#transform-parameters","title":"Transform Parameters","text":"Parameter Description Options Default <code>encoder_type</code> Event encoding strategy <code>hierarchical</code>, <code>json</code>, <code>flat</code> <code>hierarchical</code> <code>load_images</code> Load screen images <code>True</code>, <code>False</code> <code>True</code> <code>encode_actions</code> Encode action events <code>True</code>, <code>False</code> <code>True</code> <code>instruction</code> Task instruction (Binned only) Any string <code>\"Complete the task\"</code>"},{"location":"data/technical-reference/data-pipeline/#references","title":"References","text":"<ul> <li>Format Guide - OWAMcap details</li> <li>Recording Data - Create with <code>ocap</code></li> <li>HuggingFace Datasets - <code>datasets</code> library</li> </ul>"},{"location":"data/technical-reference/format-guide/","title":"OWAMcap Format Guide","text":"<p>What is OWAMcap?</p> <p>OWAMcap is a specification for using the open-source MCAP container format with Open World Agents (OWA) message definitions. It provides an efficient way to store and process multimodal desktop interaction data including screen captures, mouse events, keyboard events, and window information.</p> <p>New to OWAMcap?</p> <p>Start with Why OWAMcap? to understand the problem it solves and why you should use it.</p>"},{"location":"data/technical-reference/format-guide/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Getting Started<ul> <li>Quick Start - Get started in 3 steps</li> <li>Core Concepts - Essential message types and features</li> </ul> </li> <li>Working with OWAMcap<ul> <li>Media Handling - External references and lazy loading</li> <li>Reading and Writing - File operations and CLI tools</li> <li>Storage &amp; Performance - Efficiency characteristics</li> </ul> </li> <li>Advanced Topics<ul> <li>Extending OWAMcap - Custom message types and extensibility</li> <li>Data Pipeline Integration - Real-world integrations</li> <li>Best Practices - Performance and organization guidelines</li> </ul> </li> <li>Reference<ul> <li>Migration &amp; Troubleshooting - Practical help and common issues</li> <li>Technical Reference - Specifications and standards</li> </ul> </li> </ul>"},{"location":"data/technical-reference/format-guide/#getting-started","title":"Getting Started","text":""},{"location":"data/technical-reference/format-guide/#quick-start","title":"Quick Start","text":"<p>Try OWAMcap in 3 Steps</p> <p>1. Install the packages: <pre><code>pip install mcap-owa-support owa-msgs\n</code></pre></p> <p>2. Explore an example file with the <code>owl</code> CLI:</p> <p>What is <code>owl</code>?</p> <p><code>owl</code> is the command-line interface for OWA tools, installed with <code>owa-cli</code>. See the CLI documentation for complete usage.</p> <pre><code># Download example file\nwget https://github.com/open-world-agents/open-world-agents/raw/main/docs/data/examples/example.mcap\n\n# View file info\nowl mcap info example.mcap\n\n# List first 5 messages\nowl mcap cat example.mcap --n 5\n</code></pre> <p>3. Load in Python: <pre><code>from mcap_owa.highlevel import OWAMcapReader\n\nwith OWAMcapReader(\"example.mcap\", decode_args={\"return_dict\": True}) as reader:\n    for msg in reader.iter_messages(topics=[\"screen\"]):\n        screen_data = msg.decoded\n        print(f\"Frame: {screen_data.shape} at {screen_data.utc_ns}\")\n        break  # Just show first frame\n</code></pre></p>"},{"location":"data/technical-reference/format-guide/#core-concepts","title":"Core Concepts","text":"<p>OWAMcap combines the robustness of the MCAP container format with OWA's specialized message types for desktop environments, creating a powerful format for recording, analyzing, and training on human-computer interaction data.</p>"},{"location":"data/technical-reference/format-guide/#key-terms","title":"Key Terms","text":"<p>Essential Terminology</p> <ul> <li>MCAP: A modular container file format for heterogeneous, timestamped data (like a ZIP file for time-series data). Developed by Foxglove, MCAP provides efficient random access, compression, and self-describing schemas. Widely adopted in robotics (ROS ecosystem), autonomous vehicles, and IoT applications for its performance and interoperability.</li> <li>Topic: A named channel in MCAP files (e.g., \"screen\", \"mouse\") that groups related messages</li> <li>Lazy Loading: Loading data only when needed, crucial for memory efficiency with large datasets</li> </ul>"},{"location":"data/technical-reference/format-guide/#what-makes-a-file-owamcap","title":"What Makes a File \"OWAMcap\"","text":"Architecture OverviewTechnical DefinitionPractical Example <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    OWAMcap File (.mcap)                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Metadata      \u2502  \u2502   Timestamps    \u2502  \u2502  Messages   \u2502  \u2502\n\u2502  \u2502   - Profile     \u2502  \u2502   - Nanosecond  \u2502  \u2502  - Mouse    \u2502  \u2502\n\u2502  \u2502   - Topics      \u2502  \u2502     precision   \u2502  \u2502  - Keyboard \u2502  \u2502\n\u2502  \u2502   - Schemas     \u2502  \u2502   - Event sync  \u2502  \u2502  - Window   \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                \u2502\n                                \u2502 References\n                                \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                External Media Files (.mkv, .png)            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Video Frames   \u2502  \u2502  Screenshots    \u2502  \u2502   Audio     \u2502  \u2502\n\u2502  \u2502  - H.265 codec  \u2502  \u2502  - PNG/JPEG     \u2502  \u2502  - Optional \u2502  \u2502\n\u2502  \u2502  - Hardware acc \u2502  \u2502  - Lossless     \u2502  \u2502  - Sync'd   \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <ul> <li>Base Format: Standard MCAP container format</li> <li>Profile: <code>owa</code> designation in MCAP metadata</li> <li>Schema Encoding: JSON Schema</li> <li>Message Interface: All messages implement <code>BaseMessage</code> from <code>owa.core.message</code></li> <li>Standard Messages: Core message types from <code>owa-msgs</code> package</li> </ul> <p>Why MCAP?</p> <p>Built as the successor to ROSBag, MCAP offers efficient storage and retrieval for heterogeneous timestamped data with minimal dependencies. It's designed for modern use cases with optimized random access, built-in compression, and language-agnostic schemas. The format has gained significant adoption across the robotics community, autonomous vehicle companies (Cruise, Waymo), and IoT platforms due to its performance advantages and excellent tooling ecosystem.</p> <pre><code>$ owl mcap info example.mcap\nlibrary:   mcap-owa-support 0.5.1; mcap 1.3.0\nprofile:   owa\nmessages:  864\nduration:  10.3574349s\nstart:     2025-06-27T18:49:52.129876+09:00 (1751017792.129876000)\nend:       2025-06-27T18:50:02.4873109+09:00 (1751017802.487310900)\ncompression:\n        zstd: [1/1 chunks] [116.46 KiB/16.61 KiB (85.74%)] [1.60 KiB/sec]\nchannels:\n        (1) window           11 msgs (1.06 Hz)    : desktop/WindowInfo [jsonschema]\n        (2) keyboard/state   11 msgs (1.06 Hz)    : desktop/KeyboardState [jsonschema]\n        (3) mouse/state      11 msgs (1.06 Hz)    : desktop/MouseState [jsonschema]\n        (4) screen          590 msgs (56.96 Hz)   : desktop/ScreenCaptured [jsonschema]\n        (5) mouse           209 msgs (20.18 Hz)   : desktop/MouseEvent [jsonschema]\n        (6) keyboard         32 msgs (3.09 Hz)    : desktop/KeyboardEvent [jsonschema]\nchannels: 6\nattachments: 0\nmetadata: 0\n</code></pre>"},{"location":"data/technical-reference/format-guide/#key-features","title":"Key Features","text":"<ul> <li>Efficient Storage: External video file references keep MCAP files lightweight</li> <li>Precise Synchronization: Nanosecond-precision timestamps for perfect event alignment</li> <li>Multimodal Data: Unified storage for visual, input, and context data</li> <li>Standard Format: Built on the proven MCAP container format</li> <li>Extensible: Support for custom message types through entry points</li> </ul>"},{"location":"data/technical-reference/format-guide/#core-message-types","title":"Core Message Types","text":"<p>OWA provides standardized message types through the <code>owa-msgs</code> package for consistent desktop interaction recording:</p> Message Type Description <code>desktop/KeyboardEvent</code> Keyboard press/release events <code>desktop/KeyboardState</code> Current keyboard state <code>desktop/MouseEvent</code> Mouse movement, clicks, scrolls <code>desktop/MouseState</code> Current mouse position and buttons <code>desktop/RawMouseEvent</code> High-definition raw mouse input data <code>desktop/ScreenCaptured</code> Screen capture frames with timestamps <code>desktop/WindowInfo</code> Active window information KeyboardEventKeyboardStateMouseEventMouseStateRawMouseEventScreenCapturedWindowInfo <pre><code>class KeyboardEvent(OWAMessage):\n    _type = \"desktop/KeyboardEvent\"\n\n    event_type: str  # \"press\" or \"release\"\n    vk: int         # Virtual key code (e.g., 65 for 'A')\n    timestamp: int  # Event timestamp\n\n# Example: User presses the 'A' key\nKeyboardEvent(event_type=\"press\", vk=65, timestamp=1234567890)\n</code></pre> <p>What's VK (Virtual Key Code)?</p> <p>Operating systems don't directly use the physical keyboard input values (scan codes) but instead use virtualized keys called VKs. OWA's recorder uses VKs to record keyboard-agnostic data. If you're interested in more details, you can refer to the following resources:</p> <ul> <li>Keyboard Input Overview, Microsoft</li> <li>Virtual-Key Codes, Microsoft</li> </ul> <pre><code>class KeyboardState(OWAMessage):\n    _type = \"desktop/KeyboardState\"\n\n    buttons: List[int]  # List of currently pressed virtual key codes\n\n# Example: No keys currently pressed\nKeyboardState(buttons=[])\n</code></pre> <pre><code>class MouseEvent(OWAMessage):\n    _type = \"desktop/MouseEvent\"\n\n    event_type: str  # \"move\", \"click\", \"scroll\", \"drag\"\n    x: int          # Screen X coordinate\n    y: int          # Screen Y coordinate\n    button: Optional[str] = None    # \"left\", \"right\", \"middle\"\n\n# Example: Mouse click at position (100, 200)\nMouseEvent(event_type=\"click\", x=100, y=200, button=\"left\")\n</code></pre> <pre><code>class MouseState(OWAMessage):\n    _type = \"desktop/MouseState\"\n\n    x: int                    # Current mouse X coordinate\n    y: int                    # Current mouse Y coordinate\n    buttons: List[str] = []   # Currently pressed mouse buttons\n\n# Example: Mouse at position with no buttons pressed\nMouseState(x=1594, y=1112, buttons=[])\n</code></pre> <pre><code>class RawMouseEvent(OWAMessage):\n    _type = \"desktop/RawMouseEvent\"\n\n    dx: int                   # Raw horizontal movement delta\n    dy: int                   # Raw vertical movement delta\n    button_flags: int         # Raw button state flags\n    button_data: int          # Additional button data (wheel, etc.)\n    device_handle: int = None # Optional device handle\n    timestamp: int = None     # Optional timestamp\n\n# Example: Raw mouse movement\nRawMouseEvent(dx=15, dy=-10, button_flags=0x0000, button_data=0)\n</code></pre> <pre><code>class ScreenCaptured(OWAMessage):\n    _type = \"desktop/ScreenCaptured\"\n\n    utc_ns: Optional[int] = None                    # System timestamp (nanoseconds)\n    source_shape: Optional[Tuple[int, int]] = None  # Original (width, height)\n    shape: Optional[Tuple[int, int]] = None         # Current (width, height)\n    media_ref: Optional[MediaRef] = None            # URI or file path reference\n    frame_arr: Optional[np.ndarray] = None          # In-memory BGRA array (excluded from JSON)\n</code></pre> <p>Working with ScreenCaptured Messages</p> <p>For detailed information on creating, loading, and working with ScreenCaptured messages, see the Media Handling section below. It covers MediaRef formats, lazy loading, and practical usage patterns.</p> <pre><code>class WindowInfo(OWAMessage):\n    _type = \"desktop/WindowInfo\"\n\n    title: str              # Window title text\n    rect: List[int]         # [x, y, width, height]\n    hWnd: Optional[int]     # Windows handle (platform-specific)\n\n# Example: Browser window\nWindowInfo(\n    title=\"GitHub - Open World Agents - Chrome\",\n    rect=[100, 50, 1200, 800]\n)\n</code></pre>"},{"location":"data/technical-reference/format-guide/#working-with-owamcap","title":"Working with OWAMcap","text":"<p>This section covers the essential operations for working with OWAMcap files in your applications. Whether you're processing recorded desktop sessions or creating new datasets, these patterns will help you work efficiently with the format.</p>"},{"location":"data/technical-reference/format-guide/#media-handling","title":"Media Handling","text":"<p>OWAMcap's key advantage is efficient media handling through external media references. Instead of storing large image/video data directly in the MCAP file, OWAMcap stores lightweight references to external media files, keeping the MCAP file small and fast to process.</p> Creating ScreenCaptured MessagesLoading and Accessing Frame Data <p>Understanding MediaRef</p> <p>MediaRef is OWAMcap's way of referencing media content. It supports multiple formats:</p> <ul> <li>File paths: <code>/absolute/path</code> or <code>relative/path</code></li> <li>File URIs: <code>file:///path/to/file</code></li> <li>HTTP URLs: <code>https://example.com/image.png</code></li> <li>Data URIs: <code>data:image/png;base64,...</code> (embedded content)</li> </ul> <p>For videos, add <code>pts_ns</code> (presentation timestamp) to specify which frame.</p> <pre><code>from owa.core import MESSAGES\nimport numpy as np\n\nScreenCaptured = MESSAGES['desktop/ScreenCaptured']\n\n# File paths (absolute/relative) - works for images and videos\nscreen_msg = ScreenCaptured(media_ref={\"uri\": \"/absolute/path/image.png\"})\nscreen_msg = ScreenCaptured(media_ref={\"uri\": \"relative/video.mkv\", \"pts_ns\": 123456})\n\n# File URIs - works for images and videos\nscreen_msg = ScreenCaptured(media_ref={\"uri\": \"file:///path/to/image.jpg\"})\nscreen_msg = ScreenCaptured(media_ref={\"uri\": \"file:///path/to/video.mp4\", \"pts_ns\": 123456})\n\n# HTTP/HTTPS URLs - works for images and videos\nscreen_msg = ScreenCaptured(media_ref={\"uri\": \"https://example.com/image.png\"})\nscreen_msg = ScreenCaptured(media_ref={\"uri\": \"https://example.com/video.mp4\", \"pts_ns\": 123456})\n\n# Data URIs (embedded base64) - typically for images\nscreen_msg = ScreenCaptured(media_ref={\"uri\": \"data:image/png;base64,iVBORw0KGgo...\"})\n\n# From raw image array (BGRA format required)\nbgra_array = np.random.randint(0, 255, (1080, 1920, 4), dtype=np.uint8)\nscreen_msg = ScreenCaptured(frame_arr=bgra_array)\nscreen_msg.embed_as_data_uri(format=\"png\")  # Required for serialization\n# Now screen_msg.media_ref contains: {\"uri\": \"data:image/png;base64,...\"}\n</code></pre> <p>Why Lazy Loading Matters</p> <p>Lazy Loading means frame data is only loaded when you explicitly request it. This is crucial for performance:</p> <ul> <li>\u2705 Fast: Iterate through thousands of messages instantly</li> <li>\u2705 Memory efficient: Only load frames you actually need</li> <li>\u2705 Scalable: Work with datasets larger than your RAM</li> </ul> <p>Without lazy loading, opening a 1-hour recording would try to load ~200GB of frame data into memory!</p> <pre><code># IMPORTANT: For MCAP files, resolve relative paths first\n# The OWA recorder saves media paths relative to the MCAP file location\nScreenCaptured = MESSAGES['desktop/ScreenCaptured']\nscreen_msg = ScreenCaptured(\n    media_ref={\"uri\": \"relative/video.mkv\", \"pts_ns\": 123456789}\n)\n\n# Must resolve external paths before loading from MCAP files\nscreen_msg.resolve_external_path(\"/path/to/data.mcap\")\n\n# Lazy loading: Frame data is loaded on-demand when these methods are called\nrgb_array = screen_msg.to_rgb_array()        # RGB numpy array (most common)\npil_image = screen_msg.to_pil_image()        # PIL Image object\nbgra_array = screen_msg.load_frame_array()   # Raw BGRA array (native format)\n\n# Check if frame data is loaded (lazy loading means it starts as None)\nif screen_msg.frame_arr is not None:\n    height, width, channels = screen_msg.frame_arr.shape\n    print(f\"Frame: {width}x{height}, {channels} channels\")\nelse:\n    print(\"Frame data not loaded - use load_frame_array() first\")\n</code></pre>"},{"location":"data/technical-reference/format-guide/#reading-and-writing","title":"Reading and Writing","text":"ReadingWritingAdvancedCLI Tools <pre><code>from mcap_owa.highlevel import OWAMcapReader\n\nwith OWAMcapReader(\"session.mcap\") as reader:\n    # File metadata\n    print(f\"Topics: {reader.topics}\")\n    print(f\"Duration: {(reader.end_time - reader.start_time) / 1e9:.2f}s\")\n\n    # Lazy loading advantage: Fast iteration without loading frame data\n    for msg in reader.iter_messages(topics=[\"screen\"]):\n        screen_data = msg.decoded\n        print(f\"Frame metadata: {screen_data.shape} at {screen_data.utc_ns}\")\n        # No frame data loaded yet - extremely fast for large datasets\n\n        # Only load frame data when actually needed\n        if some_condition:  # e.g., every 10th frame\n            frame = screen_data.to_rgb_array()  # Now frame is loaded\n            break  # Just show first frame\n</code></pre> <pre><code>from mcap_owa.highlevel import OWAMcapWriter\nfrom owa.core import MESSAGES\n\nScreenCaptured = MESSAGES['desktop/ScreenCaptured']\nMouseEvent = MESSAGES['desktop/MouseEvent']\n\nwith OWAMcapWriter(\"output.mcap\") as writer:\n    # Write screen capture\n    screen_msg = ScreenCaptured(\n        utc_ns=1234567890,\n        media_ref={\"uri\": \"video.mkv\", \"pts_ns\": 1234567890},\n        shape=(1920, 1080)\n    )\n    writer.write_message(screen_msg, topic=\"screen\", timestamp=1234567890)\n\n    # Write standard mouse event\n    mouse_msg = MouseEvent(event_type=\"click\", x=100, y=200)\n    writer.write_message(mouse_msg, topic=\"mouse\", timestamp=1234567891)\n</code></pre> <pre><code># Time range filtering\nwith OWAMcapReader(\"session.mcap\") as reader:\n    start_time = reader.start_time + 1_000_000_000  # Skip first second\n    end_time = reader.start_time + 10_000_000_000   # First 10 seconds\n\n    for msg in reader.iter_messages(start_time=start_time, end_time=end_time):\n        print(f\"Message in range: {msg.topic}\")\n\n# Remote files\nwith OWAMcapReader(\"https://example.com/data.mcap\") as reader:\n    for msg in reader.iter_messages(topics=[\"screen\"]):\n        print(f\"Remote frame: {msg.decoded.shape}\")\n</code></pre> <pre><code># File information\nowl mcap info session.mcap\n\n# List messages\nowl mcap cat session.mcap --n 10 --topics screen --topics mouse\n\n# Migrate between versions\nowl mcap migrate run session.mcap\n\n# Extract frames\nowl mcap extract-frames session.mcap --output frames/\n</code></pre>"},{"location":"data/technical-reference/format-guide/#storage-performance","title":"Storage &amp; Performance","text":"<p>OWAMcap achieves remarkable storage efficiency through external video references and intelligent compression:</p>"},{"location":"data/technical-reference/format-guide/#compression-benefits","title":"Compression Benefits","text":"<p>Understanding the Baseline</p> <p>Raw screen capture data is enormous: a single 1920\u00d71080 frame in BGRA format is 8.3 MB. At 60 FPS, this means 498 MB per second of recording. OWAMcap's hybrid storage makes this manageable.</p> <p>Desktop screen capture at 600 \u00d7 800 resolution, 13 s @ 60 Hz:</p> Format Size per Frame Whole Size Compression Ratio Raw BGRA 1.28 MB 1.0 GB 1.0\u00d7 (baseline) PNG 436 KB 333 MB 3.0\u00d7 JPEG (Quality 85) 59 KB 46 MB 21.7\u00d7 H.265 (keyframe 0.5s, nvd3d11h265enc) 14.5 KB avg 11.3 MB 91.7\u00d7 <p>H.265 Configuration</p> <p>The H.265 settings shown above (keyframe 0.5s, nvd3d11h265enc) are the same as those used by ocap for efficient desktop recording.</p> <p>Key advantages:</p> <ul> <li>Lightweight MCAP: very fast to parse, transfer, and back up  </li> <li>Video Compression: leverages hardware-accelerated codecs for extreme savings  </li> <li>Selective Loading: grab only the frames you need without full decompression  </li> <li>Standard Tools: preview in any video player and edit with off-the-shelf software  </li> </ul>"},{"location":"data/technical-reference/format-guide/#advanced-topics","title":"Advanced Topics","text":""},{"location":"data/technical-reference/format-guide/#extending-owamcap","title":"Extending OWAMcap","text":""},{"location":"data/technical-reference/format-guide/#custom-message-types","title":"Custom Message Types","text":"<p>Need to store domain-specific data beyond standard desktop interactions? OWAMcap supports custom message types for sensors, gaming, robotics, and more.</p> <p>Custom Messages Documentation</p> <p>\ud83d\udcd6 Custom Message Types Guide - Complete guide to creating, registering, and using custom message types in OWAMcap.</p> <p>Covers: message creation, package registration, best practices, and CLI integration.</p>"},{"location":"data/technical-reference/format-guide/#data-pipeline-integration","title":"Data Pipeline Integration","text":"# 1. Record desktop interactionocap my-session.mcap\ud83c\udfa5 Recording desktop interaction...\u2713 Saved 1,247 events to my-session.mcap# 2. Process to training formatpython scripts/01_raw_events_to_event_dataset.py --train-dir ./\ud83d\udd04 Raw Events to Event Dataset\ud83d\udcc1 Loading from: ./\ud83d\udcca Found 1 train files\u2713 Created 1,247 train examples\ud83d\udcbe Saving to ./event-dataset\u2713 Saved successfully# 3. Train your modelpython train.py --dataset ./event-dataset\ud83d\ude80 Loading dataset...\ud83c\udfcb\ufe0f Training desktop agent...\ud83d\udcc8 Epoch 1/10: loss=0.234 <p>Pipeline Benefits:</p> <ul> <li>\ud83d\udd04 Flexible: Skip binning and use Event Dataset directly, or use traditional Binned Dataset approach</li> <li>\ud83d\udcbe Storage Optimized: Since event/binned dataset saves only reference to media, the entire pipeline is designed to be space-efficient. <pre><code>/data/\n\u251c\u2500\u2500 mcaps/           # Raw recordings (400MB)\n\u251c\u2500\u2500 event-dataset/   # References only (20MB)\n\u2514\u2500\u2500 binned-dataset/  # Aggregated refs (2MB)\n</code></pre></li> <li>\ud83e\udd17 Native HuggingFace: Event/binned dataset is a true HuggingFace <code>datasets.Dataset</code> with <code>set_transform()</code>, not wrappers. <pre><code># Since event/binned datasets are true HuggingFace datasets,\n# they can be loaded directly into training pipelines\nfrom datasets import load_from_disk\ndataset = load_from_disk(\"/data/event-dataset\")\n\n# Transform to VLA training format is applied on-the-fly during training\nfrom owa.data import create_event_dataset_transform\ntransform = create_event_dataset_transform(\n    encoder_type=\"hierarchical\",\n    load_images=True,\n    encode_actions=True,\n)\ndataset.set_transform(transform)\n\n# Use in training\nfor sample in dataset[\"train\"].take(1):\n    print(f\"Images: {len(sample['images'])} frames\")\n    print(f\"Actions: {sample['encoded_events'][:3]}...\")\n    print(f\"Instruction: {sample['instruction']}\")\n</code></pre></li> <li>\u26a1 Compute-optimized, On-the-Fly Processing: During preprocess stage, media is not loaded. During training, only the required media is loaded on-demand. <pre><code>$ python scripts/01_raw_events_to_event_dataset.py\n\ud83d\udd04 Raw Events to Event Dataset\n\ud83d\udcc1 Loading from: /data/mcaps/game-session\n\ud83d\udcca Found 3 train, 1 test files\n---&gt; 100%\n\u2713 Created 24,907 train, 20,471 test examples\n\ud83d\udcbe Saving to /data/event-dataset\n\u2713 Saved successfully\n\ud83c\udf89 Completed in 3.9s (0.1min)\n</code></pre></li> </ul> <p>Complete Pipeline Documentation</p> <p>See \ud83d\ude80 Data Pipeline for detailed documentation on each stage, configuration options, and integration with training frameworks.</p>"},{"location":"data/technical-reference/format-guide/#best-practices","title":"Best Practices","text":"Storage StrategyPerformanceFile Organization <p>Decision Tree: Choose Your Storage Approach</p> <pre><code>Recording Length?\n\u251c\u2500 &lt; 30 seconds\n\u2502  \u2514\u2500 Use embedded data URIs (self-contained)\n\u2514\u2500 &gt; 30 seconds\n   \u2514\u2500 File Size Priority?\n      \u251c\u2500 Minimize MCAP size\n      \u2502  \u2514\u2500 Use external video (.mkv)\n      \u2514\u2500 Maximize quality\n         \u2514\u2500 Use external images (.png)\n</code></pre> Use Case Strategy Benefits Trade-offs Long recordings External video Minimal MCAP size, efficient Requires external files Short sessions Embedded data Self-contained Larger MCAP files High-quality External images Lossless compression Many files to manage Remote datasets Video + URLs Bandwidth efficient Network dependency <pre><code># \u2705 Good: Filter topics early\nwith OWAMcapReader(\"file.mcap\") as reader:\n    for msg in reader.iter_messages(topics=[\"screen\"]):\n        process_frame(msg.decoded)\n\n# \u2705 Good: Lazy loading\nfor msg in reader.iter_messages(topics=[\"screen\"]):\n    if should_process_frame(msg.timestamp):\n        frame = msg.decoded.load_frame_array()  # Only when needed\n\n# \u274c Avoid: Loading all frames\nframes = [msg.decoded.load_frame_array() for msg in reader.iter_messages()]\n</code></pre> <p>Recommended structure: <pre><code>/data/\n\u251c\u2500\u2500 mcaps/                          # Raw MCAP recordings\n\u2502   \u251c\u2500\u2500 session_001.mcap\n\u2502   \u251c\u2500\u2500 session_001.mkv             # External video files\n\u2502   \u2514\u2500\u2500 session_002.mcap\n\u251c\u2500\u2500 event-dataset/                  # Stage 1: Event Dataset\n\u2502   \u251c\u2500\u2500 train/\n\u2502   \u2514\u2500\u2500 test/\n\u2514\u2500\u2500 binned-dataset/                 # Stage 2: Binned Dataset\n    \u251c\u2500\u2500 train/\n    \u2514\u2500\u2500 test/\n</code></pre></p> <p>See OWA Data Pipeline for complete pipeline details.</p>"},{"location":"data/technical-reference/format-guide/#reference","title":"Reference","text":""},{"location":"data/technical-reference/format-guide/#migration-troubleshooting","title":"Migration &amp; Troubleshooting","text":""},{"location":"data/technical-reference/format-guide/#file-migration","title":"File Migration","text":"<p>OWAMcap format evolves over time. When you encounter older files that need updating, use the migration tool:</p> <p>When Do You Need Migration?</p> <ul> <li>Error messages about unsupported schema versions</li> <li>Missing fields when loading older recordings</li> <li>Compatibility warnings from OWA tools</li> <li>Performance issues with legacy file formats</li> </ul> <p>Migration Commands:</p> <pre><code># Check if migration is needed\nowl mcap info old_file.mcap  # Look for version warnings\n\n# Preview what will change (safe, no modifications)\nowl mcap migrate run old_file.mcap --dry-run\n\n# Migrate single file (creates backup automatically)\nowl mcap migrate run old_file.mcap\n\n# Migrate multiple files in batch\nowl mcap migrate run *.mcap\n\n# Migrate with custom output location\nowl mcap migrate run old_file.mcap --output new_file.mcap\n</code></pre> <p>Migration Safety</p> <ul> <li>Automatic backups: Original files are preserved as <code>.backup</code></li> <li>Validation: Migrated files are automatically validated</li> <li>Rollback: Use backup files if migration causes issues</li> </ul> <p>Complete Migration Reference</p> <p>For detailed information about all migration commands and options, see the OWA CLI - MCAP Commands documentation.</p>"},{"location":"data/technical-reference/format-guide/#common-issues","title":"Common Issues","text":"<p>File Not Found Errors</p> <p>When video files are missing: <pre><code># Resolve relative paths\nscreen_msg.resolve_external_path(\"/path/to/mcap/file.mcap\")\n# Check if external media exists\nscreen_msg.media_ref.validate_uri()\n</code></pre></p> <p>Memory Usage</p> <p>Large datasets can consume memory: <pre><code># Use lazy loading instead of loading all frames\nfor msg in reader.iter_messages(topics=[\"screen\"]):\n    if should_process_frame(msg.timestamp):\n        frame = msg.decoded.load_frame_array()  # Only when needed\n</code></pre></p>"},{"location":"data/technical-reference/format-guide/#technical-reference","title":"Technical Reference","text":"<p>For detailed technical specifications, see:</p> <ul> <li>OEP-0006: OWAMcap Profile Specification - Authoritative format specification</li> <li>MCAP Format - Base container format documentation</li> <li>Message Registry - See <code>projects/owa-core/owa/core/messages.py</code> for implementation</li> </ul>"},{"location":"data/technical-reference/format-guide/#quick-reference","title":"Quick Reference","text":"<p>OWAMcap Definition:</p> <ul> <li>Base format: Standard MCAP container</li> <li>Profile: <code>owa</code> designation in MCAP metadata</li> <li>Schema encoding: JSON Schema</li> <li>Message interface: All messages implement <code>BaseMessage</code></li> </ul> <p>Standard Topics:</p> <ul> <li><code>keyboard</code> \u2192 <code>desktop/KeyboardEvent</code></li> <li><code>keyboard/state</code> \u2192 <code>desktop/KeyboardState</code></li> <li><code>mouse</code> \u2192 <code>desktop/MouseEvent</code></li> <li><code>mouse/state</code> \u2192 <code>desktop/MouseState</code></li> <li><code>screen</code> \u2192 <code>desktop/ScreenCaptured</code></li> <li><code>window</code> \u2192 <code>desktop/WindowInfo</code></li> </ul>"},{"location":"data/technical-reference/format-guide/#next-steps","title":"Next Steps","text":"<ul> <li>Explore and Edit: Learn to work with OWAMcap files</li> <li>Data Pipeline: Process OWAMcap for ML training</li> <li>Viewer: Visualize OWAMcap data interactively</li> <li>Comparison with LeRobot: See how OWAMcap differs from other formats</li> </ul>"},{"location":"data/tools/comparison-with-lerobot/","title":"OWAMcap vs LeRobotDataset: A Technical Comparison","text":""},{"location":"data/tools/comparison-with-lerobot/#executive-summary","title":"Executive Summary","text":"<p>Both OWAMcap and LeRobotDataset address the critical need for standardized multimodal data formats in embodied AI. However, they differ significantly in their architectural approach and target domains. This comparison analyzes three distinct layers: container format, data schema, and library ecosystem.</p>"},{"location":"data/tools/comparison-with-lerobot/#three-layer-comparison-framework","title":"Three-Layer Comparison Framework","text":"<p>To properly compare OWAMcap and LeRobotDataset, we need to understand that they operate at different architectural levels. Rather than comparing them directly, we analyze three distinct layers of the data stack:</p> <p>Why Three Layers Matter:</p> <ul> <li>Container Format: Think of this as your storage unit\u2014how you pack your stuff (MCAP vs Parquet)</li> <li>Data Schema: This is what you actually put in those boxes\u2014the \"language\" your data speaks (OWAMcap vs LeRobotDataset)</li> <li>Library Ecosystem: The tools and trucks you need to move everything around (mcap-owa-support vs lerobot)</li> </ul> <p>This separation matters because without it, we'd be comparing fundamentally different things. It's like trying to compare a car's engine (container format) with its GPS system (data schema) with its maintenance costs (library ecosystem)\u2014they're all important, but they solve different problems and need to be evaluated on their own terms.</p>"},{"location":"data/tools/comparison-with-lerobot/#layer-1-container-format-mcap-vs-parquet","title":"Layer 1: Container Format (MCAP vs Parquet)","text":"<p>Imagine you're organizing your digital life. MCAP is like having a smart filing cabinet that automatically timestamps everything and keeps related items together. Parquet? That's more like Excel on steroids\u2014fantastic for crunching numbers, but ask it to handle your mixed media collection and things get messy.</p> Feature MCAP Parquet (LeRobotDataset) Primary Design Time-synchronized multimodal logging Columnar analytics storage Data Organization Multiple channels/topics with explicit schemas Single table structure Heterogeneous Data \u2705 Native support for mixed data types \u274c Tabular data only; external file references Time Synchronization \u2705 Per-message timestamps with indexing \u274c Manual alignment across files required Streaming Safety \u2705 Crash-safe incremental writes \u274c Bulk writes; vulnerable to data loss Random Access \u2705 Indexed time/channel queries \u274c Sequential column scans Schema Extensibility \u2705 Custom message types supported \u274c Fixed table schema Self-Containedness \u2705 Embedded schemas and metadata \u274c External dependencies for interpretation"},{"location":"data/tools/comparison-with-lerobot/#layer-2-data-format-owamcap-vs-lerobotdataset","title":"Layer 2: Data Format (OWAMcap vs LeRobotDataset)","text":"<p>While MCAP vs Parquet represents the container comparison, OWAMcap vs LeRobotDataset represents the data schema comparison\u2014how domain-specific message types and structures are defined on top of these containers.</p> <p>Commonalities: Both use lazy-loading for video frames to optimize storage and memory usage.</p> <p>Key Differences:</p> <pre><code># OWAMcap: Desktop-specific message types\nclass ScreenCaptured(OWAMessage):\n    path: str           # Video file reference\n    pts: int           # Precise frame timestamp\n    utc_ns: int        # System timestamp\n\nclass MouseEvent(OWAMessage):\n    event_type: str    # move, click, scroll\n    x: int, y: int     # Screen coordinates\n\nclass KeyboardEvent(OWAMessage):\n    event_type: str    # press, release\n    vk: int           # Virtual key code\n</code></pre> <pre><code># LeRobotDataset: Generic robotics observations\n{\n    \"observation.image\": \"path/to/frame.jpg\",\n    \"observation.state\": [x, y, z, ...],  # Robot joint positions\n    \"action\": [dx, dy, dz, ...]           # Action commands\n}\n</code></pre> <p>Domain Specialization Impact:</p> <ul> <li>OWAMcap: Pre-defined messages enables seamless integration across diverse desktop tasks (web browsing, document editing, gaming)</li> <li>LeRobotDataset: Generic structure requires domain-specific adaptations for each robot platform</li> </ul>"},{"location":"data/tools/comparison-with-lerobot/#layer-3-library-ecosystem","title":"Layer 3: Library Ecosystem","text":"<p>Library Design Philosophy:</p> <p>The fundamental difference reflects two approaches: minimal dependencies (OWAMcap) for worry-free adoption vs comprehensive ecosystem (LeRobotDataset) bundling complete toolchains.</p> Metric mcap-owa-support lerobot Dependencies 21 packages 93 packages Install Time 0.75s 66.65s Adoption Friction \"Just works\" territory \"Hope nothing breaks\" zone <p>Dependency Analysis:</p> <pre><code># OWAMcap: The minimalist's dream\nmcap-owa-support\n\u251c\u2500\u2500 mcap (the core engine)\n\u251c\u2500\u2500 pydantic (keeps data honest)\n\u251c\u2500\u2500 loguru (friendly logging)\n\u2514\u2500\u2500 zstandard (compression magic)\n\n# LeRobotDataset: The everything ecosystem\nlerobot\n\u251c\u2500\u2500 torch + torchvision (GPU go brrrr)\n\u251c\u2500\u2500 gym + mujoco (virtual robot playground)\n\u251c\u2500\u2500 opencv + imageio (pixel manipulation station)\n\u251c\u2500\u2500 wandb (experiment diary)\n\u251c\u2500\u2500 hydra (configuration wizard)\n\u2514\u2500\u2500 [85+ more packages having a dependency party]\n</code></pre> <p>The Zero-Friction Philosophy \ud83d\udca1</p> <p>Our guiding principle is simple: developers should install our library and immediately get back to building cool stuff, not debugging dependency conflicts or waiting for installations to finish.</p>"},{"location":"data/tools/comparison-with-lerobot/#why-container-choice-matters-for-foundation-models","title":"Why Container Choice Matters for Foundation Models","text":""},{"location":"data/tools/comparison-with-lerobot/#random-access-the-need-for-speed","title":"Random Access: The Need for Speed","text":"<p>The difference between MCAP and Parquet for data access is like comparing a sports car to a city bus. Both get you there, but the experience is... different.</p> <pre><code># MCAP: \"I want data from 2:30 PM to 2:35 PM, please\"\nmessages = reader.iter_messages(\n    start_time=start_ns,\n    end_time=end_ns,\n    topics=[\"screen\", \"mouse\"]\n)  # Boom. Done. Lightning fast.\n\n# Parquet: \"Let me read everything and then filter...\"\ndf = pd.read_parquet(\"data.parquet\")\nfiltered = df[(df.timestamp &gt;= start) &amp; (df.timestamp &lt;= end)]\n# *waiting music intensifies*\n</code></pre>"},{"location":"data/tools/comparison-with-lerobot/#multi-modal-synchronization-keeping-everyone-in-sync","title":"Multi-Modal Synchronization: Keeping Everyone in Sync","text":"<p>MCAP: Like a conductor with perfect timing\u2014every instrument (modality) hits their notes exactly when they should.</p> <pre><code>Channel 1: screen     [t1, t3, t5, t7, ...]\nChannel 2: mouse      [t1, t2, t4, t6, t8, ...]\nChannel 3: keyboard   [t2, t5, t9, ...]\n</code></pre> <p>Parquet: More like a garage band where everyone's trying to stay in time but someone's always slightly off-beat.</p>"},{"location":"data/tools/comparison-with-lerobot/#desktop-vs-robotics-two-different-worlds","title":"Desktop vs Robotics: Two Different Worlds","text":"Domain Desktop Automation Robotics Session Length Hours of continuous interaction Minutes of task execution Event Frequency High-frequency input events Lower-frequency control commands Crash Recovery Critical for long sessions Less critical for short episodes Data Types Window focus, UI interactions, multi-monitor Joint positions, sensor readings, control commands"},{"location":"data/tools/comparison-with-lerobot/#performance-implications-for-vla-training","title":"Performance Implications for VLA Training","text":""},{"location":"data/tools/comparison-with-lerobot/#storage-efficiency","title":"Storage Efficiency","text":"<pre><code># Example 45-min desktop session\nMetadata (mcap):     24 MiB\nVideo (external):    5.4 GiB\nTotal:              5.4 GiB\n\n# Equivalent data in uncompressed format\nRaw frames:         ~447 GiB\nCompression ratio:  82x reduction\n</code></pre>"},{"location":"data/tools/comparison-with-lerobot/#training-pipeline-impact","title":"Training Pipeline Impact","text":"<p>\ud83d\udea7 TODO: Here is TODO and subject to be changed.</p> <p>Data Loading Performance: <pre><code># OWAMcap: Efficient batch loading with precise temporal control\nfor batch in dataloader:\n    # Direct access to synchronized multimodal streams\n    screens = [msg.lazy_load() for msg in batch.screen_messages]\n    actions = batch.mouse_events + batch.keyboard_events\n    # No resampling artifacts; preserves original event timing\n\n# LeRobotDataset: The \"close enough\" approach\nfor batch in dataloader:\n    # delta_timestamps is the key design\n    frames = dataset[i:i+batch_size]\n    # Manual synchronization across heterogeneous streams required\n</code></pre></p> <p>Write Performance:</p> Scenario MCAP (OWAMcap) Parquet (LeRobotDataset) Real-time logging \u2705 Optimized append-only writes \u274c Requires batching; write overhead High-frequency events \u2705 Native support \u274c Must aggregate before writing Crash recovery \u2705 Partial file recovery possible \u274c Risk of data loss during writes"},{"location":"data/tools/comparison-with-lerobot/#schema-evolution-and-fair-data-principles","title":"Schema Evolution and FAIR Data Principles","text":"<p>Schema Evolution:</p> <ul> <li>OWAMcap: Each channel maintains independent schema; new modalities added without affecting existing data</li> <li>LeRobotDataset: Global schema changes affect entire dataset</li> </ul> <p>FAIR Data Alignment:</p> Principle OWAMcap LeRobotDataset Findable \u2705 Rich embedded metadata \u26a0\ufe0f Depends on HF Hub infrastructure Accessible \u2705 Self-contained files \u26a0\ufe0f Multi-file dependencies Interoperable \u2705 Standard MCAP readers \u2705 HF ecosystem compatibility Reusable \u2705 Embedded schemas + provenance \u26a0\ufe0f External documentation required"},{"location":"data/tools/comparison-with-lerobot/#strategic-recommendations","title":"Strategic Recommendations","text":""},{"location":"data/tools/comparison-with-lerobot/#the-decision-matrix","title":"The Decision Matrix","text":"Use Case Recommended Format Why This Makes Sense Desktop Foundation Models OWAMcap Purpose-built, lightweight, just works Production Desktop Agents OWAMcap Zero dependencies headaches, crash-safe Novel Multimodal Research OWAMcap Flexibility to experiment without limits Academic Robotics Research LeRobotDataset Join the party everyone's already at"},{"location":"data/tools/comparison-with-lerobot/#the-hybrid-approach-best-of-both-worlds","title":"The Hybrid Approach: Best of Both Worlds","text":"<p>For the ambitious researchers who want it all:</p> <ol> <li>Capture Phase: Use OWAMcap to grab everything (think of it as your digital net)</li> <li>Consumption Phase: Transform relevant bits for your ML pipeline (curated data delivery)</li> </ol>"},{"location":"data/tools/comparison-with-lerobot/#conclusion-the-plot-twist-ending","title":"Conclusion: The Plot Twist Ending","text":"<p>Here's the thing\u2014OWAMcap and LeRobotDataset aren't really competitors. They're more like specialized tools designed for different jobs. OWAMcap is the precision instrument for desktop automation\u2014lightweight, focused, and built for the unique chaos of human-computer interaction. LeRobotDataset(rather, LeRobot) is the comprehensive toolkit for robotics research\u2014heavy-duty, feature-rich, and backed by a thriving community.</p> <p>The real question isn't \"which is better?\" but \"which fits your mission?\" If you're building the next generation of desktop AI agents, OWAMcap's specialized design will save you months of headaches. If you're advancing robotics research within existing academic frameworks, LeRobot's ecosystem might be your golden ticket.</p> <p>The future of embodied AI isn't about choosing sides\u2014it's about picking the right tool for the job and maybe, just maybe, building bridges between these different worlds. After all, the best AI systems might need to understand both digital desktops and physical robots. Now wouldn't that be something? \ud83d\ude80</p>"},{"location":"data/tools/viewer/","title":"OWAMcap Data Viewer","text":"<p>Interactive web-based visualization tool for exploring OWAMcap datasets with synchronized playback of screen recordings and interaction events.</p>"},{"location":"data/tools/viewer/#public-hosted-viewer","title":"\ud83c\udf10 Public Hosted Viewer","text":"<p>Quick Start: https://huggingface.co/spaces/open-world-agents/visualize_dataset</p>"},{"location":"data/tools/viewer/#features","title":"Features","text":"<ul> <li>Upload Files: Drag &amp; drop your <code>.mcap</code> files (up to 100MB)</li> <li>HuggingFace Integration: Enter any <code>repo_id</code> to view public datasets</li> <li>Synchronized Playback: Video + events timeline</li> <li>Interactive Controls: Pause, seek, frame-by-frame navigation</li> </ul>"},{"location":"data/tools/viewer/#usage","title":"Usage","text":"<ol> <li>Visit the viewer URL</li> <li>Either upload your files or enter a HuggingFace dataset ID</li> <li>Explore your data with synchronized video and event timeline</li> </ol>"},{"location":"data/tools/viewer/#self-hosted-setup","title":"\ud83c\udfe0 Self-Hosted Setup","text":"<p>For larger files or private datasets, run the viewer locally:</p> <pre><code># Navigate to viewer directory\ncd projects/owa-mcap-viewer\n\n# Set data path\nexport EXPORT_PATH=/path/to/your/mcap-files\n\n# Install dependencies\nvuv install\n\n# Start server\nuvicorn owa_viewer:app --host 0.0.0.0 --port 7860 --reload\n</code></pre> <p>Access at <code>http://localhost:7860</code></p>"},{"location":"data/tools/viewer/#benefits-of-self-hosting","title":"Benefits of Self-Hosting","text":"<ul> <li>No file size limits</li> <li>Private data stays local</li> <li>Faster loading for large datasets</li> <li>Customizable interface</li> </ul>"},{"location":"env/","title":"Introducing OWA's Env","text":"<p>Open World Agents (OWA) introduces Env, a groundbreaking modular agent system designed for dynamic, real-time environments. Say goodbye to rigid frameworks with fixed interfaces\u2014Env's flexible architecture automatically discovers and loads components using Python's standard Entry Points system.</p>"},{"location":"env/#why-choose-owas-env","title":"Why Choose OWA's Env?","text":"<p>Traditional environmental interfaces like gymnasium.Env fall short when it comes to building real-time, real-world agents. They rely on synchronous steps (<code>env.step()</code>, <code>env.reset()</code>), which assume your agent has infinite time to process actions. That's not realistic for agents that need to react instantly in dynamic environments.</p> <p>Env changes the game with an event-driven, asynchronous design that mirrors real-world interactions. Here's what sets it apart:</p> <ul> <li> <p>Asynchronous Event Processing: Leverage <code>Callables</code>, <code>Listeners</code>, and <code>Runnables</code> for real-time interaction. No more waiting for <code>env.step()</code>\u2014the world doesn't stop, and neither should your agent. Learn more...</p> </li> <li> <p>Zero-Configuration Plugin System: Plugins are automatically discovered via Entry Points when installed with <code>pip install</code>. No manual activation needed\u2014components are immediately available with unified <code>namespace/name</code> patterns. Includes powerful CLI tools for plugin management. Learn more...</p> </li> <li> <p>Extensible, Open-Source Design: Built for the community, by the community. Create plugins using Python packaging standards and share them easily. Learn more...</p> </li> </ul>"},{"location":"env/#the-future-is-real-time","title":"The Future is Real-Time","text":"<p>Time waits for no one\u2014and neither do real-world agents. As we advance towards more responsive AI, agents must be capable of instantaneous reactions, just like humans. Env's architecture enables:</p> <ul> <li> <p>True Concurrent Processing: Handle multiple events simultaneously without bottlenecks.</p> </li> <li> <p>Measured Reaction Times: Agents operate within realistic timeframes, ensuring timely responses in dynamic settings.</p> </li> </ul> <p>We prioritize minimizing latency within the framework, aiming for agent reaction times that match or surpass human capabilities. Throughout our codebase, we ensure latency doesn't exceed 30ms. Check out how we achieve this in our Screen Listeners, and Test Screen Listener.</p>"},{"location":"env/#get-started-today","title":"Get Started Today","text":"<p>Don't let outdated frameworks hold you back. Embrace the future with OWA's Env and build agents that are ready for the real world.</p>"},{"location":"env/#documentation","title":"Documentation","text":"<ul> <li>Comprehensive Guide - Complete overview of OWA's Env system</li> <li>Custom Plugins - How to create your own plugins</li> <li>Plugin Specification Guide - Detailed guide for writing PluginSpec in Python and YAML</li> <li>YAML Plugin Guide - Focused guide for YAML-based plugin specifications</li> <li>Documentation Validation - Tools for validating plugin documentation</li> </ul>"},{"location":"env/#available-plugins","title":"Available Plugins","text":"<ul> <li>Standard Environment - Core utilities and timing functions</li> <li>Desktop Environment - Mouse, keyboard, and window control</li> <li>GStreamer Environment - High-performance multimedia processing</li> </ul>"},{"location":"env/custom_plugins/","title":"How to write your own EnvPlugin","text":"<p>You can write &amp; contribute your own EnvPlugin using the Entry Points-based system for automatic discovery.</p> <p>\ud83d\udea8 CRITICAL: Module Structure is COMPLETELY FLEXIBLE</p> <p>The <code>owa.env.*</code> structure shown in examples is just a RECOMMENDATION, NOT a requirement!</p> <ul> <li>\u2705 You can use ANY module structure: <code>my_company.tools</code>, <code>custom_plugins</code>, <code>anything.you.want</code></li> <li>\u2705 You can organize your code however makes sense for your project</li> <li>\u2705 The ONLY requirement is that your entry point correctly points to your plugin specification</li> <li>\u274c You are NOT required to follow the <code>owa.env.*</code> pattern</li> </ul> <p>Examples of valid entry points: - <code>my_company.ai_tools.plugin_spec:plugin_spec</code> - <code>custom_plugins:plugin_spec</code> - <code>automation.workflows.owa_integration:plugin_spec</code> - <code>owa.env.plugins.myplugin:plugin_spec</code> (recommended but not required)</p>"},{"location":"env/custom_plugins/#quick-start","title":"Quick Start","text":"<ol> <li> <p>Copy the example template: Copy &amp; Paste owa-env-example directory. This directory contains:     <pre><code>owa-env-example\n\u251c\u2500\u2500 owa/env/example\n\u2502   \u251c\u2500\u2500 __init__.py           # Main module (no plugin_spec)\n\u2502   \u251c\u2500\u2500 example_callable.py\n\u2502   \u251c\u2500\u2500 example_listener.py\n\u2502   \u2514\u2500\u2500 example_runnable.py\n\u251c\u2500\u2500 owa/env/plugins\n\u2502   \u2514\u2500\u2500 example.py            # Plugin specification\n\u251c\u2500\u2500 pyproject.toml            # Entry point declaration\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 tests\n\u2502   \u2514\u2500\u2500 test_print.py\n\u2514\u2500\u2500 uv.lock\n</code></pre></p> </li> <li> <p>Rename and customize: Rename <code>owa-env-example</code> to your plugin name (e.g., <code>owa-env-myplugin</code>).</p> </li> <li> <p>Update Entry Point Declaration: In <code>pyproject.toml</code>, update the entry point (you can use ANY module path you prefer):     <pre><code>[project.entry-points.\"owa.env.plugins\"]\n# Examples - choose ANY structure you like:\nmyplugin = \"owa.env.plugins.myplugin:plugin_spec\"     # Recommended OWA structure\n# myplugin = \"my_company.tools.myplugin:plugin_spec\"  # Your own structure\n# myplugin = \"myplugin_spec:plugin_spec\"              # Flat structure\n# myplugin = \"plugins.custom.myplugin:plugin_spec\"    # Custom hierarchy\n</code></pre></p> </li> <li> <p>Create Plugin Specification: Create your plugin specification file (location is flexible - this is just one example):     <pre><code>\"\"\"\nPlugin specification for the MyPlugin environment plugin.\n\nThis module is kept separate to avoid circular imports during plugin discovery.\n\"\"\"\n\nfrom owa.core.plugin_spec import PluginSpec\n\nplugin_spec = PluginSpec(\n    namespace=\"myplugin\",\n    version=\"0.1.0\",\n    description=\"My custom plugin\",\n    author=\"Your Name\",\n    components={\n        \"callables\": {\n            \"hello\": \"owa.env.myplugin:say_hello\",\n            \"add\": \"owa.env.myplugin:add_numbers\",\n        },\n        \"listeners\": {\n            \"events\": \"owa.env.myplugin:EventListener\",\n        },\n        \"runnables\": {\n            \"processor\": \"owa.env.myplugin:DataProcessor\",\n        }\n    }\n)\n</code></pre></p> <p>\ud83d\udcd6 For detailed guidance on writing plugin specifications, see: - Plugin Specification Guide - Complete guide for Python and YAML formats - YAML Plugin Guide - Focused guide for YAML-based specifications</p> </li> <li> <p>Implement Components: Write your component implementations using the unified <code>namespace/name</code> pattern.</p> </li> <li> <p>Package Structure: COMPLETE FREEDOM - organize your plugin however you want!</p> <ul> <li>Plugin Specification: Can be located ANYWHERE in your module structure</li> <li>Module Structure: ZERO limitations - use any organization that makes sense for your project</li> <li>Entry Point Registration: The ONLY requirement is that your entry point correctly points to your plugin specification</li> </ul> <p>The <code>owa.env.*</code> structure is just a RECOMMENDATION used by official OWA plugins. You are NOT required to follow it!</p> <p>Example structures (ALL completely valid - choose what works for you!): <pre><code># Option 1: Recommended OWA structure (but not required!)\nowa/env/plugins/myplugin.py     # Plugin specification\nowa/env/myplugin/               # Your implementation\n\u251c\u2500\u2500 __init__.py\n\u2514\u2500\u2500 components.py\n\n# Option 2: Your own company structure\nmy_company/tools/\n\u251c\u2500\u2500 plugin_spec.py              # Plugin specification\n\u251c\u2500\u2500 ai_processor.py\n\u2514\u2500\u2500 data_analyzer.py\n# Entry point: my_company.tools.plugin_spec:plugin_spec\n\n# Option 3: Flat structure\nmyplugin_package/\n\u251c\u2500\u2500 __init__.py                 # Plugin specification here\n\u251c\u2500\u2500 features.py\n\u2514\u2500\u2500 utils.py\n# Entry point: myplugin_package:plugin_spec\n\n# Option 4: Domain-driven structure\nautomation/workflows/\n\u251c\u2500\u2500 owa_integration.py          # Plugin specification\n\u251c\u2500\u2500 core/\n\u2502   \u251c\u2500\u2500 engine.py\n\u2502   \u2514\u2500\u2500 config.py\n\u2514\u2500\u2500 integrations/\n    \u251c\u2500\u2500 api.py\n    \u2514\u2500\u2500 database.py\n# Entry point: automation.workflows.owa_integration:plugin_spec\n\n# Option 5: Organized by component type (within your own structure)\ncustom_plugins/myplugin/\n\u251c\u2500\u2500 plugin_def.py               # Plugin specification\n\u251c\u2500\u2500 callables/\n\u2502   \u251c\u2500\u2500 math.py\n\u2502   \u2514\u2500\u2500 utils.py\n\u251c\u2500\u2500 listeners/\n\u2502   \u2514\u2500\u2500 events.py\n\u2514\u2500\u2500 runnables/\n    \u2514\u2500\u2500 processors.py\n# Entry point: custom_plugins.myplugin.plugin_def:plugin_spec\n</code></pre></p> <p>The ONLY requirement: - Your entry point in <code>pyproject.toml</code> must correctly point to your plugin specification - That's it! No other structural requirements exist.</p> </li> <li> <p>Install and Test: Install your plugin with <code>pip install -e .</code> and test that components are automatically available.</p> </li> <li> <p>Validate Plugin: Use the CLI to validate your plugin specification (adjust the path to match YOUR structure):    <pre><code># Examples - use the path that matches YOUR entry point:\nowl env validate owa.env.plugins.myplugin:plugin_spec        # OWA recommended structure\nowl env validate my_company.tools.plugin_spec:plugin_spec   # Your own structure\nowl env validate myplugin_package:plugin_spec               # Flat structure\nowl env validate custom_plugins.myplugin.plugin_def:plugin_spec  # Custom structure\n\n# Validate YAML specification (if using YAML format)\nowl env validate ./plugin.yaml\n\n# Validate with detailed output (use YOUR entry point path)\nowl env validate your.module.path:plugin_spec --verbose\n\n# List your plugin to verify it's discovered\nowl env list --namespace myplugin\n\n# Show detailed component information\nowl env show myplugin --components\n</code></pre></p> </li> <li> <p>Contribute: Make a PR following the Contributing Guide.</p> </li> </ol>"},{"location":"env/custom_plugins/#cli-tools-for-plugin-development","title":"CLI Tools for Plugin Development","text":"<p>The <code>owl env</code> command provides comprehensive tools for plugin development and testing:</p> <pre><code># Discover and list your plugin\n$ owl env list --namespace myplugin\n\n# Show detailed component information with import paths\n$ owl env show myplugin --components --details\n\n# Inspect specific components\n$ owl env show myplugin --inspect my_function\n\n# Search for components in your plugin\n$ owl env search \"my.*function\" --namespace myplugin\n\n# List specific component types with details\n$ owl env list --type callables --details --table\n\n# Check ecosystem health and your plugin's integration\n$ owl env health\n$ owl env stats --by-namespace\n\n# Quick exploration shortcuts\n$ owl env ls myplugin                              # Quick plugin overview\n$ owl env find my_function                         # Quick component search\n$ owl env namespaces                               # See all available namespaces\n\n# Validate plugin specifications (use YOUR entry point path)\n$ owl env validate owa.env.plugins.myplugin:plugin_spec    # OWA structure example\n$ owl env validate my_company.tools.plugin_spec:plugin_spec # Your structure example\n$ owl env validate ./plugin.yaml                           # YAML file\n</code></pre>"},{"location":"env/custom_plugins/#key-benefits-of-entry-points-system","title":"Key Benefits of Entry Points System","text":"<ul> <li>Zero Configuration: Users just <code>pip install</code> your plugin - no manual activation needed</li> <li>Automatic Discovery: Components are immediately available after installation</li> <li>Unified Naming: All components use <code>namespace/name</code> pattern for consistency</li> <li>Python Standards: Follows official Python packaging guidelines</li> <li>Lazy Loading: Components are imported only when accessed for better performance</li> <li>CLI Support: Rich command-line tools for plugin management and validation</li> </ul>"},{"location":"env/documentation_validation/","title":"Documentation Validation (OEP-0004)","text":"<p>OEP-0004 introduces a comprehensive documentation validation system for OWA plugins, providing both CI/CD integration and automatic documentation generation capabilities.</p>"},{"location":"env/documentation_validation/#overview","title":"Overview","text":"<p>The documentation validation system consists of two main components:</p> <ol> <li>Documentation Validator: A command-line tool for validating plugin documentation quality</li> <li>mkdocstrings Handler: A custom handler for automatic documentation generation</li> </ol>"},{"location":"env/documentation_validation/#documentation-validation","title":"Documentation Validation","text":""},{"location":"env/documentation_validation/#quick-start-basic-usage","title":"Quick Start &amp; Basic Usage","text":"<p>Validate documentation for all plugins:</p> <pre><code>$ owl env validate-docs\n\u2705 std plugin: 2/2 components documented (100%)\n\u2705 example plugin: 7/7 components documented (100%)  \n\u26a0\ufe0f  desktop plugin: 23/25 components documented (92%)\n\u274c custom plugin: 1/5 components documented (20%)\n\n\ud83d\udcca Overall: 33/39 components documented (85%)\n\u274c FAIL: Documentation coverage 85% below minimum 90%\n</code></pre> <p>Validate a specific plugin:</p> <pre><code>$ owl env validate-docs example\n\u2705 example plugin: 7/7 components documented (100%)\n\u2705 PASS: All components properly documented\n</code></pre>"},{"location":"env/documentation_validation/#commands-reference","title":"Commands Reference","text":"Command Description Example <code>owl env validate-docs</code> Validate all plugins <code>owl env validate-docs</code> <code>owl env validate-docs PLUGIN</code> Validate specific plugin <code>owl env validate-docs example</code> <code>owl env validate-docs --strict</code> Enforce 100% coverage <code>owl env validate-docs --strict</code> <code>owl env validate-docs --format json</code> JSON output <code>owl env validate-docs --format json</code> <code>owl env validate-docs --check-quality</code> Detailed quality checks <code>owl env validate-docs --check-quality</code> <code>owl env docs-stats</code> Show statistics <code>owl env docs-stats</code> <code>owl env docs-stats --by-type</code> Group by component type <code>owl env docs-stats --by-type</code>"},{"location":"env/documentation_validation/#exit-codes","title":"Exit Codes","text":"<p>The validation command provides proper exit codes for automated testing:</p> Code Meaning Usage 0 All validations passed Success in CI/CD 1 Documentation issues found Fail in CI/CD 2 Command error Fix command usage"},{"location":"env/documentation_validation/#advanced-options","title":"Advanced Options","text":""},{"location":"env/documentation_validation/#strict-mode","title":"Strict Mode","text":"<p>In strict mode, any missing documentation is treated as a failure:</p> <pre><code>$ owl env validate-docs --strict\n\u274c FAIL: Documentation coverage 88% below minimum 100% (strict mode)\n</code></pre>"},{"location":"env/documentation_validation/#json-output","title":"JSON Output","text":"<p>For tooling integration, use JSON output format:</p> <pre><code>$ owl env validate-docs --format json\n{\n  \"overall_coverage\": 0.88,\n  \"plugins\": {\n    \"example\": {\n      \"coverage\": 1.0,\n      \"documented\": 7,\n      \"total\": 7,\n      \"status\": \"pass\"\n    },\n    \"desktop\": {\n      \"coverage\": 0.92,\n      \"documented\": 23,\n      \"total\": 25,\n      \"status\": \"warning\"\n    }\n  },\n  \"exit_code\": 1\n}\n</code></pre>"},{"location":"env/documentation_validation/#quality-checks","title":"Quality Checks","text":"<p>Enable detailed quality validation:</p> <pre><code>$ owl env validate-docs --check-quality --min-examples 1\n\u274c desktop/window.get_active: Missing usage examples\n\u274c desktop/screen.capture: Missing parameter documentation\n\u26a0\ufe0f  Found 2 quality issues across 2 plugins\n</code></pre>"},{"location":"env/documentation_validation/#validation-criteria","title":"Validation Criteria","text":"<p>The validator checks for:</p> <ol> <li>Docstring Presence: Every component must have a non-empty docstring</li> <li>Docstring Quality: Docstrings should include summary and parameter documentation</li> <li>Type Hints: Functions should have type hints for parameters and return values</li> <li>Examples: Components should include usage examples in docstrings</li> <li>Component Loading: Components must be loadable without errors</li> </ol>"},{"location":"env/documentation_validation/#automatic-documentation-generation","title":"Automatic Documentation Generation","text":""},{"location":"env/documentation_validation/#mkdocstrings-integration","title":"mkdocstrings Integration","text":"<p>OEP-0004 provides a custom mkdocstrings handler that understands OWA's plugin structure:</p>"},{"location":"env/documentation_validation/#plugin-overview","title":"Plugin Overview","text":"<pre><code># Example Plugin Documentation\n\n::: example\n    handler: owa\n</code></pre> <p>This generates a complete plugin overview with all components.</p>"},{"location":"env/documentation_validation/#individual-components","title":"Individual Components","text":"<pre><code># Mouse Click Function\n\n::: example/mouse.click\n    handler: owa\n    options:\n      show_signature: true\n      show_examples: true\n</code></pre> <p>This generates detailed documentation for a specific component.</p>"},{"location":"env/documentation_validation/#configuration","title":"Configuration","text":"<p>The owa handler is available through the <code>mkdocstrings_handlers</code> package structure. Add it to your <code>mkdocs.yml</code>:</p> <pre><code>plugins:\n  - mkdocstrings:\n      handlers:\n        owa:\n          options:\n            show_plugin_metadata: true\n            include_source_links: true\n</code></pre> <p>Note: The handler is located in <code>mkdocstrings_handlers/owa.py</code> following the mkdocstrings custom handler convention. It automatically detects and imports OWA core modules when available. Requires <code>pip install -e projects/owa-core</code> for entry point registration.</p>"},{"location":"env/documentation_validation/#documentation-statistics","title":"Documentation Statistics","text":"<p>View documentation statistics for development:</p> <pre><code>$ owl env docs-stats\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Plugin  \u2503 Coverage \u2503 Documented  \u2503 Total \u2503 Status \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 std     \u2502    100%  \u2502          2  \u2502     2 \u2502   \u2705   \u2502\n\u2502 example \u2502    100%  \u2502          7  \u2502     7 \u2502   \u2705   \u2502\n\u2502 desktop \u2502     92%  \u2502         23  \u2502    25 \u2502   \u26a0\ufe0f   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ud83d\udcca Overall Coverage: 82.1% (32/39)\n</code></pre> <p>Group by component type:</p> <pre><code>$ owl env docs-stats --by-type\n</code></pre>"},{"location":"env/documentation_validation/#best-practices","title":"Best Practices","text":""},{"location":"env/documentation_validation/#writing-good-documentation","title":"Writing Good Documentation","text":"<ol> <li>Clear Summaries: Start with a concise one-line summary</li> <li>Parameter Documentation: Document all parameters with types and descriptions</li> <li>Return Values: Clearly describe what the function returns</li> <li>Examples: Include practical usage examples</li> <li>Type Hints: Use proper type annotations</li> <li>Test Documentation: Run validation regularly</li> <li>Automate Checks: Add to CI/CD pipeline</li> </ol>"},{"location":"env/documentation_validation/#example-well-documented-component","title":"Example: Well-Documented Component","text":"<pre><code>def screen_capture(region: Optional[Tuple[int, int, int, int]] = None) -&gt; Image:\n    \"\"\"\n    Capture a screenshot of the desktop or a specific region.\n\n    This function captures the current state of the desktop and returns\n    it as a PIL Image object. Optionally, you can specify a region to\n    capture only a portion of the screen.\n\n    Args:\n        region: Optional tuple (x, y, width, height) defining the capture area.\n               If None, captures the entire screen.\n\n    Returns:\n        PIL Image object containing the captured screenshot.\n\n    Raises:\n        ScreenCaptureError: If the screen capture fails.\n\n    Examples:\n        Capture the entire screen:\n\n        &gt;&gt;&gt; image = screen_capture()\n        &gt;&gt;&gt; image.save(\"screenshot.png\")\n\n        Capture a specific region:\n\n        &gt;&gt;&gt; region_image = screen_capture((100, 100, 800, 600))\n        &gt;&gt;&gt; region_image.show()\n    \"\"\"\n    # Implementation here...\n</code></pre>"},{"location":"env/documentation_validation/#cicd-and-development-workflow-integration","title":"CI/CD and Development Workflow Integration","text":""},{"location":"env/documentation_validation/#github-actions","title":"GitHub Actions","text":"<pre><code>name: Documentation Validation\non: [push, pull_request]\n\njobs:\n  validate-docs:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Setup Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: \"3.11\"\n      - name: Install dependencies\n        run: pip install -e .\n      - name: Validate Documentation\n        run: owl env validate-docs --strict\n</code></pre>"},{"location":"env/documentation_validation/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>Add documentation validation to your pre-commit hooks:</p> <pre><code># .pre-commit-config.yaml\nrepos:\n  - repo: local\n    hooks:\n      - id: validate-docs\n        name: Validate Plugin Documentation\n        entry: owl env validate-docs\n        language: system\n        pass_filenames: false\n</code></pre>"},{"location":"env/documentation_validation/#pytest-integration","title":"pytest Integration","text":"<p>Include documentation validation in your test suite:</p> <pre><code>import subprocess\nimport json\n\ndef test_plugin_documentation():\n    \"\"\"Test that all plugins have adequate documentation.\"\"\"\n    result = subprocess.run(\n        [\"owl\", \"env\", \"validate-docs\", \"--format\", \"json\"],\n        capture_output=True, text=True\n    )\n\n    data = json.loads(result.stdout)\n    assert data[\"overall_coverage\"] &gt;= 0.9, f\"Documentation coverage {data['overall_coverage']} below 90%\"\n    assert result.returncode == 0, \"Documentation validation failed\"\n</code></pre>"},{"location":"env/documentation_validation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"env/documentation_validation/#common-issues","title":"Common Issues","text":"Issue Solution \"Missing docstring\" Add docstring to component \"Missing type hints\" Add type annotations \"Missing usage examples\" Add Examples section to docstring \"Component failed to load\" Check imports and dependencies \"Summary too short\" Write descriptive summary (&gt;10 chars) \"Import Errors\" Ensure all plugin dependencies are installed \"Loading Failures\" Check that components can be imported without errors"},{"location":"env/documentation_validation/#getting-help","title":"Getting Help","text":"<ul> <li>Check the validation output for specific issues</li> <li>Use <code>--check-quality</code> for detailed quality analysis</li> <li>Review the Plugin Development Guide for best practices</li> </ul>"},{"location":"env/documentation_validation/#related-documentation","title":"Related Documentation","text":"<ul> <li>Custom Plugin Development</li> <li>OEP-0004 Specification</li> </ul>"},{"location":"env/guide/","title":"Comprehensive Guide for Env","text":""},{"location":"env/guide/#core-concepts","title":"Core Concepts","text":""},{"location":"env/guide/#three-main-components","title":"Three Main Components:","text":"<p>Open World Agents (OWA)'s Env consists of three primary components that enable interaction with the environment in different ways.</p> <ol> <li> <p>Callable - Functions you actively call to perform actions or get state</p> <ul> <li>These are like traditional function calls; you invoke them when you need to perform an action or retrieve some information from the environment.</li> <li>Implements <code>__call__</code> function</li> <li>Example: <code>CALLABLES[\"std/time_ns\"]()</code></li> </ul> </li> <li> <p>Listener - Components that respond to events and execute your callbacks</p> <ul> <li>Listeners wait for specific events and execute your callback functions when those events occur.</li> <li>Takes a <code>callback</code> parameter in the <code>configure</code> method</li> <li>Example: <pre><code>listener = LISTENERS[\"keyboard\"]().configure(callback=my_callback)\nwith listener.session:\n    input(\"Type enter to exit.\")\n</code></pre> This example sets up a keyboard listener that invokes <code>my_callback</code> whenever a keyboard event is detected.</li> </ul> </li> <li> <p>Runnable - Background processes that can be started and stopped</p> <ul> <li>Runnables run in the background and can be managed with start and stop operations.</li> <li>Parent class of <code>Listener</code>, the only difference is absence of <code>callback</code> argument in <code>configure</code>.</li> <li>Supports <code>start()</code>, <code>stop()</code>, and <code>join()</code> operations</li> </ul> </li> </ol> <p>What's the difference between Callable and Listener?</p> <p>The key difference between these two is who initiates the call:</p> <ul> <li>In Callable, caller actively executes the Callable.</li> <li>In Listener, callee waits for events and then calls user-provided \"callbacks\".</li> </ul> <p>In other words, Callables are synchronous functions you call directly, while Listeners are asynchronous and react to events.</p> <p>Common environmental interfaces such as gymnasium.Env only provides object/method equivalent to Callable.</p>"},{"location":"env/guide/#registry-system","title":"Registry System","text":"<p>The OWA environment uses a registry system to manage and access the various components.</p> <p>Components are managed through global registries:</p> <ul> <li> <p><code>CALLABLES</code> - Dictionary of callable functions</p> </li> <li> <p><code>LISTENERS</code> - Dictionary of event listeners</p> </li> <li> <p><code>RUNNABLES</code> - Dictionary of background processes</p> </li> </ul> <p>Zero-Configuration Plugin Discovery: Plugins are automatically discovered when installed via pip using Python's Entry Points system. No manual activation needed!</p> <pre><code>from owa.core.registry import CALLABLES, LISTENERS, RUNNABLES\n# Components automatically available after plugin installation\n</code></pre> <p>All components use unified <code>namespace/name</code> naming pattern for consistency.</p>"},{"location":"env/guide/#environment-usage-examples","title":"Environment Usage Examples","text":""},{"location":"env/guide/#standard-environment-owaenvstd","title":"Standard Environment (<code>owa.env.std</code>)","text":"<p>Here is an example of how to use the standard environment to interact with clock functionalities.</p> <p><pre><code>import time\nfrom owa.core.registry import CALLABLES, LISTENERS\n\n# Components automatically available - no activation needed!\n# Unified namespace/name pattern: std/time_ns, std/tick\n\n# Testing the std/tick listener\ntick = LISTENERS[\"std/tick\"]().configure(callback=lambda: print(CALLABLES[\"std/time_ns\"]()), interval=1)\ntick.start()\n\ntime.sleep(2)  # The listener prints the current time in nanoseconds a few times\n\ntick.stop(), tick.join()\n</code></pre> Components are automatically discovered and available after installation. All components use the unified <code>namespace/name</code> pattern.</p> <p>Instead of manual <code>start-stop-join</code> procedure, you may utilize context manager: <code>.session</code>! Following example shows how to abbreviate <code>start-stop-join</code> steps.</p> <pre><code>with tick.session:\n    time.sleep(2)\n</code></pre>"},{"location":"env/guide/#desktop-environment-owaenvdesktop","title":"Desktop Environment (<code>owa.env.desktop</code>)","text":"<p>The desktop environment module provides capabilities for UI interaction and input handling.</p> <p><pre><code>from owa.core.registry import CALLABLES, LISTENERS\nfrom owa.msgs.desktop.keyboard import KeyboardEvent\n\n# Components automatically available - unified namespace/name pattern\n\n# Using screen capture and window management features\nprint(f\"{CALLABLES['desktop/screen.capture']().shape=}\")  # Example output: (1080, 1920, 3)\nprint(f\"{CALLABLES['desktop/window.get_active_window']()=}\")\nprint(f\"{CALLABLES['desktop/window.get_window_by_title']('open-world-agents')=}\")\n\n# Simulating a mouse click (left button, double click)\nmouse_click = CALLABLES[\"desktop/mouse.click\"]\nmouse_click(\"left\", 2)\n\n\n# Configuring a keyboard listener\ndef on_keyboard_event(keyboard_event: KeyboardEvent):\n    print(f\"Keyboard event: {keyboard_event.event_type=}, {keyboard_event.vk=}\")\n\n\nkeyboard_listener = LISTENERS[\"desktop/keyboard\"]().configure(callback=on_keyboard_event)\nwith keyboard_listener.session:\n    input(\"Type enter to exit.\\n\")\n</code></pre> Components are automatically available with unified naming. This code demonstrates capturing the screen, retrieving window information, simulating mouse clicks, and listening to keyboard events.</p>"},{"location":"env/guide/#custom-envplugin-example","title":"Custom EnvPlugin Example","text":"<p>You can create your own plugins using Entry Points for automatic discovery. For more information, see Custom EnvPlugin.</p> <p>Creating custom plugins allows you to extend the OWA environment with your own functionalities.</p> <p><pre><code># In your plugin's pyproject.toml:\n# [project.entry-points.\"owa.env.plugins\"]\n# myplugin = \"owa.env.myplugin:plugin_spec\"\n\n# In your plugin specification:\nfrom owa.core.plugin_spec import PluginSpec\n\nplugin_spec = PluginSpec(\n    namespace=\"myplugin\",\n    version=\"0.1.0\",\n    description=\"My custom plugin\",\n    components={\n        \"callables\": {\n            \"add\": \"owa.env.myplugin:add_function\",\n        },\n        \"listeners\": {\n            \"events\": \"owa.env.myplugin:EventListener\",\n        }\n    }\n)\n\n# Using the custom plugin (automatically available after pip install)\nfrom owa.core.registry import CALLABLES, LISTENERS\nresult = CALLABLES[\"myplugin/add\"](5, 3)  # Returns 8\n</code></pre> Plugins use Entry Points for automatic discovery and unified <code>namespace/name</code> pattern for all components.</p>"},{"location":"env/guide/#architecture-summary","title":"Architecture Summary","text":"<p>The diagram below summarizes the architecture of the OWA environment and how components are registered and used.</p> <pre><code>graph LR;\n    EP[Entry Points] --&gt;|Auto-discovers| SM[\"Standard Plugin(owa.env.std)\"]\n    EP --&gt;|Auto-discovers| DM[\"Desktop Plugin(owa.env.desktop)\"]\n    EP --&gt;|Auto-discovers| MP[\"Message Package(owa-msgs)\"]\n    SM --&gt;|Provides| C1[std/time_ns]\n    SM --&gt;|Provides| L1[std/tick Listener]\n    DM --&gt;|Provides| C2[desktop/screen.capture]\n    DM --&gt;|Provides| C3[desktop/window.get_active_window]\n    DM --&gt;|Provides| L2[desktop/keyboard Listener]\n    MP --&gt;|Provides| M1[desktop/KeyboardEvent]\n    MP --&gt;|Provides| M2[desktop/MouseEvent]\n    MP --&gt;|Provides| M3[desktop/ScreenCaptured]\n    User --&gt;|pip install| PI[Plugin Installation]\n    PI --&gt; EP\n    EP --&gt; R[Component Registry]\n    EP --&gt; MR[Message Registry]</code></pre>"},{"location":"env/guide/#cli-tools-for-plugin-management","title":"CLI Tools for Plugin Management","text":"<p>The <code>owl env</code> command provides powerful tools for managing and exploring plugins with enhanced filtering, search, and analysis capabilities:</p>"},{"location":"env/guide/#plugin-discovery-and-listing","title":"Plugin Discovery and Listing","text":"<pre><code># List all discovered plugins\n$ owl env list\n\n# Enhanced filtering and display options\n$ owl env list --namespace example                # Filter by namespace\n$ owl env list --type callables                   # Filter by component type\n$ owl env list --search mouse                     # Search by pattern\n$ owl env list --details                          # Show import paths and load status\n$ owl env list --table                            # Display in table format\n$ owl env list --sort name                        # Sort by name, namespace, or type\n</code></pre>"},{"location":"env/guide/#plugin-information-and-inspection","title":"Plugin Information and Inspection","text":"<pre><code># Show plugin summary\n$ owl env show example\n\n# Enhanced plugin exploration\n$ owl env show example --components               # Show detailed component list\n$ owl env show example --inspect mouse.click      # Inspect specific component\n$ owl env show example --type callables           # Filter by component type\n$ owl env show example --search window            # Search within namespace\n$ owl env show example --table                    # Display in table format\n</code></pre>"},{"location":"env/guide/#advanced-search-and-discovery","title":"Advanced Search and Discovery","text":"<pre><code># Search across all plugins\n$ owl env search \"mouse.*click\"                   # Regex pattern search\n$ owl env search window --details --table         # Detailed search results\n$ owl env search keyboard --type callables        # Search specific component type\n\n# Quick access shortcuts\n$ owl env ls                                       # Quick plugin list\n$ owl env ls desktop                              # Quick namespace exploration\n$ owl env find mouse                              # Quick component search\n$ owl env namespaces                              # List all available namespaces\n</code></pre>"},{"location":"env/guide/#ecosystem-analysis","title":"Ecosystem Analysis","text":"<pre><code># Statistics and health monitoring\n$ owl env stats                                    # Show ecosystem statistics\n$ owl env stats --by-namespace                    # Group by namespace\n$ owl env stats --by-type                         # Group by component type\n$ owl env health                                   # Perform health check\n</code></pre>"},{"location":"env/guide/#plugin-development","title":"Plugin Development","text":"<pre><code># Validate plugin specifications\n$ owl env validate owa.env.myplugin:plugin_spec    # Python entry point\n$ owl env validate ./plugin.yaml                   # YAML file\n$ owl env validate ./plugin.yaml --verbose         # Detailed validation\n$ owl env validate ./plugin.yaml --no-check-imports # Skip import validation\n</code></pre>"},{"location":"env/guide/#example-cli-output","title":"Example CLI Output","text":"<pre><code>$ owl env list\n\ud83d\udce6 Discovered Plugins (4)\n\u251c\u2500\u2500 desktop (25 components)\n\u2502   \u251c\u2500\u2500 \ud83d\udcde Callables: 20\n\u2502   \u2514\u2500\u2500 \ud83d\udc42 Listeners: 5\n\u251c\u2500\u2500 example (7 components)\n\u2502   \u251c\u2500\u2500 \ud83d\udcde Callables: 3\n\u2502   \u251c\u2500\u2500 \ud83d\udc42 Listeners: 2\n\u2502   \u2514\u2500\u2500 \ud83c\udfc3 Runnables: 2\n\u251c\u2500\u2500 gst (4 components)\n\u2502   \u251c\u2500\u2500 \ud83d\udc42 Listeners: 2\n\u2502   \u2514\u2500\u2500 \ud83c\udfc3 Runnables: 2\n\u2514\u2500\u2500 std (2 components)\n    \u251c\u2500\u2500 \ud83d\udcde Callables: 1\n    \u2514\u2500\u2500 \ud83d\udc42 Listeners: 1\n\n$ owl env show example --components\n\ud83d\udce6 Plugin: example (7 components)\n\u251c\u2500\u2500 \ud83d\udcde Callables: 3\n\u251c\u2500\u2500 \ud83d\udc42 Listeners: 2\n\u2514\u2500\u2500 \ud83c\udfc3 Runnables: 2\n\ud83d\udcde Callables (3)\n\u251c\u2500\u2500 example/add\n\u251c\u2500\u2500 example/callable\n\u2514\u2500\u2500 example/print\n\ud83d\udc42 Listeners (2)\n\u251c\u2500\u2500 example/listener\n\u2514\u2500\u2500 example/timer\n\ud83c\udfc3 Runnables (2)\n\u251c\u2500\u2500 example/counter\n\u2514\u2500\u2500 example/runnable\n\n$ owl env search \"mouse\" --table\n               Search Results for 'mouse' (9 matches)\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Component               \u2503 Type      \u2503 Namespace \u2503 Name            \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 desktop/mouse           \u2502 listeners \u2502 desktop   \u2502 mouse           \u2502\n\u2502 desktop/mouse.click     \u2502 callables \u2502 desktop   \u2502 mouse.click     \u2502\n\u2502 desktop/mouse.move      \u2502 callables \u2502 desktop   \u2502 mouse.move      \u2502\n\u2502 desktop/mouse.press     \u2502 callables \u2502 desktop   \u2502 mouse.press     \u2502\n\u2502 desktop/mouse.scroll    \u2502 callables \u2502 desktop   \u2502 mouse.scroll    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n$ owl env namespaces\n             Available Namespaces\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Namespace \u2503 Components \u2503 Quick Access       \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 desktop   \u2502        25 \u2502 owl env ls desktop \u2502\n\u2502 example   \u2502         7 \u2502 owl env ls example \u2502\n\u2502 gst       \u2502         4 \u2502 owl env ls gst     \u2502\n\u2502 std       \u2502         2 \u2502 owl env ls std     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"env/guide/#message-registry","title":"Message Registry","text":"<p>OWA provides a centralized message registry system that automatically discovers and manages message definitions through Python entry points. This system separates message schemas from runtime components, providing better organization and extensibility.</p>"},{"location":"env/guide/#accessing-messages","title":"Accessing Messages","text":"<pre><code>from owa.core import MESSAGES\n\n# Access message classes by type name\nKeyboardEvent = MESSAGES['desktop/KeyboardEvent']\nMouseEvent = MESSAGES['desktop/MouseEvent']\nScreenCaptured = MESSAGES['desktop/ScreenCaptured']\n\n# Check if a message type exists\nif 'desktop/KeyboardEvent' in MESSAGES:\n    print(\"KeyboardEvent is available\")\n\n# List all available message types\nfor message_type in MESSAGES.keys():\n    print(f\"Available: {message_type}\")\n\n# Create message instances\nevent = KeyboardEvent(event_type=\"press\", vk=65, timestamp=1234567890)\n</code></pre>"},{"location":"env/guide/#message-naming-convention","title":"Message Naming Convention","text":"<p>Messages follow a domain-based naming pattern: - Format: <code>domain/MessageType</code> - Domain: Logical grouping (e.g., <code>desktop</code>, <code>sensors</code>, <code>system</code>) - MessageType: PascalCase message name - Examples: <code>desktop/KeyboardEvent</code>, <code>desktop/WindowInfo</code>, <code>sensors/TemperatureReading</code></p>"},{"location":"env/guide/#core-message-types","title":"Core Message Types","text":"<p>The <code>owa-msgs</code> package provides standard message definitions:</p> Message Type Description <code>desktop/KeyboardEvent</code> Keyboard press/release events <code>desktop/KeyboardState</code> Current keyboard state <code>desktop/MouseEvent</code> Mouse movement, clicks, scrolls <code>desktop/MouseState</code> Current mouse position and buttons <code>desktop/ScreenCaptured</code> Screen capture frames with timestamps <code>desktop/WindowInfo</code> Active window information"},{"location":"env/guide/#cli-tools-for-message-management","title":"CLI Tools for Message Management","text":"<pre><code># List all available message types\n$ owl messages list\n\n# Show detailed message schema\n$ owl messages show desktop/KeyboardEvent\n\n# Search for specific message types\n$ owl messages search keyboard\n\n# Validate message definitions\n$ owl messages validate\n</code></pre>"},{"location":"env/guide/#custom-message-registration","title":"Custom Message Registration","text":"<p>Third-party packages can register custom message types through entry points:</p> <pre><code># pyproject.toml\n[project.entry-points.\"owa.msgs\"]\n\"sensors/TemperatureReading\" = \"custom_sensors.messages:TemperatureReading\"\n\"sensors/HumidityReading\" = \"custom_sensors.messages:HumidityReading\"\n</code></pre>"},{"location":"env/guide/#cli-tools-for-environment-management","title":"CLI Tools for Environment Management","text":"<p>The <code>owl env</code> command group provides comprehensive tools for managing environment plugins:</p> <pre><code># Plugin discovery and management\nowl env list                    # List all available plugins\nowl env show desktop            # Show detailed plugin information\nowl env validate desktop        # Validate plugin installation\nowl env search keyboard         # Search for specific components\n\n# Plugin health and statistics\nowl env health                  # Health check for all plugins\nowl env stats                   # Show plugin statistics\nowl env docs-stats              # Documentation coverage stats\n\n# Quick access commands\nowl env ls                      # Quick plugin overview\nowl env find mouse              # Find components by name\nowl env namespaces              # Show available namespaces\n</code></pre> <p>For complete CLI documentation, see:</p> <ul> <li>Environment Commands - Detailed <code>owl env</code> documentation</li> <li>CLI Tools - Complete command overview</li> </ul>"},{"location":"env/guide/#additional-resources","title":"Additional Resources","text":"<ul> <li>For standard module details: owa-env-std</li> <li>For desktop features: owa-env-desktop</li> <li>For multimedia support: owa-env-gst</li> <li>For custom EnvPlugin development: custom_plugins.md</li> </ul>"},{"location":"env/plugin_specification_guide/","title":"Plugin Specification Guide","text":"<p>This guide covers how to write PluginSpec configurations in both Python and YAML formats for Open World Agents (OWA) plugins.</p>"},{"location":"env/plugin_specification_guide/#overview","title":"Overview","text":"<p>A PluginSpec defines the structure and components of your plugin, enabling automatic discovery and registration through the OWA plugin system. You can define your plugin specification in two ways:</p> <ol> <li>Python Format - Direct PluginSpec object (recommended for most cases)</li> <li>YAML Format - External YAML file (useful for configuration-driven development)</li> </ol> <p>\ud83d\udea8 CRITICAL: Module Structure is COMPLETELY FLEXIBLE</p> <p>The <code>owa.env.*</code> structure shown in examples is just a RECOMMENDATION, NOT a requirement!</p> <ul> <li>\u2705 You can use ANY module structure that makes sense for your project</li> <li>\u2705 Examples: <code>my_company.tools</code>, <code>custom_plugins</code>, <code>automation.workflows</code>, etc.</li> <li>\u2705 The ONLY requirement is that your entry point correctly points to your plugin specification</li> <li>\u274c You are NOT required to follow the <code>owa.env.*</code> pattern</li> </ul>"},{"location":"env/plugin_specification_guide/#python-format-recommended","title":"Python Format (Recommended)","text":""},{"location":"env/plugin_specification_guide/#basic-structure","title":"Basic Structure","text":"<p>\u26a0\ufe0f IMPORTANT: The <code>owa.env.*</code> structure shown below is just a RECOMMENDATION, not a requirement!</p> <p>Your plugin can be organized in ANY module structure you prefer. The only requirement is that your entry point correctly points to your plugin specification. Examples of valid structures: - <code>my_company.tools:plugin_spec</code> - <code>custom_plugins.ai_tools:plugin_spec</code> - <code>anything.you.want:plugin_spec</code></p> <p>Recommended structure (but not required): Create a <code>PluginSpec</code> object in a separate <code>owa/env/plugins/&lt;namespace&gt;.py</code> file:</p> <pre><code># File: owa/env/plugins/myplugin.py\n\"\"\"\nPlugin specification for the MyPlugin environment plugin.\n\nThis module is kept separate to avoid circular imports during plugin discovery.\n\"\"\"\n\nfrom owa.core.plugin_spec import PluginSpec\n\nplugin_spec = PluginSpec(\n    namespace=\"myplugin\",\n    version=\"1.0.0\",\n    description=\"My custom plugin for OWA\",\n    author=\"Your Name\",  # Optional\n    components={\n        \"callables\": {\n            \"function_name\": \"owa.env.myplugin:function_name\",\n        },\n        \"listeners\": {\n            \"listener_name\": \"owa.env.myplugin:ListenerClass\",\n        },\n        \"runnables\": {\n            \"runnable_name\": \"owa.env.myplugin:RunnableClass\",\n        }\n    }\n)\n</code></pre> <p>Important: Do not create <code>__init__.py</code> files in the <code>plugins/</code> directory as this would interfere with namespace packaging.</p>"},{"location":"env/plugin_specification_guide/#alternative-module-structures-all-valid","title":"Alternative Module Structures (All Valid!)","text":"<p>The <code>owa.env.*</code> structure is just a convention used by official OWA plugins. Your plugin can use ANY module structure:</p> <pre><code># Your own company structure\n# File: my_company/ai_tools/plugin_spec.py\nfrom owa.core.plugin_spec import PluginSpec\n\nplugin_spec = PluginSpec(\n    namespace=\"ai_tools\",\n    components={\"callables\": {\"analyze\": \"my_company.ai_tools.analyzer:analyze_data\"}}\n)\n\n# Entry point: my_company.ai_tools.plugin_spec:plugin_spec\n</code></pre> <pre><code># Flat structure\n# File: custom_plugins.py\nfrom owa.core.plugin_spec import PluginSpec\n\nplugin_spec = PluginSpec(\n    namespace=\"custom\",\n    components={\"callables\": {\"process\": \"custom_plugins:process_data\"}}\n)\n\n# Entry point: custom_plugins:plugin_spec\n</code></pre> <pre><code># Domain-specific structure\n# File: automation/workflows/owa_plugin.py\nfrom owa.core.plugin_spec import PluginSpec\n\nplugin_spec = PluginSpec(\n    namespace=\"workflows\",\n    components={\"runnables\": {\"executor\": \"automation.workflows.engine:WorkflowExecutor\"}}\n)\n\n# Entry point: automation.workflows.owa_plugin:plugin_spec\n</code></pre> <p>The only requirement is that your entry point in <code>pyproject.toml</code> correctly points to your plugin specification, regardless of where it's located.</p>"},{"location":"env/plugin_specification_guide/#required-fields","title":"Required Fields","text":"<ul> <li>namespace: Unique identifier for your plugin (letters, numbers, underscores, hyphens)</li> <li>version: Plugin version following semantic versioning</li> <li>description: Brief description of plugin functionality</li> <li>components: Dictionary of component types and their definitions</li> </ul>"},{"location":"env/plugin_specification_guide/#optional-fields","title":"Optional Fields","text":"<ul> <li>author: Plugin author name</li> </ul>"},{"location":"env/plugin_specification_guide/#component-types","title":"Component Types","text":""},{"location":"env/plugin_specification_guide/#callables","title":"Callables","text":"<p>Functions that users can call directly:</p> <pre><code>\"callables\": {\n    \"add\": \"owa.env.myplugin.math:add_numbers\",\n    \"screen.capture\": \"owa.env.myplugin.screen:capture_screen\",\n    \"mouse.click\": \"owa.env.myplugin.input:click_mouse\",\n}\n</code></pre>"},{"location":"env/plugin_specification_guide/#listeners","title":"Listeners","text":"<p>Event-driven components that respond to system events:</p> <pre><code>\"listeners\": {\n    \"keyboard\": \"owa.env.myplugin.input:KeyboardListener\",\n    \"file.watcher\": \"owa.env.myplugin.fs:FileWatcher\",\n    \"network.monitor\": \"owa.env.myplugin.net:NetworkMonitor\",\n}\n</code></pre>"},{"location":"env/plugin_specification_guide/#runnables","title":"Runnables","text":"<p>Background processes that can be started and stopped:</p> <pre><code>\"runnables\": {\n    \"data.processor\": \"owa.env.myplugin.processing:DataProcessor\", \n    \"log.collector\": \"owa.env.myplugin.logging:LogCollector\",\n    \"health.monitor\": \"owa.env.myplugin.monitoring:HealthMonitor\",\n}\n</code></pre>"},{"location":"env/plugin_specification_guide/#complete-example","title":"Complete Example","text":"<pre><code>from owa.core.plugin_spec import PluginSpec\n\nplugin_spec = PluginSpec(\n    namespace=\"mycompany_tools\",\n    version=\"2.1.0\",\n    description=\"Custom tools for automation and monitoring\",\n    author=\"MyCompany Development Team\",\n    components={\n        \"callables\": {\n            # Math utilities\n            \"math.add\": \"owa.env.mycompany_tools.math:add_numbers\",\n            \"math.multiply\": \"owa.env.mycompany_tools.math:multiply_numbers\",\n\n            # File operations\n            \"file.read\": \"owa.env.mycompany_tools.files:read_file\",\n            \"file.write\": \"owa.env.mycompany_tools.files:write_file\",\n\n            # System utilities\n            \"system.info\": \"owa.env.mycompany_tools.system:get_system_info\",\n        },\n        \"listeners\": {\n            # Event monitoring\n            \"file.changes\": \"owa.env.mycompany_tools.monitoring:FileChangeListener\",\n            \"system.alerts\": \"owa.env.mycompany_tools.monitoring:SystemAlertListener\",\n        },\n        \"runnables\": {\n            # Background services\n            \"log.processor\": \"owa.env.mycompany_tools.services:LogProcessor\",\n            \"health.checker\": \"owa.env.mycompany_tools.services:HealthChecker\",\n        }\n    }\n)\n</code></pre>"},{"location":"env/plugin_specification_guide/#entry-point-declaration","title":"Entry Point Declaration","text":"<p>In your <code>pyproject.toml</code>, declare the entry point pointing to wherever your plugin specification is located:</p> <pre><code>[project.entry-points.\"owa.env.plugins\"]\n# Examples - use ANY structure you prefer:\nmycompany_tools = \"owa.env.plugins.mycompany_tools:plugin_spec\"  # Recommended OWA structure\nai_tools = \"my_company.ai_tools.plugin_spec:plugin_spec\"         # Your own structure\ncustom = \"custom_plugins:plugin_spec\"                            # Flat structure\nworkflows = \"automation.workflows.owa_plugin:plugin_spec\"       # Domain structure\n</code></pre>"},{"location":"env/plugin_specification_guide/#yaml-format","title":"YAML Format","text":""},{"location":"env/plugin_specification_guide/#basic-structure_1","title":"Basic Structure","text":"<p>Create a <code>plugin.yaml</code> file with the same structure:</p> <pre><code>namespace: myplugin\nversion: \"1.0.0\"\ndescription: \"My custom plugin for OWA\"\nauthor: \"Your Name\"  # Optional\ncomponents:\n  callables:\n    function_name: \"module.path:function_name\"\n  listeners:\n    listener_name: \"module.path:ListenerClass\"\n  runnables:\n    runnable_name: \"module.path:RunnableClass\"\n</code></pre>"},{"location":"env/plugin_specification_guide/#complete-yaml-example","title":"Complete YAML Example","text":"<pre><code>namespace: mycompany_tools\nversion: \"2.1.0\"\ndescription: \"Custom tools for automation and monitoring\"\nauthor: \"MyCompany Development Team\"\ncomponents:\n  callables:\n    # Math utilities\n    math.add: \"owa.env.mycompany_tools.math:add_numbers\"\n    math.multiply: \"owa.env.mycompany_tools.math:multiply_numbers\"\n\n    # File operations  \n    file.read: \"owa.env.mycompany_tools.files:read_file\"\n    file.write: \"owa.env.mycompany_tools.files:write_file\"\n\n    # System utilities\n    system.info: \"owa.env.mycompany_tools.system:get_system_info\"\n\n  listeners:\n    # Event monitoring\n    file.changes: \"owa.env.mycompany_tools.monitoring:FileChangeListener\"\n    system.alerts: \"owa.env.mycompany_tools.monitoring:SystemAlertListener\"\n\n  runnables:\n    # Background services\n    log.processor: \"owa.env.mycompany_tools.services:LogProcessor\"\n    health.checker: \"owa.env.mycompany_tools.services:HealthChecker\"\n</code></pre>"},{"location":"env/plugin_specification_guide/#loading-yaml-in-python","title":"Loading YAML in Python","text":"<p>To use a YAML specification in your plugin:</p> <pre><code>from owa.core.plugin_spec import PluginSpec\nfrom pathlib import Path\n\n# Load from YAML file\nplugin_spec = PluginSpec.from_yaml(Path(__file__).parent / \"plugin.yaml\")\n</code></pre>"},{"location":"env/plugin_specification_guide/#naming-conventions","title":"Naming Conventions","text":""},{"location":"env/plugin_specification_guide/#namespace-rules","title":"Namespace Rules","text":"<ul> <li>Use letters, numbers, underscores, and hyphens only</li> <li>Keep it short and descriptive</li> <li>Examples: <code>desktop</code>, <code>gst</code>, <code>mycompany_tools</code></li> </ul>"},{"location":"env/plugin_specification_guide/#component-name-rules","title":"Component Name Rules","text":"<ul> <li>Use letters, numbers, underscores, and dots only</li> <li>Use dots for logical grouping: <code>mouse.click</code>, <code>file.read</code></li> <li>Keep names descriptive and consistent</li> <li>Examples: <code>screen_capture</code>, <code>mouse.click</code>, <code>omnimodal.recorder</code></li> </ul>"},{"location":"env/plugin_specification_guide/#import-path-format","title":"Import Path Format","text":"<ul> <li>Must use format: <code>\"module.path:object_name\"</code></li> <li>Module path should be importable Python module</li> <li>Object name should be the exact name in the module</li> <li>Examples: <code>\"owa.env.myplugin.utils:helper_function\"</code></li> </ul>"},{"location":"env/plugin_specification_guide/#validation","title":"Validation","text":""},{"location":"env/plugin_specification_guide/#using-the-cli-tool","title":"Using the CLI Tool","text":"<p>Validate your plugin specification:</p> <pre><code># Validate Python entry point\nowl env validate owa.env.myplugin:plugin_spec\n\n# Validate YAML file  \nowl env validate ./plugin.yaml\n\n# Validate with verbose output\nowl env validate owa.env.myplugin:plugin_spec --verbose\n\n# Skip import validation (faster)\nowl env validate ./plugin.yaml --no-check-imports\n</code></pre>"},{"location":"env/plugin_specification_guide/#common-validation-errors","title":"Common Validation Errors","text":"<ol> <li>Invalid namespace: Contains invalid characters</li> <li>Invalid component names: Contains invalid characters  </li> <li>Missing colon in import path: Must use <code>module:object</code> format</li> <li>Module not found: Import path points to non-existent module</li> <li>Object not found: Object doesn't exist in specified module</li> <li>Wrong object type: Object is not a PluginSpec instance (for entry points)</li> </ol>"},{"location":"env/plugin_specification_guide/#best-practices","title":"Best Practices","text":""},{"location":"env/plugin_specification_guide/#1-choose-the-right-format","title":"1. Choose the Right Format","text":"<ul> <li>Python format: Better for most cases, easier IDE support, type checking</li> <li>YAML format: Good for configuration-driven development, external tools</li> </ul>"},{"location":"env/plugin_specification_guide/#2-organize-components-logically","title":"2. Organize Components Logically","text":"<pre><code>components={\n    \"callables\": {\n        # Group related functions\n        \"math.add\": \"...\",\n        \"math.subtract\": \"...\",\n        \"file.read\": \"...\", \n        \"file.write\": \"...\",\n    }\n}\n</code></pre>"},{"location":"env/plugin_specification_guide/#3-use-descriptive-names","title":"3. Use Descriptive Names","text":"<pre><code># Good\n\"screen.capture\": \"owa.env.myplugin.screen:capture_screen\"\n\"mouse.click\": \"owa.env.myplugin.input:click_mouse\"\n\n# Avoid\n\"sc\": \"owa.env.myplugin.screen:capture_screen\"\n\"click\": \"owa.env.myplugin.input:click_mouse\"\n</code></pre>"},{"location":"env/plugin_specification_guide/#4-keep-import-paths-consistent","title":"4. Keep Import Paths Consistent","text":"<pre><code># Good - consistent module organization\n\"math.add\": \"owa.env.myplugin.math:add_numbers\"\n\"math.subtract\": \"owa.env.myplugin.math:subtract_numbers\"\n\n# Avoid - scattered across modules\n\"math.add\": \"owa.env.myplugin.utils:add_numbers\"  \n\"math.subtract\": \"owa.env.myplugin.helpers:subtract_numbers\"\n</code></pre>"},{"location":"env/plugin_specification_guide/#5-version-your-plugin-properly","title":"5. Version Your Plugin Properly","text":"<ul> <li>Follow semantic versioning: <code>MAJOR.MINOR.PATCH</code></li> <li>Update version when making changes</li> <li>Document breaking changes in major versions</li> </ul>"},{"location":"env/plugin_specification_guide/#quick-reference","title":"Quick Reference","text":""},{"location":"env/plugin_specification_guide/#validation-commands","title":"Validation Commands","text":"<pre><code># Validate Python entry point\nowl env validate owa.env.myplugin:plugin_spec\n\n# Validate YAML file\nowl env validate ./plugin.yaml\n\n# Validate with verbose output\nowl env validate ./plugin.yaml --verbose\n\n# Skip import validation (faster)\nowl env validate ./plugin.yaml --no-check-imports\n</code></pre>"},{"location":"env/plugin_specification_guide/#example-files","title":"Example Files","text":"<ul> <li>Complete YAML Example - Comprehensive YAML specification example</li> </ul>"},{"location":"env/plugin_specification_guide/#next-steps","title":"Next Steps","text":"<ul> <li>See Custom Plugins Guide for complete plugin development workflow</li> <li>Check YAML Plugin Guide for YAML-specific details</li> <li>Use <code>owl env validate</code> to test your specifications</li> <li>Explore CLI Tools Guide for development tools</li> </ul>"},{"location":"env/yaml_plugin_guide/","title":"YAML Plugin Specification Guide","text":"<p>This guide focuses specifically on creating and managing plugin specifications using YAML format for Open World Agents (OWA).</p>"},{"location":"env/yaml_plugin_guide/#why-use-yaml-format","title":"Why Use YAML Format?","text":"<p>YAML format is ideal when you want to: - Separate configuration from code - Enable non-programmers to modify plugin definitions - Use external tools to generate or modify plugin specifications - Version control plugin configurations separately from implementation - Support dynamic plugin configuration</p>"},{"location":"env/yaml_plugin_guide/#basic-yaml-structure","title":"Basic YAML Structure","text":""},{"location":"env/yaml_plugin_guide/#minimal-example","title":"Minimal Example","text":"<pre><code>namespace: simple_plugin\nversion: \"1.0.0\"\ndescription: \"A simple example plugin\"\ncomponents:\n  callables:\n    hello: \"owa.env.simple_plugin:say_hello\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#complete-example","title":"Complete Example","text":"<pre><code>namespace: advanced_plugin\nversion: \"2.1.0\"\ndescription: \"Advanced plugin with multiple component types\"\nauthor: \"Plugin Developer\"\ncomponents:\n  callables:\n    # Math operations\n    add: \"owa.env.advanced_plugin.math:add_numbers\"\n    multiply: \"owa.env.advanced_plugin.math:multiply_numbers\"\n\n    # File operations\n    file.read: \"owa.env.advanced_plugin.files:read_file\"\n    file.write: \"owa.env.advanced_plugin.files:write_file\"\n    file.exists: \"owa.env.advanced_plugin.files:file_exists\"\n\n    # System utilities\n    system.info: \"owa.env.advanced_plugin.system:get_system_info\"\n    process.list: \"owa.env.advanced_plugin.system:list_processes\"\n\n  listeners:\n    # Event monitoring\n    file.watcher: \"owa.env.advanced_plugin.monitoring:FileWatcher\"\n    keyboard.events: \"owa.env.advanced_plugin.input:KeyboardListener\"\n    network.monitor: \"owa.env.advanced_plugin.network:NetworkMonitor\"\n\n  runnables:\n    # Background services\n    log.processor: \"owa.env.advanced_plugin.services:LogProcessor\"\n    data.collector: \"owa.env.advanced_plugin.services:DataCollector\"\n    health.monitor: \"owa.env.advanced_plugin.services:HealthMonitor\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#field-reference","title":"Field Reference","text":""},{"location":"env/yaml_plugin_guide/#required-fields","title":"Required Fields","text":""},{"location":"env/yaml_plugin_guide/#namespace","title":"namespace","text":"<ul> <li>Type: String</li> <li>Rules: Letters, numbers, underscores, hyphens only</li> <li>Purpose: Unique identifier for your plugin</li> <li>Examples: <code>desktop</code>, <code>gst</code>, <code>my_company_tools</code></li> </ul> <pre><code>namespace: my_awesome_plugin\n</code></pre>"},{"location":"env/yaml_plugin_guide/#version","title":"version","text":"<ul> <li>Type: String (quoted recommended)</li> <li>Rules: Follow semantic versioning</li> <li>Purpose: Plugin version tracking</li> <li>Examples: <code>\"1.0.0\"</code>, <code>\"2.1.3\"</code>, <code>\"0.1.0-beta\"</code></li> </ul> <pre><code>version: \"1.2.3\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#description","title":"description","text":"<ul> <li>Type: String</li> <li>Purpose: Brief description of plugin functionality</li> <li>Best Practice: Keep under 100 characters</li> </ul> <pre><code>description: \"Desktop automation tools for mouse, keyboard, and window management\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#components","title":"components","text":"<ul> <li>Type: Dictionary</li> <li>Purpose: Defines all plugin components</li> <li>Required: At least one component type</li> </ul> <pre><code>components:\n  callables: {}    # At least one of these\n  listeners: {}    # must be present\n  runnables: {}    # (can be empty)\n</code></pre>"},{"location":"env/yaml_plugin_guide/#optional-fields","title":"Optional Fields","text":""},{"location":"env/yaml_plugin_guide/#author","title":"author","text":"<ul> <li>Type: String</li> <li>Purpose: Plugin author information</li> </ul> <pre><code>author: \"John Doe &lt;john@example.com&gt;\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#component-types","title":"Component Types","text":""},{"location":"env/yaml_plugin_guide/#callables","title":"Callables","text":"<p>Functions that users call directly to perform actions or get information.</p> <pre><code>components:\n  callables:\n    # Simple function\n    hello: \"owa.env.myplugin:say_hello\"\n\n    # Grouped functions using dots\n    math.add: \"owa.env.myplugin.math:add_numbers\"\n    math.subtract: \"owa.env.myplugin.math:subtract_numbers\"\n\n    # Complex nested grouping\n    file.text.read: \"owa.env.myplugin.files:read_text_file\"\n    file.binary.read: \"owa.env.myplugin.files:read_binary_file\"\n\n    # System operations\n    system.memory.usage: \"owa.env.myplugin.system:get_memory_usage\"\n    system.cpu.usage: \"owa.env.myplugin.system:get_cpu_usage\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#listeners","title":"Listeners","text":"<p>Event-driven components that respond to system events with user-provided callbacks.</p> <pre><code>components:\n  listeners:\n    # Input monitoring\n    keyboard: \"owa.env.myplugin.input:KeyboardListener\"\n    mouse: \"owa.env.myplugin.input:MouseListener\"\n\n    # File system monitoring\n    file.changes: \"owa.env.myplugin.fs:FileChangeListener\"\n    directory.watcher: \"owa.env.myplugin.fs:DirectoryWatcher\"\n\n    # Network monitoring\n    network.traffic: \"owa.env.myplugin.network:TrafficListener\"\n    connection.monitor: \"owa.env.myplugin.network:ConnectionMonitor\"\n\n    # System events\n    process.monitor: \"owa.env.myplugin.system:ProcessMonitor\"\n    window.events: \"owa.env.myplugin.ui:WindowEventListener\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#runnables","title":"Runnables","text":"<p>Background processes that can be started, stopped, and managed.</p> <pre><code>components:\n  runnables:\n    # Data processing\n    log.processor: \"owa.env.myplugin.processing:LogProcessor\"\n    data.analyzer: \"owa.env.myplugin.processing:DataAnalyzer\"\n\n    # Monitoring services\n    health.checker: \"owa.env.myplugin.monitoring:HealthChecker\"\n    performance.monitor: \"owa.env.myplugin.monitoring:PerformanceMonitor\"\n\n    # Background tasks\n    backup.service: \"owa.env.myplugin.services:BackupService\"\n    cleanup.task: \"owa.env.myplugin.services:CleanupTask\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#import-path-format","title":"Import Path Format","text":"<p>All component values must follow the format: <code>\"module.path:object_name\"</code></p>"},{"location":"env/yaml_plugin_guide/#valid-examples","title":"Valid Examples","text":"<pre><code>components:\n  callables:\n    # Standard format\n    function1: \"owa.env.myplugin.module:function_name\"\n\n    # Deep module path\n    function2: \"owa.env.myplugin.subpackage.module:function_name\"\n\n    # Class reference\n    processor: \"owa.env.myplugin.processing:DataProcessor\"\n\n    # Function in __init__.py\n    helper: \"owa.env.myplugin:helper_function\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#invalid-examples","title":"Invalid Examples","text":"<pre><code>components:\n  callables:\n    # Missing colon\n    bad1: \"owa.env.myplugin.module.function_name\"\n\n    # Wrong separator\n    bad2: \"owa.env.myplugin.module::function_name\"\n\n    # No module path\n    bad3: \"function_name\"\n\n    # Multiple colons\n    bad4: \"owa.env.myplugin:module:function\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#loading-yaml-in-python","title":"Loading YAML in Python","text":""},{"location":"env/yaml_plugin_guide/#method-1-direct-loading","title":"Method 1: Direct Loading","text":"<pre><code>from owa.core.plugin_spec import PluginSpec\nfrom pathlib import Path\n\n# Load from YAML file\nplugin_spec = PluginSpec.from_yaml(\"plugin.yaml\")\n\n# Or with Path object\nplugin_spec = PluginSpec.from_yaml(Path(__file__).parent / \"plugin.yaml\")\n</code></pre>"},{"location":"env/yaml_plugin_guide/#method-2-entry-point-with-yaml","title":"Method 2: Entry Point with YAML","text":"<pre><code># In your __init__.py\nfrom owa.core.plugin_spec import PluginSpec\nfrom pathlib import Path\n\n# Load the YAML specification\nplugin_spec = PluginSpec.from_yaml(Path(__file__).parent / \"plugin.yaml\")\n</code></pre> <p>Then in <code>pyproject.toml</code>: <pre><code>[project.entry-points.\"owa.env.plugins\"]\nmyplugin = \"owa.env.myplugin:plugin_spec\"\n</code></pre></p>"},{"location":"env/yaml_plugin_guide/#real-world-examples","title":"Real-World Examples","text":""},{"location":"env/yaml_plugin_guide/#example-1-development-tools-plugin","title":"Example 1: Development Tools Plugin","text":"<pre><code>namespace: devtools\nversion: \"1.0.0\"\ndescription: \"Development utilities and automation tools\"\nauthor: \"DevTeam\"\ncomponents:\n  callables:\n    # Git operations\n    git.status: \"owa.env.devtools.git:get_status\"\n    git.commit: \"owa.env.devtools.git:create_commit\"\n    git.push: \"owa.env.devtools.git:push_changes\"\n\n    # Code analysis\n    code.lint: \"owa.env.devtools.analysis:lint_code\"\n    code.format: \"owa.env.devtools.analysis:format_code\"\n    code.test: \"owa.env.devtools.analysis:run_tests\"\n\n    # Build operations\n    build.compile: \"owa.env.devtools.build:compile_project\"\n    build.package: \"owa.env.devtools.build:package_project\"\n\n  listeners:\n    # File monitoring\n    file.changes: \"owa.env.devtools.monitoring:FileChangeListener\"\n    test.runner: \"owa.env.devtools.testing:TestRunnerListener\"\n\n  runnables:\n    # Background services\n    auto.formatter: \"owa.env.devtools.services:AutoFormatter\"\n    continuous.tester: \"owa.env.devtools.services:ContinuousTester\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#example-2-system-monitoring-plugin","title":"Example 2: System Monitoring Plugin","text":"<pre><code>namespace: sysmon\nversion: \"2.0.1\"\ndescription: \"Comprehensive system monitoring and alerting\"\nauthor: \"SysAdmin Team &lt;sysadmin@company.com&gt;\"\ncomponents:\n  callables:\n    # Resource monitoring\n    cpu.usage: \"owa.env.sysmon.resources:get_cpu_usage\"\n    memory.usage: \"owa.env.sysmon.resources:get_memory_usage\"\n    disk.usage: \"owa.env.sysmon.resources:get_disk_usage\"\n    network.stats: \"owa.env.sysmon.resources:get_network_stats\"\n\n    # Process management\n    process.list: \"owa.env.sysmon.processes:list_processes\"\n    process.kill: \"owa.env.sysmon.processes:kill_process\"\n    process.info: \"owa.env.sysmon.processes:get_process_info\"\n\n    # System information\n    system.info: \"owa.env.sysmon.system:get_system_info\"\n    uptime: \"owa.env.sysmon.system:get_uptime\"\n\n  listeners:\n    # Resource monitoring\n    cpu.monitor: \"owa.env.sysmon.monitoring:CpuMonitor\"\n    memory.monitor: \"owa.env.sysmon.monitoring:MemoryMonitor\"\n    disk.monitor: \"owa.env.sysmon.monitoring:DiskMonitor\"\n\n    # Process monitoring\n    process.monitor: \"owa.env.sysmon.monitoring:ProcessMonitor\"\n    service.monitor: \"owa.env.sysmon.monitoring:ServiceMonitor\"\n\n  runnables:\n    # Alert services\n    alert.manager: \"owa.env.sysmon.alerts:AlertManager\"\n    log.collector: \"owa.env.sysmon.logging:LogCollector\"\n    metric.collector: \"owa.env.sysmon.metrics:MetricCollector\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#validation-and-testing","title":"Validation and Testing","text":""},{"location":"env/yaml_plugin_guide/#using-the-cli-tool","title":"Using the CLI Tool","text":"<pre><code># Validate YAML file\nowl env validate plugin.yaml\n\n# Validate with detailed output\nowl env validate plugin.yaml --verbose\n\n# Skip import validation for faster checking\nowl env validate plugin.yaml --no-check-imports\n\n# Validate and show component details\nowl env validate plugin.yaml --check-imports\n</code></pre>"},{"location":"env/yaml_plugin_guide/#common-yaml-errors","title":"Common YAML Errors","text":"<ol> <li> <p>Syntax Errors <pre><code># Wrong: Missing quotes around version\nversion: 1.0.0\n\n# Correct: Version should be quoted\nversion: \"1.0.0\"\n</code></pre></p> </li> <li> <p>Indentation Errors <pre><code># Wrong: Inconsistent indentation\ncomponents:\n  callables:\n  hello: \"module:function\"\n\n# Correct: Consistent indentation\ncomponents:\n  callables:\n    hello: \"module:function\"\n</code></pre></p> </li> <li> <p>Invalid Import Paths <pre><code># Wrong: Missing colon\ncomponents:\n  callables:\n    hello: \"owa.env.myplugin.say_hello\"\n\n# Correct: Include colon separator\ncomponents:\n  callables:\n    hello: \"owa.env.myplugin:say_hello\"\n</code></pre></p> </li> </ol>"},{"location":"env/yaml_plugin_guide/#best-practices","title":"Best Practices","text":""},{"location":"env/yaml_plugin_guide/#1-file-organization","title":"1. File Organization","text":"<pre><code>owa-env-myplugin/\n\u251c\u2500\u2500 owa/env/myplugin/\n\u2502   \u251c\u2500\u2500 __init__.py          # Load plugin_spec from YAML\n\u2502   \u251c\u2500\u2500 plugin.yaml          # Plugin specification\n\u2502   \u251c\u2500\u2500 core.py             # Core functionality\n\u2502   \u2514\u2500\u2500 utils.py            # Utility functions\n\u251c\u2500\u2500 pyproject.toml          # Entry point declaration\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"env/yaml_plugin_guide/#2-yaml-structure","title":"2. YAML Structure","text":"<pre><code># Use comments to organize sections\nnamespace: myplugin\nversion: \"1.0.0\"\ndescription: \"Plugin description\"\nauthor: \"Author Name\"\n\ncomponents:\n  # Core functionality\n  callables:\n    # Group related functions\n    math.add: \"owa.env.myplugin.math:add\"\n    math.subtract: \"owa.env.myplugin.math:subtract\"\n\n    # File operations\n    file.read: \"owa.env.myplugin.files:read\"\n    file.write: \"owa.env.myplugin.files:write\"\n\n  # Event handling\n  listeners:\n    events: \"owa.env.myplugin.events:EventListener\"\n\n  # Background services  \n  runnables:\n    processor: \"owa.env.myplugin.services:Processor\"\n</code></pre>"},{"location":"env/yaml_plugin_guide/#3-version-control","title":"3. Version Control","text":"<ul> <li>Keep YAML files in version control</li> <li>Use meaningful commit messages for specification changes</li> <li>Tag releases with version numbers matching the YAML version</li> </ul>"},{"location":"env/yaml_plugin_guide/#4-documentation","title":"4. Documentation","text":"<ul> <li>Document each component in comments</li> <li>Maintain a changelog for specification changes</li> <li>Include examples in your README</li> </ul>"},{"location":"env/yaml_plugin_guide/#converting-between-formats","title":"Converting Between Formats","text":""},{"location":"env/yaml_plugin_guide/#python-to-yaml","title":"Python to YAML","text":"<pre><code>from owa.core.plugin_spec import PluginSpec\n\n# Existing Python specification\nplugin_spec = PluginSpec(\n    namespace=\"myplugin\",\n    version=\"1.0.0\",\n    description=\"My plugin\",\n    components={\"callables\": {\"hello\": \"owa.env.myplugin:say_hello\"}}\n)\n\n# Save to YAML\nplugin_spec.to_yaml(\"plugin.yaml\")\n</code></pre>"},{"location":"env/yaml_plugin_guide/#yaml-to-python","title":"YAML to Python","text":"<pre><code>from owa.core.plugin_spec import PluginSpec\n\n# Load from YAML\nplugin_spec = PluginSpec.from_yaml(\"plugin.yaml\")\n\n# Now you can use it as a Python object\nprint(plugin_spec.namespace)\nprint(plugin_spec.components)\n</code></pre>"},{"location":"env/yaml_plugin_guide/#example-files","title":"Example Files","text":"<ul> <li>Complete YAML Example - Comprehensive example demonstrating all features</li> </ul>"},{"location":"env/yaml_plugin_guide/#next-steps","title":"Next Steps","text":"<ul> <li>See Plugin Specification Guide for Python format details</li> <li>Check Custom Plugins Guide for complete development workflow</li> <li>Use <code>owl env validate</code> to test your YAML specifications</li> <li>Explore CLI Tools for development assistance</li> </ul>"},{"location":"env/plugins/desktop/","title":"Desktop Environment","text":"<p>The Desktop Environment module (owa.env.desktop) extends Open World Agents by providing functionalities that interact with the operating system's desktop. It focuses on user interface interactions and input simulation.</p>"},{"location":"env/plugins/desktop/#installation-usage","title":"Installation &amp; Usage","text":"<p>The Desktop Environment module is automatically available when you install <code>owa-env-desktop</code>. No manual activation needed!</p> <pre><code># Components automatically available after installation\nfrom owa.core.registry import CALLABLES, LISTENERS\n</code></pre> <p>You can access desktop functionalities via the global registries using the unified <code>namespace/name</code> pattern:</p> <pre><code>print(CALLABLES[\"desktop/screen.capture\"]().shape)  # Capture and display screen dimensions\nprint(CALLABLES[\"desktop/window.get_active_window\"]())  # Retrieve the active window\n</code></pre> <p>This module is essential for applications that require integration with desktop UI elements and user input simulation.</p>"},{"location":"env/plugins/desktop/#available-components","title":"Available Components","text":""},{"location":"env/plugins/desktop/#mouse-functions","title":"Mouse Functions","text":"<ul> <li><code>desktop/mouse.click</code> - Simulate a mouse click</li> <li><code>desktop/mouse.move</code> - Move the mouse cursor to specified coordinates</li> <li><code>desktop/mouse.position</code> - Get the current mouse position</li> <li><code>desktop/mouse.press</code> - Simulate pressing a mouse button</li> <li><code>desktop/mouse.release</code> - Simulate releasing a mouse button</li> <li><code>desktop/mouse.scroll</code> - Simulate mouse wheel scrolling</li> </ul>"},{"location":"env/plugins/desktop/#keyboard-functions","title":"Keyboard Functions","text":"<ul> <li><code>desktop/keyboard.press</code> - Simulate pressing a keyboard key</li> <li><code>desktop/keyboard.release</code> - Simulate releasing a keyboard key</li> <li><code>desktop/keyboard.type</code> - Type a string of characters</li> <li><code>desktop/keyboard.press_repeat</code> - Simulate repeat-press when pressing key long time</li> </ul> <p>For simulating key auto-repeat behavior, use the dedicated function:</p> <pre><code>CALLABLES[\"desktop/keyboard.press_repeat\"](key, press_time: float, initial_delay: float = 0.5, repeat_delay: float = 0.033)\n</code></pre> <p>This function handles the complexity of simulating hardware auto-repeat, with configurable initial delay before repeating starts and the interval between repeated keypresses.</p>"},{"location":"env/plugins/desktop/#screen-functions","title":"Screen Functions","text":"<ul> <li><code>desktop/screen.capture</code> - Capture the current screen (Note: This module utilizes <code>bettercam</code>. For better performance and extensibility, use <code>owa-env-gst</code>'s functions instead)</li> </ul>"},{"location":"env/plugins/desktop/#window-functions","title":"Window Functions","text":"<ul> <li><code>desktop/window.get_active_window</code> - Get the currently active window</li> <li><code>desktop/window.get_window_by_title</code> - Find a window by its title</li> <li><code>desktop/window.when_active</code> - Run a function when a specific window becomes active</li> </ul>"},{"location":"env/plugins/desktop/#listeners","title":"Listeners","text":"<ul> <li><code>desktop/keyboard</code> - Listen for keyboard events</li> <li><code>desktop/mouse</code> - Standard mouse event listener (movement, clicks, scroll)</li> <li><code>desktop/raw_mouse</code> - Raw mouse input listener for unfiltered mouse data</li> <li><code>desktop/mouse_state</code> - Periodic mouse state reporting</li> </ul>"},{"location":"env/plugins/desktop/#raw-mouse-input","title":"Raw Mouse Input","text":"<p>Raw mouse input capture is available to separate mouse position movement from game's center-locking and from user interactions. This enables access to unfiltered mouse movement data directly from the hardware, bypassing Windows pointer acceleration and game cursor manipulation.</p>"},{"location":"env/plugins/desktop/#implementation-details","title":"Implementation Details","text":"<p>To see detailed implementation, skim over owa-env-desktop. API documentation is currently being developed.</p>"},{"location":"env/plugins/desktop/#library-selection-rationale","title":"Library Selection Rationale","text":"<p>This module utilizes <code>pynput</code> for input simulation after evaluating several alternatives:</p> <ul> <li> <p>Why not PyAutoGUI? Though widely used, PyAutoGUI uses deprecated Windows APIs (<code>keybd_event/mouse_event</code>) rather than the modern <code>SendInput</code> method. These older APIs fail in DirectX applications and games. Additionally, PyAutoGUI has seen limited maintenance (last significant update was over 2 years ago).</p> </li> <li> <p>Alternative Solutions: Libraries like pydirectinput and pydirectinput_rgx address the Windows API issue by using <code>SendInput</code>, but they lack input capturing capabilities which are essential for our use case.</p> </li> <li> <p>Other Options: We also evaluated keyboard and mouse libraries but found them inadequately maintained with several unresolved bugs that could impact reliability.</p> </li> </ul>"},{"location":"env/plugins/desktop/#auto-generated-documentation","title":"Auto-generated documentation","text":""},{"location":"env/plugins/desktop/#desktop","title":"desktop plugin 0.3.9.post1","text":"<p>Desktop environment plugin with mouse, keyboard, and window control</p> <p>Author: OWA Development Team</p>"},{"location":"env/plugins/desktop/#desktop-callables","title":"Callables","text":"<p>Usage: To use callable components, import <code>CALLABLES</code> from <code>owa.core</code> and access them by their component name:</p> <pre><code>from owa.core import CALLABLES\n\n# Access a callable component (replace 'component_name' with actual name)\ncallable_func = CALLABLES[\"desktop/component_name\"]\nresult = callable_func(your_arguments)</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.screen.callables.capture_screen","title":"screen.capture","text":"<pre><code>capture_screen() -&gt; ndarray\n</code></pre> <p>Capture the current screen as a numpy array.</p> <p>Returns:</p> Type Description <code>ndarray</code> <p>numpy.ndarray: Screen capture as BGR image array with shape (height, width, 3).</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; screen = capture_screen()\n&gt;&gt;&gt; print(f\"Screen dimensions: {screen.shape}\")  # e.g., (1080, 1920, 3)\n&gt;&gt;&gt; # Save to file: cv2.imwrite('screenshot.png', screen)\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/screen/callables.py</code> <pre><code>def capture_screen() -&gt; np.ndarray:\n    \"\"\"\n    Capture the current screen as a numpy array.\n\n    Returns:\n        numpy.ndarray: Screen capture as BGR image array with shape (height, width, 3).\n\n    Examples:\n        &gt;&gt;&gt; screen = capture_screen()\n        &gt;&gt;&gt; print(f\"Screen dimensions: {screen.shape}\")  # e.g., (1080, 1920, 3)\n        &gt;&gt;&gt; # Save to file: cv2.imwrite('screenshot.png', screen)\n    \"\"\"\n    import bettercam\n\n    camera = bettercam.create()\n    return camera.grab()\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.click","title":"mouse.click","text":"<pre><code>click(button: str | Button, count: int) -&gt; None\n</code></pre> <p>Simulate a mouse click.</p> <p>Parameters:</p> Name Type Description Default <code>button</code> <code>str | Button</code> <p>Mouse button to click. Can be \"left\", \"middle\", \"right\" or a Button enum.</p> required <code>count</code> <code>int</code> <p>Number of clicks to perform.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; click(\"left\", 1)  # Single left click\n&gt;&gt;&gt; click(\"right\", 2)  # Double right click\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def click(button: str | Button, count: int) -&gt; None:\n    \"\"\"\n    Simulate a mouse click.\n\n    Args:\n        button: Mouse button to click. Can be \"left\", \"middle\", \"right\" or a Button enum.\n        count: Number of clicks to perform.\n\n    Examples:\n        &gt;&gt;&gt; click(\"left\", 1)  # Single left click\n        &gt;&gt;&gt; click(\"right\", 2)  # Double right click\n    \"\"\"\n    if button in (\"left\", \"middle\", \"right\"):\n        button = getattr(Button, button)\n    return mouse_controller.click(button, count)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.mouse_move","title":"mouse.move","text":"<pre><code>mouse_move(x: int, y: int) -&gt; None\n</code></pre> <p>Move the mouse cursor to specified coordinates.</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>int</code> <p>X coordinate to move to.</p> required <code>y</code> <code>int</code> <p>Y coordinate to move to.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; mouse_move(100, 200)  # Move mouse to position (100, 200)\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def mouse_move(x: int, y: int) -&gt; None:\n    \"\"\"\n    Move the mouse cursor to specified coordinates.\n\n    Args:\n        x: X coordinate to move to.\n        y: Y coordinate to move to.\n\n    Examples:\n        &gt;&gt;&gt; mouse_move(100, 200)  # Move mouse to position (100, 200)\n    \"\"\"\n    return mouse_controller.move(x, y)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.mouse_position","title":"mouse.position","text":"<pre><code>mouse_position() -&gt; tuple[int, int]\n</code></pre> <p>Get the current mouse cursor position.</p> <p>Returns:</p> Type Description <code>tuple[int, int]</code> <p>Tuple of (x, y) coordinates of the mouse cursor.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; x, y = mouse_position()\n&gt;&gt;&gt; print(f\"Mouse is at ({x}, {y})\")\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def mouse_position() -&gt; tuple[int, int]:\n    \"\"\"\n    Get the current mouse cursor position.\n\n    Returns:\n        Tuple of (x, y) coordinates of the mouse cursor.\n\n    Examples:\n        &gt;&gt;&gt; x, y = mouse_position()\n        &gt;&gt;&gt; print(f\"Mouse is at ({x}, {y})\")\n    \"\"\"\n    return mouse_controller.position\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.mouse_press","title":"mouse.press","text":"<pre><code>mouse_press(button: str | Button) -&gt; None\n</code></pre> <p>Press and hold a mouse button.</p> <p>Parameters:</p> Name Type Description Default <code>button</code> <code>str | Button</code> <p>Mouse button to press. Can be \"left\", \"middle\", \"right\" or a Button enum.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; mouse_press(\"left\")  # Press and hold left mouse button\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def mouse_press(button: str | Button) -&gt; None:\n    \"\"\"\n    Press and hold a mouse button.\n\n    Args:\n        button: Mouse button to press. Can be \"left\", \"middle\", \"right\" or a Button enum.\n\n    Examples:\n        &gt;&gt;&gt; mouse_press(\"left\")  # Press and hold left mouse button\n    \"\"\"\n    return mouse_controller.press(button)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.mouse_release","title":"mouse.release","text":"<pre><code>mouse_release(button: str | Button) -&gt; None\n</code></pre> <p>Release a previously pressed mouse button.</p> <p>Parameters:</p> Name Type Description Default <code>button</code> <code>str | Button</code> <p>Mouse button to release. Can be \"left\", \"middle\", \"right\" or a Button enum.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; mouse_release(\"left\")  # Release left mouse button\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def mouse_release(button: str | Button) -&gt; None:\n    \"\"\"\n    Release a previously pressed mouse button.\n\n    Args:\n        button: Mouse button to release. Can be \"left\", \"middle\", \"right\" or a Button enum.\n\n    Examples:\n        &gt;&gt;&gt; mouse_release(\"left\")  # Release left mouse button\n    \"\"\"\n    return mouse_controller.release(button)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.mouse_scroll","title":"mouse.scroll","text":"<pre><code>mouse_scroll(x: int, y: int, dx: int, dy: int) -&gt; None\n</code></pre> <p>Simulate mouse wheel scrolling.</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>int</code> <p>X coordinate where scrolling occurs.</p> required <code>y</code> <code>int</code> <p>Y coordinate where scrolling occurs.</p> required <code>dx</code> <code>int</code> <p>Horizontal scroll amount.</p> required <code>dy</code> <code>int</code> <p>Vertical scroll amount.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; mouse_scroll(100, 100, 0, 3)  # Scroll up 3 units at position (100, 100)\n&gt;&gt;&gt; mouse_scroll(100, 100, 0, -3)  # Scroll down 3 units\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def mouse_scroll(x: int, y: int, dx: int, dy: int) -&gt; None:\n    \"\"\"\n    Simulate mouse wheel scrolling.\n\n    Args:\n        x: X coordinate where scrolling occurs.\n        y: Y coordinate where scrolling occurs.\n        dx: Horizontal scroll amount.\n        dy: Vertical scroll amount.\n\n    Examples:\n        &gt;&gt;&gt; mouse_scroll(100, 100, 0, 3)  # Scroll up 3 units at position (100, 100)\n        &gt;&gt;&gt; mouse_scroll(100, 100, 0, -3)  # Scroll down 3 units\n    \"\"\"\n    return mouse_controller.scroll(x, y, dx, dy)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.get_mouse_state","title":"mouse.get_state","text":"<pre><code>get_mouse_state() -&gt; MouseState\n</code></pre> <p>Get the current mouse state including position and pressed buttons.</p> <p>Returns:</p> Type Description <code>MouseState</code> <p>MouseState object containing current mouse position and pressed buttons.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; state = get_mouse_state()\n&gt;&gt;&gt; print(f\"Mouse at ({state.x}, {state.y}), buttons: {state.buttons}\")\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def get_mouse_state() -&gt; MouseState:\n    \"\"\"\n    Get the current mouse state including position and pressed buttons.\n\n    Returns:\n        MouseState object containing current mouse position and pressed buttons.\n\n    Examples:\n        &gt;&gt;&gt; state = get_mouse_state()\n        &gt;&gt;&gt; print(f\"Mouse at ({state.x}, {state.y}), buttons: {state.buttons}\")\n    \"\"\"\n    position = mouse_controller.position\n    if position is None:\n        position = (-1, -1)  # Fallback if position cannot be retrieved\n    mouse_buttons = set()\n    buttons = get_vk_state()\n    for button, vk in {\"left\": 1, \"right\": 2, \"middle\": 4}.items():\n        if vk in buttons:\n            mouse_buttons.add(button)\n    return MouseState(x=position[0], y=position[1], buttons=mouse_buttons)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.press","title":"keyboard.press","text":"<pre><code>press(key: str | int) -&gt; None\n</code></pre> <p>Press and hold a keyboard key.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str | int</code> <p>Key to press. Can be a string (e.g., 'a', 'enter') or virtual key code.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; press('a')  # Press and hold the 'a' key\n&gt;&gt;&gt; press(65)  # Press and hold the 'a' key using virtual key code\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def press(key: str | int) -&gt; None:\n    \"\"\"\n    Press and hold a keyboard key.\n\n    Args:\n        key: Key to press. Can be a string (e.g., 'a', 'enter') or virtual key code.\n\n    Examples:\n        &gt;&gt;&gt; press('a')  # Press and hold the 'a' key\n        &gt;&gt;&gt; press(65)  # Press and hold the 'a' key using virtual key code\n    \"\"\"\n    key = vk_to_keycode(key) if isinstance(key, int) else key\n    return keyboard_controller.press(key)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.release","title":"keyboard.release","text":"<pre><code>release(key: str | int) -&gt; None\n</code></pre> <p>Release a previously pressed keyboard key.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str | int</code> <p>Key to release. Can be a string (e.g., 'a', 'enter') or virtual key code.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; release('a')  # Release the 'a' key\n&gt;&gt;&gt; release(65)  # Release the 'a' key using virtual key code\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def release(key: str | int) -&gt; None:\n    \"\"\"\n    Release a previously pressed keyboard key.\n\n    Args:\n        key: Key to release. Can be a string (e.g., 'a', 'enter') or virtual key code.\n\n    Examples:\n        &gt;&gt;&gt; release('a')  # Release the 'a' key\n        &gt;&gt;&gt; release(65)  # Release the 'a' key using virtual key code\n    \"\"\"\n    key = vk_to_keycode(key) if isinstance(key, int) else key\n    return keyboard_controller.release(key)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.keyboard_type","title":"keyboard.type","text":"<pre><code>keyboard_type(text: str) -&gt; None\n</code></pre> <p>Type a string of characters.</p> <p>Parameters:</p> Name Type Description Default <code>text</code> <code>str</code> <p>Text string to type.</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; keyboard_type(\"Hello, World!\")  # Types the text\n&gt;&gt;&gt; keyboard_type(\"user@example.com\")  # Types an email address\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def keyboard_type(text: str) -&gt; None:\n    \"\"\"\n    Type a string of characters.\n\n    Args:\n        text: Text string to type.\n\n    Examples:\n        &gt;&gt;&gt; keyboard_type(\"Hello, World!\")  # Types the text\n        &gt;&gt;&gt; keyboard_type(\"user@example.com\")  # Types an email address\n    \"\"\"\n    return keyboard_controller.type(text)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.get_keyboard_state","title":"keyboard.get_state","text":"<pre><code>get_keyboard_state() -&gt; KeyboardState\n</code></pre> <p>Get the current keyboard state including pressed keys.</p> <p>Returns:</p> Type Description <code>KeyboardState</code> <p>KeyboardState object containing currently pressed keys.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; state = get_keyboard_state()\n&gt;&gt;&gt; print(f\"Pressed keys: {state.buttons}\")\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def get_keyboard_state() -&gt; KeyboardState:\n    \"\"\"\n    Get the current keyboard state including pressed keys.\n\n    Returns:\n        KeyboardState object containing currently pressed keys.\n\n    Examples:\n        &gt;&gt;&gt; state = get_keyboard_state()\n        &gt;&gt;&gt; print(f\"Pressed keys: {state.buttons}\")\n    \"\"\"\n    return KeyboardState(buttons=get_vk_state())\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.press_repeat_key","title":"keyboard.press_repeat","text":"<pre><code>press_repeat_key(\n    key: str | int,\n    press_time: float,\n    initial_delay: float = 0.5,\n    repeat_delay: float = 0.033,\n) -&gt; None\n</code></pre> <p>Simulate the behavior of holding a key down with auto-repeat.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str | int</code> <p>Key to press repeatedly. Can be a string or virtual key code.</p> required <code>press_time</code> <code>float</code> <p>Total time to hold the key down in seconds.</p> required <code>initial_delay</code> <code>float</code> <p>Initial delay before auto-repeat starts (default: 0.5s).</p> <code>0.5</code> <code>repeat_delay</code> <code>float</code> <p>Delay between repeated key presses (default: 0.033s).</p> <code>0.033</code> <p>Examples:</p> <pre><code>&gt;&gt;&gt; press_repeat_key('a', 2.0)  # Hold 'a' key for 2 seconds with auto-repeat\n&gt;&gt;&gt; press_repeat_key('space', 1.5, 0.3, 0.05)  # Custom timing for space key\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def press_repeat_key(\n    key: str | int, press_time: float, initial_delay: float = 0.5, repeat_delay: float = 0.033\n) -&gt; None:\n    \"\"\"\n    Simulate the behavior of holding a key down with auto-repeat.\n\n    Args:\n        key: Key to press repeatedly. Can be a string or virtual key code.\n        press_time: Total time to hold the key down in seconds.\n        initial_delay: Initial delay before auto-repeat starts (default: 0.5s).\n        repeat_delay: Delay between repeated key presses (default: 0.033s).\n\n    Examples:\n        &gt;&gt;&gt; press_repeat_key('a', 2.0)  # Hold 'a' key for 2 seconds with auto-repeat\n        &gt;&gt;&gt; press_repeat_key('space', 1.5, 0.3, 0.05)  # Custom timing for space key\n    \"\"\"\n    key = vk_to_keycode(key) if isinstance(key, int) else key\n    repeat_time = max(0, (press_time - initial_delay) // repeat_delay - 1)\n\n    keyboard_controller.press(key)\n    time.sleep(initial_delay)\n    for _ in range(int(repeat_time)):\n        keyboard_controller.press(key)\n        time.sleep(repeat_delay)\n    keyboard_controller.release(key)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.callables.release_all_keys","title":"keyboard.release_all_keys","text":"<pre><code>release_all_keys() -&gt; None\n</code></pre> <p>Release all currently pressed keys on the keyboard.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; release_all_keys()  # Release all pressed keys\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/callables.py</code> <pre><code>def release_all_keys() -&gt; None:\n    \"\"\"\n    Release all currently pressed keys on the keyboard.\n\n    Examples:\n        &gt;&gt;&gt; release_all_keys()  # Release all pressed keys\n    \"\"\"\n    keyboard_state: KeyboardState = get_keyboard_state()\n    for key in keyboard_state.buttons:\n        release(key)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.window.callables.get_active_window","title":"window.get_active_window","text":"<pre><code>get_active_window() -&gt; WindowInfo | None\n</code></pre> <p>Get information about the currently active window.</p> <p>Returns:</p> Type Description <code>WindowInfo | None</code> <p>WindowInfo object containing title, position, and handle of the active window,</p> <code>WindowInfo | None</code> <p>or None if no active window is found.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; window = get_active_window()\n&gt;&gt;&gt; if window:\n...     print(f\"Active window: {window.title}\")\n...     print(f\"Position: {window.rect}\")\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/window/callables.py</code> <pre><code>def get_active_window() -&gt; WindowInfo | None:\n    \"\"\"\n    Get information about the currently active window.\n\n    Returns:\n        WindowInfo object containing title, position, and handle of the active window,\n        or None if no active window is found.\n\n    Examples:\n        &gt;&gt;&gt; window = get_active_window()\n        &gt;&gt;&gt; if window:\n        ...     print(f\"Active window: {window.title}\")\n        ...     print(f\"Position: {window.rect}\")\n    \"\"\"\n    if _IS_DARWIN:\n        from Quartz import (\n            CGWindowListCopyWindowInfo,\n            kCGNullWindowID,\n            kCGWindowListOptionOnScreenOnly,\n        )\n\n        windows = CGWindowListCopyWindowInfo(kCGWindowListOptionOnScreenOnly, kCGNullWindowID)\n        for window in windows:\n            if window.get(\"kCGWindowLayer\", 0) == 0:  # Frontmost window\n                bounds = window.get(\"kCGWindowBounds\")\n                title = window.get(\"kCGWindowName\", \"\")\n                rect = (\n                    int(bounds[\"X\"]),\n                    int(bounds[\"Y\"]),\n                    int(bounds[\"X\"] + bounds[\"Width\"]),\n                    int(bounds[\"Y\"] + bounds[\"Height\"]),\n                )\n                hWnd = window.get(\"kCGWindowNumber\", 0)\n                return WindowInfo(title=title, rect=rect, hWnd=hWnd)\n        return None\n\n    elif _IS_WINDOWS:\n        import pygetwindow as gw\n\n        active_window = gw.getActiveWindow()\n        if active_window is not None:\n            rect = active_window._getWindowRect()\n            title = active_window.title\n            rect_coords = (rect.left, rect.top, rect.right, rect.bottom)\n            hWnd = active_window._hWnd\n            return WindowInfo(title=title, rect=rect_coords, hWnd=hWnd)\n        return WindowInfo(title=\"\", rect=[0, 0, 0, 0], hWnd=-1)\n    else:\n        raise NotImplementedError(f\"Platform {_PLATFORM} is not supported yet\")\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.window.callables.get_window_by_title","title":"window.get_window_by_title","text":"<pre><code>get_window_by_title(\n    window_title_substring: str,\n) -&gt; WindowInfo\n</code></pre> <p>Find a window by searching for a substring in its title.</p> <p>Parameters:</p> Name Type Description Default <code>window_title_substring</code> <code>str</code> <p>Substring to search for in window titles.</p> required <p>Returns:</p> Type Description <code>WindowInfo</code> <p>WindowInfo object for the first matching window.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If no window with matching title is found.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; window = get_window_by_title(\"notepad\")\n&gt;&gt;&gt; print(f\"Found window: {window.title}\")\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/window/callables.py</code> <pre><code>def get_window_by_title(window_title_substring: str) -&gt; WindowInfo:\n    \"\"\"\n    Find a window by searching for a substring in its title.\n\n    Args:\n        window_title_substring: Substring to search for in window titles.\n\n    Returns:\n        WindowInfo object for the first matching window.\n\n    Raises:\n        ValueError: If no window with matching title is found.\n\n    Examples:\n        &gt;&gt;&gt; window = get_window_by_title(\"notepad\")\n        &gt;&gt;&gt; print(f\"Found window: {window.title}\")\n    \"\"\"\n    if _IS_WINDOWS:\n        import pygetwindow as gw\n\n        windows = gw.getWindowsWithTitle(window_title_substring)\n        if not windows:\n            raise ValueError(f\"No window with title containing '{window_title_substring}' found.\")\n\n        # Temporal workaround to deal with `cmd`'s behavior: it setup own title as the command it running.\n        # e.g. `owl window find abcd` will always find `cmd` window itself running command.\n        if \"Conda\" in windows[0].title:\n            windows.pop(0)\n\n        window = windows[0]  # NOTE: only return the first window matching the title\n        rect = window._getWindowRect()\n        return WindowInfo(\n            title=window.title,\n            rect=(rect.left, rect.top, rect.right, rect.bottom),\n            hWnd=window._hWnd,\n        )\n\n    elif _IS_DARWIN:\n        from Quartz import CGWindowListCopyWindowInfo, kCGNullWindowID, kCGWindowLayer, kCGWindowListOptionOnScreenOnly\n\n        windows = CGWindowListCopyWindowInfo(kCGWindowListOptionOnScreenOnly, kCGNullWindowID)\n        for window in windows:\n            # Skip windows that are not on normal level (like menu bars, etc)\n            if window.get(kCGWindowLayer, 0) != 0:\n                continue\n\n            # Get window name from either kCGWindowName or kCGWindowOwnerName\n            title = window.get(\"kCGWindowName\", \"\")\n            if not title:\n                title = window.get(\"kCGWindowOwnerName\", \"\")\n\n            if title and window_title_substring.lower() in title.lower():\n                bounds = window.get(\"kCGWindowBounds\")\n                if bounds:\n                    return WindowInfo(\n                        title=title,\n                        rect=(\n                            int(bounds[\"X\"]),\n                            int(bounds[\"Y\"]),\n                            int(bounds[\"X\"] + bounds[\"Width\"]),\n                            int(bounds[\"Y\"] + bounds[\"Height\"]),\n                        ),\n                        hWnd=window.get(\"kCGWindowNumber\", 0),\n                    )\n\n        raise ValueError(f\"No window with title containing '{window_title_substring}' found.\")\n    else:\n        # Linux or other OS (not implemented yet)\n        raise NotImplementedError(\"Not implemented for Linux or other OS.\")\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.window.callables.get_pid_by_title","title":"window.get_pid_by_title","text":"<pre><code>get_pid_by_title(window_title_substring: str) -&gt; int\n</code></pre> <p>Get the process ID (PID) of a window by its title.</p> <p>Parameters:</p> Name Type Description Default <code>window_title_substring</code> <code>str</code> <p>Substring to search for in window titles.</p> required <p>Returns:</p> Type Description <code>int</code> <p>Process ID of the window.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; pid = get_pid_by_title(\"notepad\")\n&gt;&gt;&gt; print(f\"Notepad PID: {pid}\")\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/window/callables.py</code> <pre><code>def get_pid_by_title(window_title_substring: str) -&gt; int:\n    \"\"\"\n    Get the process ID (PID) of a window by its title.\n\n    Args:\n        window_title_substring: Substring to search for in window titles.\n\n    Returns:\n        Process ID of the window.\n\n    Examples:\n        &gt;&gt;&gt; pid = get_pid_by_title(\"notepad\")\n        &gt;&gt;&gt; print(f\"Notepad PID: {pid}\")\n    \"\"\"\n    window = get_window_by_title(window_title_substring)\n    if _IS_WINDOWS:\n        import win32process\n\n        # win32process.GetWindowThreadProcessId returns (tid, pid)\n        _, pid = win32process.GetWindowThreadProcessId(window.hWnd)\n        return pid\n    else:\n        # Implement if needed for other OS\n        raise NotImplementedError(f\"Getting PID by title not implemented for {_PLATFORM}\")\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.window.callables.when_active","title":"window.when_active","text":"<pre><code>when_active(window_title_substring: str) -&gt; Callable\n</code></pre> <p>Decorator to run a function only when a specific window is active.</p> <p>Parameters:</p> Name Type Description Default <code>window_title_substring</code> <code>str</code> <p>Substring to search for in window titles.</p> required <p>Returns:</p> Type Description <code>Callable</code> <p>Decorator function that conditionally executes the wrapped function.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; @when_active(\"notepad\")\n... def do_something():\n...     print(\"Notepad is active!\")\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/window/callables.py</code> <pre><code>def when_active(window_title_substring: str) -&gt; Callable:\n    \"\"\"\n    Decorator to run a function only when a specific window is active.\n\n    Args:\n        window_title_substring: Substring to search for in window titles.\n\n    Returns:\n        Decorator function that conditionally executes the wrapped function.\n\n    Examples:\n        &gt;&gt;&gt; @when_active(\"notepad\")\n        ... def do_something():\n        ...     print(\"Notepad is active!\")\n    \"\"\"\n\n    def decorator(func):\n        def wrapper(*args, **kwargs):\n            if is_active(window_title_substring):\n                return func(*args, **kwargs)\n\n        return wrapper\n\n    return decorator\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.window.callables.is_active","title":"window.is_active","text":"<pre><code>is_active(window_title_substring: str) -&gt; bool\n</code></pre> <p>Check if a window with the specified title substring is currently active.</p> <p>Parameters:</p> Name Type Description Default <code>window_title_substring</code> <code>str</code> <p>Substring to search for in window titles.</p> required <p>Returns:</p> Type Description <code>bool</code> <p>True if the window is active, False otherwise.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; if is_active(\"notepad\"):\n...     print(\"Notepad is the active window\")\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/window/callables.py</code> <pre><code>def is_active(window_title_substring: str) -&gt; bool:\n    \"\"\"\n    Check if a window with the specified title substring is currently active.\n\n    Args:\n        window_title_substring: Substring to search for in window titles.\n\n    Returns:\n        True if the window is active, False otherwise.\n\n    Examples:\n        &gt;&gt;&gt; if is_active(\"notepad\"):\n        ...     print(\"Notepad is the active window\")\n    \"\"\"\n    try:\n        window = get_window_by_title(window_title_substring)\n    except ValueError:\n        return False\n    active = get_active_window()\n    return active is not None and active.hWnd == window.hWnd\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.window.callables.make_active","title":"window.make_active","text":"<pre><code>make_active(window_title_substring: str) -&gt; None\n</code></pre> <p>Bring a window to the foreground and make it active.</p> <p>Parameters:</p> Name Type Description Default <code>window_title_substring</code> <code>str</code> <p>Substring to search for in window titles.</p> required <p>Raises:</p> Type Description <code>ValueError</code> <p>If no window with matching title is found.</p> <code>NotImplementedError</code> <p>If the operation is not supported on the current OS.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; make_active(\"notepad\")  # Brings notepad window to front\n</code></pre> Source code in <code>projects/owa-env-desktop/owa/env/desktop/window/callables.py</code> <pre><code>def make_active(window_title_substring: str) -&gt; None:\n    \"\"\"\n    Bring a window to the foreground and make it active.\n\n    Args:\n        window_title_substring: Substring to search for in window titles.\n\n    Raises:\n        ValueError: If no window with matching title is found.\n        NotImplementedError: If the operation is not supported on the current OS.\n\n    Examples:\n        &gt;&gt;&gt; make_active(\"notepad\")  # Brings notepad window to front\n    \"\"\"\n\n    os_name = platform.system()\n    if os_name == \"Windows\":\n        import pygetwindow as gw\n\n        windows = gw.getWindowsWithTitle(window_title_substring)\n        if not windows:\n            raise ValueError(f\"No window with title containing '{window_title_substring}' found.\")\n\n        # Temporal workaround to deal with `cmd`'s behavior: it setup own title as the command it running.\n        # e.g. `owl window find abcd` will always find `cmd` window itself running command.\n        if \"Conda\" in windows[0].title:\n            windows.pop(0)\n\n        window = windows[0]  # NOTE: only return the first window matching the title\n        window.activate()\n    else:\n        raise NotImplementedError(f\"Activation not implemented for this OS: {os_name}\")\n</code></pre>"},{"location":"env/plugins/desktop/#desktop-listeners","title":"Listeners","text":"<p>Usage: To use listener components, import <code>LISTENERS</code> from <code>owa.core</code> and call the <code>configure()</code> method with a <code>callback</code> function:</p> <pre><code>from owa.core import LISTENERS\n\n# Configure a listener component (replace 'component_name' with actual name)\nlistener = LISTENERS[\"desktop/component_name\"]\nlistener.configure(callback=my_callback, your_other_arguments)\n\n# Use the listener in a context manager\nwith listener.session as active_listener:\n    # The listener is now running and will call my_callback when events occur\n    pass  # Your main code here</code></pre> <p>Note: The <code>callback</code> argument is required. The <code>on_configure()</code> method shown in the documentation is an internal method called by <code>configure()</code>.</p>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.listeners.KeyboardListenerWrapper","title":"keyboard","text":"<p>               Bases: <code>Listener</code></p> <p>Keyboard event listener that captures key press and release events.</p> <p>This listener wraps pynput's KeyboardListener to provide keyboard event monitoring with OWA's listener interface.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; def on_key_event(event):\n...     print(f\"Key {event.vk} was {event.event_type}\")\n&gt;&gt;&gt; listener = KeyboardListenerWrapper().configure(callback=on_key_event)\n&gt;&gt;&gt; listener.start()\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.listeners.MouseListenerWrapper","title":"mouse","text":"<p>               Bases: <code>Listener</code></p> <p>Mouse event listener that captures mouse movement, clicks, and scroll events.</p> <p>This listener wraps pynput's MouseListener to provide mouse event monitoring with OWA's listener interface.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; def on_mouse_event(event):\n...     print(f\"Mouse {event.event_type} at ({event.x}, {event.y})\")\n&gt;&gt;&gt; listener = MouseListenerWrapper().configure(callback=on_mouse_event)\n&gt;&gt;&gt; listener.start()\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.listeners.RawMouseListener","title":"raw_mouse","text":"<p>               Bases: <code>Listener</code></p> <p>Raw mouse input listener using Windows WM_INPUT messages.</p> <p>This listener captures high-definition mouse movement data directly from the HID stack, bypassing Windows pointer acceleration and screen resolution limits. Provides sub-pixel precision and unfiltered input data essential for gaming and precision applications.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; def on_raw_mouse_event(event):\n...     print(f\"Raw mouse: dx={event.dx}, dy={event.dy}, flags={event.button_flags}\")\n&gt;&gt;&gt; listener = RawMouseListener().configure(callback=on_raw_mouse_event)\n&gt;&gt;&gt; listener.start()\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.listeners.RawMouseListener.on_configure","title":"on_configure","text":"<pre><code>on_configure()\n</code></pre> <p>Initialize the raw input capture system.</p> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/listeners.py</code> <pre><code>def on_configure(self):\n    \"\"\"Initialize the raw input capture system.\"\"\"\n    self.raw_input_capture = RawInputCapture()\n    self.raw_input_capture.register_callback(self._on_raw_mouse_event)\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.listeners.RawMouseListener.loop","title":"loop","text":"<pre><code>loop(stop_event, callback)\n</code></pre> <p>Start the raw input capture loop.</p> Source code in <code>projects/owa-env-desktop/owa/env/desktop/keyboard_mouse/listeners.py</code> <pre><code>def loop(self, stop_event, callback):\n    \"\"\"Start the raw input capture loop.\"\"\"\n    # Store the callback for use in the raw input callback\n    self._current_callback = callback\n\n    if not self.raw_input_capture.start():\n        raise RuntimeError(\"Failed to start raw input capture\")\n\n    # Keep the loop running while the capture is active\n    try:\n        # The Windows message loop in raw_input_capture handles events efficiently\n        # We just need to wait for the stop event without artificial delays\n        stop_event.wait()\n    finally:\n        self.raw_input_capture.stop()\n        self._current_callback = None\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.listeners.KeyboardStateListener","title":"keyboard_state","text":"<p>               Bases: <code>Listener</code></p> <p>Periodically reports the current keyboard state.</p> <p>This listener calls the callback function every second with the current keyboard state, including which keys are currently pressed.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; def on_keyboard_state(state):\n...     if state.buttons:\n...         print(f\"Keys pressed: {state.buttons}\")\n&gt;&gt;&gt; listener = KeyboardStateListener().configure(callback=on_keyboard_state)\n&gt;&gt;&gt; listener.start()\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.keyboard_mouse.listeners.MouseStateListener","title":"mouse_state","text":"<p>               Bases: <code>Listener</code></p> <p>Periodically reports the current mouse state.</p> <p>This listener calls the callback function every second with the current mouse state, including position and pressed buttons.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; def on_mouse_state(state):\n...     print(f\"Mouse at ({state.x}, {state.y}), buttons: {state.buttons}\")\n&gt;&gt;&gt; listener = MouseStateListener().configure(callback=on_mouse_state)\n&gt;&gt;&gt; listener.start()\n</code></pre>"},{"location":"env/plugins/desktop/#owa.env.desktop.window.listeners.WindowListener","title":"window","text":"<p>               Bases: <code>Listener</code></p> <p>Periodically monitors and reports the currently active window.</p> <p>This listener calls the callback function every second with information about the currently active window, including title, position, and handle.</p> <p>Examples:</p> <p>Monitor active window changes:</p> <pre><code>&gt;&gt;&gt; def on_window_change(window):\n...     if window:\n...         print(f\"Active window: {window.title}\")\n&gt;&gt;&gt;\n&gt;&gt;&gt; listener = WindowListener().configure(callback=on_window_change)\n&gt;&gt;&gt; listener.start()\n&gt;&gt;&gt; # ... listener runs in background ...\n&gt;&gt;&gt; listener.stop()\n&gt;&gt;&gt; listener.join()\n</code></pre> <p>Track window focus for automation:</p> <pre><code>&gt;&gt;&gt; def track_focus(window):\n...     if window and \"notepad\" in window.title.lower():\n...         print(\"Notepad is now active!\")\n&gt;&gt;&gt;\n&gt;&gt;&gt; listener = WindowListener().configure(callback=track_focus)\n&gt;&gt;&gt; listener.start()\n</code></pre>"},{"location":"env/plugins/gst/","title":"Gstreamer Environment","text":"<p>To see detailed implementation, skim over owa_env_gst. API Docs is being written WIP.</p>"},{"location":"env/plugins/gst/#examples","title":"Examples","text":"<ul> <li> <p>example of <code>gst/screen</code> listener     <pre><code>from owa.core.registry import LISTENERS\nimport cv2\nimport numpy as np\n\n# Components automatically available - no activation needed!\n\n# Define a callback to process frames\ndef process_frame(frame):\n    # Display the frame\n    cv2.imshow(\"Screen Capture\", frame.frame_arr)\n    cv2.waitKey(1)\n\n# Create and configure the listener\nscreen = LISTENERS[\"gst/screen\"]().configure(\n    callback=process_frame,\n    fps=30,\n    show_cursor=True\n)\n\n# Run the screen capture\nwith screen.session:\n    input(\"Press Enter to stop\")\n</code></pre></p> <p>For performance metrics: <pre><code>def process_with_metrics(frame, metrics):\n    print(f\"FPS: {metrics.fps:.2f}, Latency: {metrics.latency*1000:.2f} ms\")\n    cv2.imshow(\"Screen\", frame.frame_arr)\n    cv2.waitKey(1)\n\nscreen.configure(callback=process_with_metrics)\n</code></pre></p> </li> <li> <p>example of <code>gst/screen_capture</code> runnable     <pre><code>from owa.core.registry import RUNNABLES\n\n# Components automatically available - no activation needed!\nscreen_capture = RUNNABLES[\"gst/screen_capture\"]().configure(fps=60)\n\nwith screen_capture.session:\n    for _ in range(10):\n        frame = screen_capture.grab()\n        print(f\"Shape: {frame.frame_arr.shape}\")\n</code></pre></p> </li> </ul>"},{"location":"env/plugins/gst/#known-issues","title":"Known Issues","text":"<ul> <li>Currently, we only supports Windows OS. Other OS support is in TODO-list, but it's priority is not high.</li> <li> <p>Currently, we only supports device with NVIDIA GPU. This is also in TODO-list, it's priority is higher than multi-OS support.</p> </li> <li> <p>When capturing some screen with <code>WGC</code>(Windows Graphics Capture API, it's being activate when you specify window handle), and with some desktop(not all), below issues are observed.</p> <ul> <li>maximum FPS can't exceed maximum Hz of physical monitor.</li> <li>When capturing <code>Windows Terminal</code> and <code>Discord</code>, the following case was reported. I also guess this phenomena is because of usage of <code>WGC</code>.<ul> <li>When there's no change in window, FPS drops to 1-5 frame.</li> <li>When there's change(e.g. mouse movement) in window, FPS straightly recovers to 60+.</li> </ul> </li> </ul> </li> </ul>"},{"location":"env/plugins/gst/#auto-generated-documentation","title":"Auto-generated documentation","text":""},{"location":"env/plugins/gst/#gst","title":"gst plugin 0.3.9.post1","text":"<p>High-performance GStreamer-based screen capture and recording plugin</p> <p>Author: OWA Development Team</p>"},{"location":"env/plugins/gst/#gst-listeners","title":"Listeners","text":"<p>Usage: To use listener components, import <code>LISTENERS</code> from <code>owa.core</code> and call the <code>configure()</code> method with a <code>callback</code> function:</p> <pre><code>from owa.core import LISTENERS\n\n# Configure a listener component (replace 'component_name' with actual name)\nlistener = LISTENERS[\"gst/component_name\"]\nlistener.configure(callback=my_callback, your_other_arguments)\n\n# Use the listener in a context manager\nwith listener.session as active_listener:\n    # The listener is now running and will call my_callback when events occur\n    pass  # Your main code here</code></pre> <p>Note: The <code>callback</code> argument is required. The <code>on_configure()</code> method shown in the documentation is an internal method called by <code>configure()</code>.</p>"},{"location":"env/plugins/gst/#owa.env.gst.screen.listeners.ScreenListener","title":"screen","text":"<p>               Bases: <code>GstPipelineRunner</code></p> <p>High-performance GStreamer-based screen capture listener for real-time frame processing.</p> <p>Captures screen content and delivers frames to a callback function. Can capture specific windows, monitors, or the entire screen.</p> <p>Example: <pre><code>from owa.core.registry import LISTENERS\nimport cv2\nimport numpy as np\n\n# Define a callback to process frames\ndef process_frame(frame):\n    # Display the frame\n    cv2.imshow(\"Screen Capture\", frame.frame_arr)\n    cv2.waitKey(1)\n\n# Create and configure the listener\nscreen = LISTENERS[\"screen\"]().configure(\n    callback=process_frame,\n    fps=30,\n    show_cursor=True\n)\n\n# Run the screen capture\nwith screen.session:\n    input(\"Press Enter to stop\")\n</code></pre></p> <p>For performance metrics: <pre><code>def process_with_metrics(frame, metrics):\n    print(f\"FPS: {metrics.fps:.2f}, Latency: {metrics.latency*1000:.2f} ms\")\n    cv2.imshow(\"Screen\", frame.frame_arr)\n    cv2.waitKey(1)\n\nscreen.configure(callback=process_with_metrics)\n</code></pre></p>"},{"location":"env/plugins/gst/#owa.env.gst.screen.listeners.ScreenListener.on_configure","title":"on_configure","text":"<pre><code>on_configure(\n    *,\n    callback: Callable,\n    show_cursor: bool = True,\n    fps: float = 60,\n    window_name: str | None = None,\n    monitor_idx: int | None = None,\n    additional_properties: dict | None = None,\n) -&gt; bool\n</code></pre> <p>Configure the GStreamer pipeline for screen capture.</p> <p>Other Parameters:</p> Name Type Description <code>callback</code> <code>Callable</code> <p>Function to call with each captured frame</p> <code>show_cursor</code> <code>bool</code> <p>Whether to show the cursor in the capture.</p> <code>fps</code> <code>float</code> <p>Frames per second.</p> <code>window_name</code> <code>str | None</code> <p>(Optional) specific window to capture.</p> <code>monitor_idx</code> <code>int | None</code> <p>(Optional) specific monitor index.</p> <code>additional_properties</code> <code>dict | None</code> <p>(Optional) additional arguments to pass to the pipeline.</p> Source code in <code>projects/owa-env-gst/owa/env/gst/screen/listeners.py</code> <pre><code>def on_configure(\n    self,\n    *,\n    callback: Callable,\n    show_cursor: bool = True,\n    fps: float = 60,\n    window_name: str | None = None,\n    monitor_idx: int | None = None,\n    additional_properties: dict | None = None,\n) -&gt; bool:\n    \"\"\"\n    Configure the GStreamer pipeline for screen capture.\n\n    Keyword Arguments:\n        callback: Function to call with each captured frame\n        show_cursor (bool): Whether to show the cursor in the capture.\n        fps (float): Frames per second.\n        window_name (str | None): (Optional) specific window to capture.\n        monitor_idx (int | None): (Optional) specific monitor index.\n        additional_properties (dict | None): (Optional) additional arguments to pass to the pipeline.\n    \"\"\"\n    # Construct the pipeline description\n    pipeline_description = screen_capture_pipeline(\n        show_cursor=show_cursor,\n        fps=fps,\n        window_name=window_name,\n        monitor_idx=monitor_idx,\n        additional_properties=additional_properties,\n    )\n    logger.debug(f\"Constructed pipeline: {pipeline_description}\")\n    super().on_configure(pipeline_description)\n\n    wrapped_callback = build_screen_callback(callback)\n    self.register_appsink_callback(wrapped_callback)\n</code></pre>"},{"location":"env/plugins/gst/#owa.env.gst.omnimodal.appsink_recorder.AppsinkRecorder","title":"omnimodal.appsink_recorder","text":"<p>               Bases: <code>GstPipelineRunner</code></p> <p>High-performance screen recorder using GStreamer appsink for real-time processing.</p> <p>This recorder captures screen content and saves it to a file while providing real-time frame notifications through a callback mechanism. It supports hardware acceleration and various output formats.</p> <p>Examples:</p> <p>Basic screen recording to file:</p> <pre><code>&gt;&gt;&gt; def on_frame(screen_data):\n...     print(f\"Recording frame at {screen_data.utc_ns}\")\n&gt;&gt;&gt;\n&gt;&gt;&gt; recorder = AppsinkRecorder()\n&gt;&gt;&gt; recorder.configure(\n...     filesink_location=\"output.mkv\",\n...     callback=on_frame\n... )\n&gt;&gt;&gt; recorder.start()\n</code></pre> <p>Recording with custom resolution:</p> <pre><code>&gt;&gt;&gt; recorder.configure(\n...     filesink_location=\"recording.mkv\",\n...     callback=my_callback,\n...     width=1920,\n...     height=1080\n... )\n</code></pre>"},{"location":"env/plugins/gst/#owa.env.gst.omnimodal.appsink_recorder.AppsinkRecorder.on_configure","title":"on_configure","text":"<pre><code>on_configure(\n    filesink_location: str,\n    *args: Any,\n    callback: Callable,\n    **kwargs: Any,\n) -&gt; None\n</code></pre> <p>Configure the appsink recorder with output location and callback.</p> <p>Parameters:</p> Name Type Description Default <code>filesink_location</code> <code>str</code> <p>Path where the recording will be saved.</p> required <code>*args</code> <code>Any</code> <p>Additional positional arguments for pipeline configuration.</p> <code>()</code> <code>callback</code> <code>Callable</code> <p>Function to call for each recorded frame.</p> required <code>**kwargs</code> <code>Any</code> <p>Additional keyword arguments for pipeline configuration.</p> <code>{}</code> <p>Returns:</p> Name Type Description <code>None</code> <code>None</code> <p>Configuration is applied to the recorder instance.</p> Source code in <code>projects/owa-env-gst/owa/env/gst/omnimodal/appsink_recorder.py</code> <pre><code>def on_configure(self, filesink_location: str, *args: Any, callback: Callable, **kwargs: Any) -&gt; None:\n    \"\"\"\n    Configure the appsink recorder with output location and callback.\n\n    Args:\n        filesink_location: Path where the recording will be saved.\n        *args: Additional positional arguments for pipeline configuration.\n        callback: Function to call for each recorded frame.\n        **kwargs: Additional keyword arguments for pipeline configuration.\n\n    Returns:\n        None: Configuration is applied to the recorder instance.\n    \"\"\"\n    # if filesink_location does not exist, create it and warn the user\n    if not Path(filesink_location).parent.exists():\n        Path(filesink_location).parent.mkdir(parents=True, exist_ok=True)\n        logger.warning(f\"Output directory {filesink_location} does not exist. Creating it.\")\n\n    # convert to posix path. this is required for gstreamer executable.\n    filesink_location = Path(filesink_location).as_posix()\n\n    pipeline_description = appsink_recorder_pipeline(filesink_location, *args, **kwargs)\n    logger.debug(f\"Constructed pipeline: {pipeline_description}\")\n    super().on_configure(pipeline_description)\n\n    identity = self.pipeline.get_by_name(\"ts\")\n\n    notified_shape = None\n\n    def parse_shape_from_scale():\n        \"\"\"Parse the shape from the d3d11scale element.\"\"\"\n        scale = self.pipeline.get_by_name(\"d3d11scale0\")\n        # Get the source and sink capabilities\n        sink_caps = scale.get_static_pad(\"sink\").get_current_caps()\n        src_caps = scale.get_static_pad(\"src\").get_current_caps()\n        if sink_caps and src_caps:\n            sink_structure = sink_caps.get_structure(0)\n            src_structure = src_caps.get_structure(0)\n            return (sink_structure.get_value(\"width\"), sink_structure.get_value(\"height\")), (\n                src_structure.get_value(\"width\"),\n                src_structure.get_value(\"height\"),\n            )\n        logger.warning(\"Failed to get sink or source capabilities.\")\n        return None, None\n\n    def buffer_probe_callback(pad: Gst.Pad, info: Gst.PadProbeInfo):\n        \"\"\"Callback function to handle buffer probe events.\"\"\"\n\n        nonlocal notified_shape\n        buf = info.get_buffer()\n        frame_time_ns = time.time_ns()\n\n        clock = self.pipeline.get_clock()\n        elapsed = clock.get_time() - self.pipeline.get_base_time()\n        latency = elapsed - buf.pts\n\n        # warn if latency is too high, e.g. &gt; 100ms\n        if latency &gt; 100 * Gst.MSECOND:\n            logger.warning(f\"High latency: {latency / Gst.MSECOND:.2f}ms\")\n\n        original_shape, shape = parse_shape_from_scale()\n        if notified_shape != (original_shape, shape):\n            logger.success(f\"Video's original shape: {original_shape}, rescaled shape: {shape}\")\n            notified_shape = (original_shape, shape)\n\n        # Create ScreenCaptured with external video reference\n        from owa.msgs.desktop.screen import MediaRef\n\n        screen_captured = ScreenCaptured(\n            utc_ns=frame_time_ns,\n            source_shape=original_shape,\n            shape=shape,\n            media_ref=MediaRef(uri=filesink_location, pts_ns=buf.pts),\n        )\n        callback(screen_captured)\n        return Gst.PadProbeReturn.OK\n\n    identity.get_static_pad(\"src\").add_probe(Gst.PadProbeType.BUFFER, buffer_probe_callback)\n    self.enable_fps_display()\n</code></pre>"},{"location":"env/plugins/gst/#gst-runnables","title":"Runnables","text":"<p>Usage: To use runnable components, import <code>RUNNABLES</code> from <code>owa.core</code> and call the <code>configure()</code> method (not <code>on_configure()</code>):</p> <pre><code>from owa.core import RUNNABLES\n\n# Configure a runnable component (replace 'component_name' with actual name)\nrunnable = RUNNABLES[\"gst/component_name\"]\nrunnable.configure(your_arguments)\n\n# Use the runnable in a context manager\nwith runnable.session as active_runnable:\n    # The runnable is now running in the background\n    pass  # Your main code here</code></pre> <p>Note: The <code>on_configure()</code> method shown in the documentation is an internal method called by <code>configure()</code>.</p>"},{"location":"env/plugins/gst/#owa.env.gst.screen.runnable.ScreenCapture","title":"screen_capture","text":"<p>               Bases: <code>ScreenListener</code></p> <p>High-performance screen capture runnable using GStreamer pipeline for continuous frame grabbing.</p> <p>Captures screen frames continuously and makes the latest frame available through a thread-safe interface.</p> <p>Example: <pre><code>from owa.core.registry import RUNNABLES\n\nscreen_capture = RUNNABLES[\"screen_capture\"]().configure(fps=60)\n\nwith screen_capture.session:\n    for _ in range(10):\n        frame = screen_capture.grab()\n        print(f\"Shape: {frame.frame_arr.shape}\")\n</code></pre></p>"},{"location":"env/plugins/gst/#owa.env.gst.screen.runnable.ScreenCapture.on_configure","title":"on_configure","text":"<pre><code>on_configure(*args: Any, **kwargs: Any) -&gt; ScreenCapture\n</code></pre> <p>Configure and start the screen listener.</p> <p>Parameters:</p> Name Type Description Default <code>*args</code> <code>Any</code> <p>Additional positional arguments for screen capture configuration.</p> <code>()</code> <code>fps</code> <code>float</code> <p>Frames per second for capture.</p> required <code>window_name</code> <code>str</code> <p>Window to capture. If None, captures entire screen.</p> required <code>monitor_idx</code> <code>int</code> <p>Monitor index to capture.</p> required <code>**kwargs</code> <code>Any</code> <p>Additional keyword arguments for screen capture configuration.</p> <code>{}</code> <p>Returns:</p> Name Type Description <code>ScreenCapture</code> <code>ScreenCapture</code> <p>Configured screen capture instance.</p> Source code in <code>projects/owa-env-gst/owa/env/gst/screen/runnable.py</code> <pre><code>def on_configure(self, *args: Any, **kwargs: Any) -&gt; \"ScreenCapture\":\n    \"\"\"\n    Configure and start the screen listener.\n\n    Args:\n        *args: Additional positional arguments for screen capture configuration.\n        fps (float): Frames per second for capture.\n        window_name (str, optional): Window to capture. If None, captures entire screen.\n        monitor_idx (int, optional): Monitor index to capture.\n        **kwargs: Additional keyword arguments for screen capture configuration.\n\n    Returns:\n        ScreenCapture: Configured screen capture instance.\n    \"\"\"\n    self.queue = deque(maxlen=1)  # Holds the most recent frame\n    self._event = threading.Event()\n\n    def on_frame(frame):\n        self.queue.append(frame)\n        self._event.set()\n\n    super().on_configure(callback=on_frame, *args, **kwargs)\n    return self\n</code></pre>"},{"location":"env/plugins/gst/#owa.env.gst.screen.runnable.ScreenCapture.grab","title":"grab","text":"<pre><code>grab() -&gt; ScreenCaptured\n</code></pre> <p>Get the most recent frame (blocks until frame is available).</p> <p>Returns:</p> Name Type Description <code>ScreenCaptured</code> <code>ScreenCaptured</code> <p>Latest captured frame with timestamp.</p> <p>Raises:</p> Type Description <code>TimeoutError</code> <p>If no frame is received within 1 second.</p> Source code in <code>projects/owa-env-gst/owa/env/gst/screen/runnable.py</code> <pre><code>def grab(self) -&gt; ScreenCaptured:\n    \"\"\"\n    Get the most recent frame (blocks until frame is available).\n\n    Returns:\n        ScreenCaptured: Latest captured frame with timestamp.\n\n    Raises:\n        TimeoutError: If no frame is received within 1 second.\n    \"\"\"\n    if not self._event.wait(timeout=1.0):\n        raise TimeoutError(\"Timeout waiting for frame\")\n    self._event.clear()\n    return self.queue[0]\n</code></pre>"},{"location":"env/plugins/gst/#owa.env.gst.omnimodal.subprocess_recorder.SubprocessRecorder","title":"omnimodal.subprocess_recorder","text":"<pre><code>SubprocessRecorder(*args, **kwargs)\n</code></pre> <p>               Bases: <code>SubprocessRunner</code></p> <p>High-performance screen and audio recorder using GStreamer subprocess.</p> <p>This recorder runs GStreamer as a subprocess to capture screen content and audio, providing excellent performance and stability for long recordings. Supports various output formats and hardware acceleration.</p> <p>Examples:</p> <p>Basic screen recording with audio:</p> <pre><code>&gt;&gt;&gt; recorder = SubprocessRecorder()\n&gt;&gt;&gt; recorder.configure(\n...     filesink_location=\"recording.mkv\",\n...     record_audio=True,\n...     record_video=True,\n...     fps=30\n... )\n&gt;&gt;&gt; recorder.start()\n&gt;&gt;&gt; # ... recording runs in background ...\n&gt;&gt;&gt; recorder.stop()\n</code></pre> <p>Video-only recording with custom settings:</p> <pre><code>&gt;&gt;&gt; recorder.configure(\n...     filesink_location=\"video_only.mp4\",\n...     record_audio=False,\n...     record_video=True,\n...     fps=60,\n...     show_cursor=False\n... )\n</code></pre> Source code in <code>projects/owa-core/owa/core/runnable.py</code> <pre><code>def __init__(self, *args, **kwargs):\n    \"\"\"\n    Initialize a new RunnableThread. Whole arguments are passed to threading.Thread.\n\n    To configure the runnable, write your own on_configure method instead.\n    \"\"\"\n    super().__init__(*args, **kwargs)\n    self._stop_event = threading.Event()\n</code></pre>"},{"location":"env/plugins/gst/#owa.env.gst.omnimodal.subprocess_recorder.SubprocessRecorder.on_configure","title":"on_configure","text":"<pre><code>on_configure(\n    filesink_location: str,\n    record_audio: bool = True,\n    record_video: bool = True,\n    record_timestamp: bool = True,\n    enable_fpsdisplaysink: bool = True,\n    show_cursor: bool = True,\n    fps: float = 60,\n    window_name: Optional[str] = None,\n    monitor_idx: Optional[int] = None,\n    additional_properties: Optional[dict] = None,\n) -&gt; None\n</code></pre> <p>Prepare the GStreamer pipeline command for subprocess recording.</p> <p>Parameters:</p> Name Type Description Default <code>filesink_location</code> <code>str</code> <p>Path where the recording will be saved.</p> required <code>record_audio</code> <code>bool</code> <p>Whether to include audio in the recording.</p> <code>True</code> <code>record_video</code> <code>bool</code> <p>Whether to include video in the recording.</p> <code>True</code> <code>record_timestamp</code> <code>bool</code> <p>Whether to include timestamp information.</p> <code>True</code> <code>enable_fpsdisplaysink</code> <code>bool</code> <p>Whether to enable FPS display during recording.</p> <code>True</code> <code>show_cursor</code> <code>bool</code> <p>Whether to show the cursor in the recording.</p> <code>True</code> <code>fps</code> <code>float</code> <p>Frames per second for video recording.</p> <code>60</code> <code>window_name</code> <code>Optional[str]</code> <p>Specific window to record (optional).</p> <code>None</code> <code>monitor_idx</code> <code>Optional[int]</code> <p>Monitor index to record from (optional).</p> <code>None</code> <code>additional_properties</code> <code>Optional[dict]</code> <p>Additional pipeline properties (optional).</p> <code>None</code> <p>Returns:</p> Name Type Description <code>None</code> <code>None</code> <p>Configuration is stored internally for subprocess execution.</p> Source code in <code>projects/owa-env-gst/owa/env/gst/omnimodal/subprocess_recorder.py</code> <pre><code>def on_configure(\n    self,\n    filesink_location: str,\n    record_audio: bool = True,\n    record_video: bool = True,\n    record_timestamp: bool = True,\n    enable_fpsdisplaysink: bool = True,\n    show_cursor: bool = True,\n    fps: float = 60,\n    window_name: Optional[str] = None,\n    monitor_idx: Optional[int] = None,\n    additional_properties: Optional[dict] = None,\n) -&gt; None:\n    \"\"\"\n    Prepare the GStreamer pipeline command for subprocess recording.\n\n    Args:\n        filesink_location: Path where the recording will be saved.\n        record_audio: Whether to include audio in the recording.\n        record_video: Whether to include video in the recording.\n        record_timestamp: Whether to include timestamp information.\n        enable_fpsdisplaysink: Whether to enable FPS display during recording.\n        show_cursor: Whether to show the cursor in the recording.\n        fps: Frames per second for video recording.\n        window_name: Specific window to record (optional).\n        monitor_idx: Monitor index to record from (optional).\n        additional_properties: Additional pipeline properties (optional).\n\n    Returns:\n        None: Configuration is stored internally for subprocess execution.\n    \"\"\"\n\n    # if filesink_location does not exist, create it and warn the user\n    if not Path(filesink_location).parent.exists():\n        Path(filesink_location).parent.mkdir(parents=True, exist_ok=True)\n        logger.warning(f\"Output directory {filesink_location} does not exist. Creating it.\")\n\n    # convert to posix path. this is required for gstreamer executable.\n    filesink_location = Path(filesink_location).as_posix()\n\n    pipeline_description = subprocess_recorder_pipeline(\n        filesink_location=filesink_location,\n        record_audio=record_audio,\n        record_video=record_video,\n        record_timestamp=record_timestamp,\n        enable_fpsdisplaysink=enable_fpsdisplaysink,\n        show_cursor=show_cursor,\n        fps=fps,\n        window_name=window_name,\n        monitor_idx=monitor_idx,\n        additional_properties=additional_properties,\n    )\n\n    super().on_configure(f\"gst-launch-1.0.exe -e -v {pipeline_description}\".split())\n</code></pre>"},{"location":"env/plugins/std/","title":"Standard Environment Plugin","text":"<p>The Standard Environment plugin (<code>owa.env.std</code>) is a core component of the Open World Agents framework. It provides essential functionalities related to time management and clock operations, which are fundamental for various time-based tasks and event scheduling within the system.</p>"},{"location":"env/plugins/std/#features","title":"Features","text":"<ul> <li>Time Functions: The plugin registers functions like <code>std/time_ns</code> that return the current time in nanoseconds.</li> <li>Tick Listener: It includes a <code>std/tick</code> listener that can be configured to execute callbacks at specified intervals.</li> </ul>"},{"location":"env/plugins/std/#usage","title":"Usage","text":"<p>The Standard Environment plugin is automatically available when you install <code>owa-core</code>. No manual activation needed!</p> <pre><code># Components automatically available after installation\nfrom owa.core.registry import CALLABLES, LISTENERS\n</code></pre> <p>You can access the registered functions and listeners via the global registries using the unified <code>namespace/name</code> pattern:</p> <pre><code>from owa.core.registry import CALLABLES, LISTENERS\n\n# Get the current time in nanoseconds\ncurrent_time_ns = CALLABLES[\"std/time_ns\"]()\nprint(f\"Current time (ns): {current_time_ns}\")\n\n# Configure and start a tick listener\ndef on_tick():\n    print(f\"Tick at {CALLABLES['std/time_ns']()}\")\n\ntick_listener = LISTENERS[\"std/tick\"]()\ntick_listener.configure(callback=on_tick, interval=1)  # Tick every second\ntick_listener.start()\n\n# Run for a few seconds to see the tick listener in action\nimport time\ntime.sleep(5)\n\n# Stop the tick listener\ntick_listener.stop()\ntick_listener.join()\n</code></pre>"},{"location":"env/plugins/std/#components","title":"Components","text":""},{"location":"env/plugins/std/#time-functions","title":"Time Functions","text":"<ul> <li><code>std/time_ns</code>: Returns the current time in nanoseconds. This function is registered in the <code>CALLABLES</code> registry.</li> </ul>"},{"location":"env/plugins/std/#tick-listener","title":"Tick Listener","text":"<ul> <li><code>std/tick</code>: A listener that triggers a callback at specified intervals. This listener is registered in the <code>LISTENERS</code> registry and can be configured with an interval in seconds.</li> </ul>"},{"location":"env/plugins/std/#example","title":"Example","text":"<p>Here is a complete example demonstrating how to use the Standard Environment plugin:</p> <pre><code>from owa.core.registry import CALLABLES, LISTENERS\n\n# Components automatically available - no activation needed!\n\n# Print the current time in nanoseconds\nprint(CALLABLES[\"std/time_ns\"]())\n\n# Define a callback function for the tick listener\ndef tick_callback():\n    print(f\"Tick at {CALLABLES['std/time_ns']()}\")\n\n# Configure and start the tick listener\ntick_listener = LISTENERS[\"std/tick\"]().configure(callback=tick_callback, interval=1)\ntick_listener.start()\n\n# Let the listener run for 5 seconds\nimport time\ntime.sleep(5)\n\n# Stop the tick listener\ntick_listener.stop()\ntick_listener.join()\n</code></pre> <p>This example demonstrates how to use the automatically available components, retrieve the current time, and set up a tick listener that prints the current time every second.</p> <p>The Standard Environment plugin is a fundamental part of the Open World Agents framework, providing essential time-based functionalities that can be leveraged by other modules and applications.</p>"},{"location":"env/plugins/std/#auto-generated-documentation","title":"Auto-generated documentation","text":""},{"location":"env/plugins/std/#std","title":"std plugin 0.1.0","text":"<p>Standard system components for OWA</p> <p>Author: OWA Development Team</p>"},{"location":"env/plugins/std/#std-callables","title":"Callables","text":"<p>Usage: To use callable components, import <code>CALLABLES</code> from <code>owa.core</code> and access them by their component name:</p> <pre><code>from owa.core import CALLABLES\n\n# Access a callable component (replace 'component_name' with actual name)\ncallable_func = CALLABLES[\"std/component_name\"]\nresult = callable_func(your_arguments)</code></pre>"},{"location":"env/plugins/std/#owa.env.std.clock.time_ns","title":"time_ns","text":"<pre><code>time_ns() -&gt; int\n</code></pre> <p>Return the current time in nanoseconds since the Unix epoch.</p> <p>This function provides high-precision timing for OWA components, useful for performance measurement and precise scheduling.</p> <p>Returns:</p> Name Type Description <code>int</code> <code>int</code> <p>Current time in nanoseconds since Unix epoch (January 1, 1970)</p> <p>Examples:</p> <p>Get current timestamp:</p> <pre><code>&gt;&gt;&gt; current_time = time_ns()\n&gt;&gt;&gt; print(f\"Current time: {current_time}\")\n</code></pre> <p>Measure execution time:</p> <pre><code>&gt;&gt;&gt; start = time_ns()\n&gt;&gt;&gt; # ... some operation ...\n&gt;&gt;&gt; duration = time_ns() - start\n&gt;&gt;&gt; print(f\"Operation took {duration} nanoseconds\")\n</code></pre> Source code in <code>projects/owa-core/owa/env/std/clock.py</code> <pre><code>def time_ns() -&gt; int:\n    \"\"\"\n    Return the current time in nanoseconds since the Unix epoch.\n\n    This function provides high-precision timing for OWA components,\n    useful for performance measurement and precise scheduling.\n\n    Returns:\n        int: Current time in nanoseconds since Unix epoch (January 1, 1970)\n\n    Examples:\n        Get current timestamp:\n\n        &gt;&gt;&gt; current_time = time_ns()\n        &gt;&gt;&gt; print(f\"Current time: {current_time}\")\n\n        Measure execution time:\n\n        &gt;&gt;&gt; start = time_ns()\n        &gt;&gt;&gt; # ... some operation ...\n        &gt;&gt;&gt; duration = time_ns() - start\n        &gt;&gt;&gt; print(f\"Operation took {duration} nanoseconds\")\n    \"\"\"\n    return time.time_ns()\n</code></pre>"},{"location":"env/plugins/std/#std-listeners","title":"Listeners","text":"<p>Usage: To use listener components, import <code>LISTENERS</code> from <code>owa.core</code> and call the <code>configure()</code> method with a <code>callback</code> function:</p> <pre><code>from owa.core import LISTENERS\n\n# Configure a listener component (replace 'component_name' with actual name)\nlistener = LISTENERS[\"std/component_name\"]\nlistener.configure(callback=my_callback, your_other_arguments)\n\n# Use the listener in a context manager\nwith listener.session as active_listener:\n    # The listener is now running and will call my_callback when events occur\n    pass  # Your main code here</code></pre> <p>Note: The <code>callback</code> argument is required. The <code>on_configure()</code> method shown in the documentation is an internal method called by <code>configure()</code>.</p>"},{"location":"env/plugins/std/#owa.env.std.clock.ClockTickListener","title":"tick","text":"<p>               Bases: <code>Listener</code></p> <p>A listener that triggers callbacks at regular intervals.</p> <p>This listener provides precise timing for periodic tasks in OWA, supporting configurable intervals and automatic callback execution.</p> <p>Examples:</p> <p>Basic usage with 1-second interval:</p> <pre><code>&gt;&gt;&gt; def on_tick():\n...     print(f\"Tick at {time_ns()}\")\n&gt;&gt;&gt;\n&gt;&gt;&gt; listener = ClockTickListener()\n&gt;&gt;&gt; listener.configure(callback=on_tick, interval=1)\n&gt;&gt;&gt; listener.start()\n&gt;&gt;&gt; # ... listener runs in background ...\n&gt;&gt;&gt; listener.stop()\n&gt;&gt;&gt; listener.join()\n</code></pre> <p>Custom interval timing:</p> <pre><code>&gt;&gt;&gt; listener = ClockTickListener()\n&gt;&gt;&gt; listener.configure(callback=my_callback, interval=0.5)  # 500ms\n&gt;&gt;&gt; listener.start()\n</code></pre>"},{"location":"env/plugins/std/#owa.env.std.clock.ClockTickListener.on_configure","title":"on_configure","text":"<pre><code>on_configure(*, interval: float = 1)\n</code></pre> <p>Configure the tick interval for the listener.</p> <p>Parameters:</p> Name Type Description Default <code>interval</code> <code>float</code> <p>Time between ticks in seconds. Defaults to 1.0.</p> <code>1</code> <p>Examples:</p> <p>Configure for 100ms intervals:</p> <pre><code>&gt;&gt;&gt; listener.configure(callback=my_func, interval=0.1)\n</code></pre> Source code in <code>projects/owa-core/owa/env/std/clock.py</code> <pre><code>def on_configure(self, *, interval: float = 1):\n    \"\"\"\n    Configure the tick interval for the listener.\n\n    Args:\n        interval (float): Time between ticks in seconds. Defaults to 1.0.\n\n    Examples:\n        Configure for 100ms intervals:\n\n        &gt;&gt;&gt; listener.configure(callback=my_func, interval=0.1)\n    \"\"\"\n    self.interval = interval * S_TO_NS\n</code></pre>"},{"location":"env/plugins/std/#owa.env.std.clock.ClockTickListener.loop","title":"loop","text":"<pre><code>loop(*, stop_event, callback)\n</code></pre> <p>Main loop that executes callbacks at configured intervals.</p> <p>Parameters:</p> Name Type Description Default <code>stop_event</code> <p>Threading event to signal when to stop</p> required <code>callback</code> <p>Function to call at each tick</p> required Note <p>This method runs in a separate thread and maintains precise timing by accounting for callback execution time.</p> Source code in <code>projects/owa-core/owa/env/std/clock.py</code> <pre><code>def loop(self, *, stop_event, callback):\n    \"\"\"\n    Main loop that executes callbacks at configured intervals.\n\n    Args:\n        stop_event: Threading event to signal when to stop\n        callback: Function to call at each tick\n\n    Note:\n        This method runs in a separate thread and maintains precise timing\n        by accounting for callback execution time.\n    \"\"\"\n    self._last_called = time.time()\n    while not stop_event.is_set():\n        callback()\n        to_sleep = self.interval - (time.time() - self._last_called)\n        if to_sleep &gt; 0:\n            stop_event.wait(to_sleep / S_TO_NS)\n</code></pre>"}]}